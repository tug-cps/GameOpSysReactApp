{"version":3,"sources":["locales lazy /^/.//.*/.json$/ groupOptions: {} namespace object","Login.tsx","Verify.tsx","Logout.tsx","common/DefaultAppBar.tsx","Upload.tsx","User.tsx","Power.tsx","Archive.tsx","Consumers.tsx","Behavior.jsx","Home.tsx","Thermostats.tsx","common/SimpleBottomNavigation.tsx","Routes.tsx","service/BackendService.ts","service/FakeDB.ts","service/Executor.ts","service/FakeBackend.ts","Config.ts","App.tsx","i18n.tsx","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","Login","props","state","shared_password","email","handleSubmit","bind","preventDefault","this","backendService","requestPin","history","push","catch","error","console","log","response","classes","Container","component","maxWidth","className","paper","Avatar","avatar","Typography","variant","form","onSubmit","TextField","label","margin","value","onChange","setState","target","required","fullWidth","autoComplete","Button","type","color","submit","React","Component","withRouter","withStyles","palette","spacing","createStyles","marginTop","display","flexDirection","alignItems","backgroundColor","secondary","main","width","Verify","password","location","login","Logout","useHistory","useEffect","logout","DefaultAppBar","title","AppBar","position","Toolbar","IconButton","edge","menuButton","onClick","go","marginRight","flexGrow","Upload","open","onFormUpload","handleClose","event","files","postConsumption","reason","Grid","container","item","xs","sm","gutterBottom","paragraph","List","name","link","op","ListItem","Link","href","accept","input","htmlFor","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","message","action","Fragment","size","fontSize","User","userId","creationDate","unlockDate","treatmentGroup","consumersCount","language","i18n","getUser","user","getConsumers","consumers","length","ListItemIcon","Icon","ListItemText","FormControl","InputLabel","Select","changeLanguage","MenuItem","Fab","fab","RouterLink","to","extendedIcon","bottom","right","withTranslation","PowerEntry","data","getProcessedConsumption","date","consumptions","c","idx","time","flat","height","autoFit","shape","point","area","Power","dates","getProcessedConsumptions","root","Card","card","CardActionArea","CardContent","ArchiveEntry","predictions","getPrediction","prediction","v","consumerId","Archive","getPredictions","Consumers","consumerName","refresh","disableGutters","list","consumer","role","undefined","button","selectedConsumer","handleClickOpen","primary","ListItemSecondaryAction","putConsumer","active","handleChangeActive","Dialog","DialogTitle","DialogContent","autoFocus","DialogActions","background","formatTime","hours","Array","from","colors","energyAvailable","Behavior","cells","handleChange","Box","overflow","TableContainer","disabled","TableCell","String","style","styles","theme","borderColor","media","minHeight","largeIcon","HomeCard","header","xl","destination","CardMedia","align","icon","noWrap","subtitle","Home","items","index","Thermostats","useStyles","makeStyles","SimpleBottomNavigation","useTranslation","useState","setValue","destinations","Paper","elevation","BottomNavigation","newValue","showLabels","BottomNavigationAction","ReactRouter","isLoggedIn","setIsLoggedIn","subscribe","LinearProgress","_404","path","m","textAlign","exact","process","unpack","BackendService","backend","accessToken","isLoggedInObservable","BehaviorSubject","localStorage","getItem","pipe","token","window","addEventListener","next","sharedPassword","get","params","setItem","removeItem","addAuth","finally","put","consumer_name","consumer_active","file","formData","FormData","append","post","config","headers","Authorization","getFakeDB","db","JSON","stringify","owner","variableName","parse","Executor","reject","status","statusText","request","findInDict","dict","matcher","key","FakeBackend","backendConfig","url","endsWith","ok","split","pop","startsWith","array","elementMatcher","changes","consumerIndex","findIndex","meldArrayElement","saveFakeDB","axios","create","baseURL","apiDescription","createTheme","light","dark","contrastText","Config","App","ThemeProvider","CssBaseline","Suspense","fallback","use","resourcesToBackend","namespace","callback","resources","LanguageDetector","initReactI18next","init","fallbackLng","interpolation","escapeValue","loadPath","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.c5b2edde.chunk.js","sourcesContent":["var map = {\n\t\"./de/translation.json\": [\n\t\t226,\n\t\t3\n\t],\n\t\"./en/translation.json\": [\n\t\t227,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 219;\nmodule.exports = webpackAsyncContext;","import React from 'react';\nimport {Avatar, Button, Container, createStyles, TextField, Theme, Typography, WithStyles} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {RouteComponentProps} from 'react-router-dom';\nimport BackendService from \"./service/BackendService\";\nimport {withRouter} from \"react-router\";\n\nconst styles = ({palette, spacing}: Theme) => createStyles({\n    paper: {\n        marginTop: spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: spacing(1),\n        backgroundColor: palette.secondary.main,\n    },\n    form: {\n        width: '100%',\n        marginTop: spacing(1),\n    },\n    submit: {\n        margin: spacing(3, 0, 2),\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n    backendService: BackendService\n}\n\ninterface State {\n    shared_password: string;\n    email: string;\n}\n\nclass Login extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            shared_password: '',\n            email: ''\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleSubmit(e: React.FormEvent) {\n        e.preventDefault();\n        this.props.backendService\n            .requestPin(this.state.shared_password, this.state.email)\n            .then(() => {this.props.history.push('/verify', {email: this.state.email})})\n            .catch((error) => {console.log(error.response)})\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <Container component=\"main\" maxWidth=\"xs\">\n                <div className={classes.paper}>\n                    <Avatar className={classes.avatar}/>\n                    <Typography component=\"h1\" variant=\"h5\">Sign in</Typography>\n                    <form className={classes.form} onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"shared_password\"\n                            label=\"Shared password\"\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            value={this.state.shared_password}\n                            onChange={(e) => this.setState({shared_password: e.target.value})}\n                            required\n                            fullWidth\n                        />\n                        <TextField\n                            autoComplete=\"email\"\n                            id=\"email\"\n                            label=\"Email address\"\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            value={this.state.email}\n                            onChange={(e) => this.setState({email: e.target.value})}\n                            required\n                            fullWidth\n                        />\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.submit}\n                        >\n                            Send verification code\n                        </Button>\n                    </form>\n                </div>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(withStyles(styles)(Login));\n","import React from 'react';\nimport {\n    Avatar,\n    Button,\n    Container,\n    createStyles,\n    TextField,\n    Theme,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {RouteComponentProps} from \"react-router-dom\";\nimport BackendService from \"./service/BackendService\";\nimport {withRouter} from \"react-router\";\n\nconst styles = ({palette, spacing}: Theme) => createStyles({\n    paper: {\n        marginTop: spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: spacing(1),\n        backgroundColor: palette.secondary.main,\n    },\n    form: {\n        width: '100%',\n        marginTop: spacing(1),\n    },\n    submit: {\n        margin: spacing(3, 0, 2),\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n    backendService: BackendService\n}\n\nclass Verify extends React.Component<Props, { email?: string, password: string }> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            password: ''\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    componentDidMount() {\n        if (this.props.location == null || this.props.location.state == null || this.props.location.state.email == null) {\n            this.props.history.push('/')\n        }\n    }\n\n    handleSubmit(e: React.FormEvent) {\n        const {password} = this.state;\n        const {email} = this.props.location.state;\n\n        e.preventDefault();\n        this.props.backendService\n            .login(email, password)\n            .then(() => {this.props.history.push('/')})\n            .catch((error) => console.log(error))\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <Container component=\"main\" maxWidth=\"xs\">\n                <div className={classes.paper}>\n                    <Avatar className={classes.avatar}/>\n                    <Typography component=\"h1\" variant=\"h5\">Verify</Typography>\n                    <form className={classes.form} onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"otp\"\n                            label=\"Pin\"\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            value={this.state.password}\n                            onChange={(e) => this.setState({password: e.target.value})}\n                            required\n                            fullWidth\n                        />\n                        <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>Log in</Button>\n                    </form>\n                </div>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(withStyles(styles)(Verify));\n","import {useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport BackendService from \"./service/BackendService\";\n\n\nfunction Logout(props: {backendService: BackendService}) {\n    const history = useHistory();\n\n    useEffect(() => {\n        props.backendService\n            .logout()\n            .catch((error) => console.log(error))\n            .then(() => history.push(\"/login\"))\n    });\n\n    return null;\n}\n\nexport default Logout;\n","import {AppBar, createStyles, IconButton, Theme, Toolbar, Typography, WithStyles} from \"@material-ui/core\";\nimport {RouteComponentProps} from \"react-router-dom\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport React from \"react\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport { withRouter } from \"react-router\";\n\nconst styles = ({spacing}: Theme) => createStyles({\n    menuButton: {\n        marginRight: spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n    title: string;\n}\n\nclass DefaultAppBar extends React.Component<Props> {\n    render() {\n        const {title, classes, history} = this.props;\n        return (\n            <AppBar position=\"sticky\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        className={classes.menuButton}\n                        color=\"inherit\"\n                        aria-label=\"back\"\n                        onClick={() => history.go(-1)}\n                    >\n                        <ArrowBackIcon/>\n                    </IconButton>\n                    <Typography variant=\"h6\" className={classes.title}>{title}</Typography>\n                </Toolbar>\n            </AppBar>\n        )\n    }\n}\n\nexport default withStyles(styles)(withRouter(DefaultAppBar));","import React from 'react';\nimport {\n    Button,\n    Container,\n    createStyles,\n    Grid,\n    IconButton,\n    Link,\n    List,\n    ListItem,\n    Snackbar,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport BackendService from \"./service/BackendService\";\n\nconst styles = () => createStyles({\n    input: {\n        display: 'none',\n    },\n});\n\ninterface Operator {\n    name: string;\n    link: string;\n}\n\ninterface Props extends WithStyles<typeof styles> {\n    backendService: BackendService\n}\n\ninterface State {\n    open: boolean\n}\n\nclass Upload extends React.Component<Props, State> {\n\n    constructor(props: Readonly<Props>) {\n        super(props);\n        this.state = {\n            open: false\n        }\n        this.onFormUpload = this.onFormUpload.bind(this)\n        this.handleClose = this.handleClose.bind(this)\n    }\n\n    onFormUpload(event: React.ChangeEvent<HTMLInputElement>) {\n        if (event.target != null && event.target.files != null) {\n            this.props.backendService.postConsumption(event.target.files[0]).then(() => {\n                console.log(\"File uploaded.\")\n                this.setState({open: true})\n            });\n        }\n    }\n\n    handleClose(event: React.SyntheticEvent | React.MouseEvent, reason?: string) {\n        if (reason === 'clickaway') {\n            return;\n        }\n        this.setState({open: false});\n    }\n\n    render() {\n        const operators: Operator[] = [\n            {name: 'Netz Oberösterreich', link: 'https://netz-online.netzgmbh.at/eServiceWeb/main.html'},\n            {name: 'Netz Burgenland', link: 'https://smartmeter.netzburgenland.at'},\n            {name: 'Kärnten Netz', link: 'https://meinportal.kaerntennetz.at/meinPortal/Login.aspx?service=verbrauch'},\n        ]\n\n        const {classes} = this.props;\n        return (\n            <div>\n                <DefaultAppBar title='Upload'/>\n                <Container maxWidth=\"md\">\n                    <Grid container spacing={3}>\n                        <Grid item xs={12} sm={6}>\n                            <Typography variant=\"h5\" gutterBottom>1. Download most recent data</Typography>\n                            <Typography color=\"textSecondary\" paragraph>\n                                Please select your network operator to download the most recent consumption data\n                            </Typography>\n                            <List>\n                                {operators.map((op) => {\n                                    return (\n                                        <ListItem key={op.name}>\n                                            <Typography><Link href={op.link}>{op.name}</Link></Typography>\n                                        </ListItem>\n                                    )\n                                })}\n                            </List>\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <Typography variant=\"h5\" gutterBottom>2. Upload your consumption</Typography>\n                            <Typography color=\"textSecondary\" paragraph>\n                                Please upload the file with the most recent consumptions here\n                            </Typography>\n                            <input accept=\"*/*\" className={classes.input} id=\"input-file\" type=\"file\"\n                                   onChange={this.onFormUpload}/>\n                            <label htmlFor=\"input-file\">\n                                <Button variant=\"contained\" color=\"primary\" fullWidth component=\"span\">Upload</Button>\n                            </label>\n                        </Grid>\n                    </Grid>\n                </Container>\n                <Snackbar\n                    anchorOrigin={{vertical: 'bottom', horizontal: 'left',}}\n                    open={this.state.open}\n                    autoHideDuration={6000}\n                    onClose={this.handleClose}\n                    message=\"File uploaded\"\n                    action={\n                        <React.Fragment>\n                            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={this.handleClose}>\n                                <CloseIcon fontSize=\"small\"/>\n                            </IconButton>\n                        </React.Fragment>\n                    }\n                />\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Upload);\n","import React from 'react';\nimport {\n    Container,\n    createStyles,\n    Fab,\n    FormControl,\n    Icon,\n    InputLabel,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    MenuItem,\n    Select,\n    Theme,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {Link as RouterLink} from \"react-router-dom\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport i18n from \"i18next\";\nimport BackendService from \"./service/BackendService\";\nimport {withTranslation, WithTranslation} from \"react-i18next\";\n\nconst styles = ({spacing}: Theme) => createStyles({\n    fab: {\n        position: 'absolute',\n        bottom: spacing(2),\n        right: spacing(2),\n    },\n    extendedIcon: {\n        marginRight: spacing(1),\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, WithTranslation {\n    backendService: BackendService\n}\n\ninterface State {\n    userId: string\n    email: string\n    type: string\n    creationDate: string\n    unlockDate: string\n    treatmentGroup: string\n    consumersCount: number\n    language: string\n}\n\nclass User extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            userId: '',\n            email: '',\n            type: '',\n            creationDate: '',\n            unlockDate: '',\n            treatmentGroup: '',\n            consumersCount: 0,\n            language: i18n.language\n        };\n    }\n\n    componentDidMount() {\n        const {backendService} = this.props;\n        backendService.getUser()\n            .then((user) => this.setState(user))\n            .catch((error) => {\n                console.log(error)\n            })\n        backendService.getConsumers()\n            .then((consumers) => this.setState({consumersCount: consumers.length}))\n            .catch((error) => {\n                console.log(error)\n            })\n    }\n\n    render() {\n        const {classes, t} = this.props;\n        const state = this.state;\n\n        const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n            i18n.changeLanguage(event.target.value as string).then(() => {\n                this.setState({language: event.target.value as string});\n            })\n        };\n        return (\n            <React.Fragment>\n                <DefaultAppBar title={t('card_user_title')} />\n                <Container maxWidth=\"sm\">\n                    <List>\n                        <ListItem>\n                            <ListItemIcon><Icon>email</Icon></ListItemIcon>\n                            <ListItemText>{state.email}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon><Icon>power</Icon></ListItemIcon>\n                            <ListItemText>{state.consumersCount} consumers</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon><Icon>group</Icon></ListItemIcon>\n                            <ListItemText>{state.treatmentGroup}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon><Icon>access_time</Icon></ListItemIcon>\n                            <ListItemText>Created at {state.creationDate}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon/>\n                            <ListItemText>Unlocked at {state.unlockDate}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon><Icon>language</Icon></ListItemIcon>\n                            <FormControl fullWidth variant=\"outlined\">\n                                <InputLabel>Language</InputLabel>\n                                <Select\n                                    value={state.language}\n                                    label=\"Language\"\n                                    onChange={handleChange}\n                                >\n                                    <MenuItem value={\"de\"}>German</MenuItem>\n                                    <MenuItem value={\"en\"}>English</MenuItem>\n                                </Select>\n                            </FormControl>\n                        </ListItem>\n                    </List>\n                </Container>\n                <Fab variant=\"extended\" color=\"primary\" className={classes.fab} component={RouterLink} to=\"/consumers\">\n                    <Icon className={classes.extendedIcon}>edit</Icon>\n                    {t('edit_consumers')}\n                </Fab>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default withStyles(styles)(withTranslation()(User));\n","import React from 'react';\nimport {\n    Card,\n    CardActionArea,\n    CardContent,\n    Container,\n    createStyles,\n    Theme,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {Chart, LineAdvance} from \"bizcharts\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport BackendService from \"./service/BackendService\";\n\ninterface EntryProps {\n    backendService: BackendService;\n    date: string;\n}\n\ninterface ChartData {\n    type: string;\n    time: number;\n    value: number;\n}\n\ninterface EntryState {\n    data: ChartData[]\n}\n\nclass PowerEntry extends React.Component<EntryProps, EntryState> {\n    constructor(props: Readonly<EntryProps>) {\n        super(props);\n        this.state = {\n            data: []\n        }\n    }\n\n    componentDidMount() {\n        this.props.backendService.getProcessedConsumption(this.props.date).then((consumptions) => {\n            this.setState({\n                data: consumptions.map((c) => {\n                    return c.data.map((value, idx) => {\n                        return {type: c.type, time: idx, value: value}\n                    })\n                }).flat()\n            })\n        })\n    }\n\n    render() {\n        const {data} = this.state;\n        return (\n            <Chart height={300} autoFit data={data}>\n                <LineAdvance\n                    shape=\"smooth\"\n                    point\n                    area\n                    position=\"time*value\"\n                    color=\"type\"\n                />\n            </Chart>\n        )\n    }\n}\n\nconst styles = ({spacing}: Theme) => createStyles({\n    root: {\n        flexGrow: 1,\n    },\n    card: {\n        marginTop: spacing(2)\n    },\n});\n\ninterface Props extends WithStyles<typeof styles> {\n    backendService: BackendService\n}\n\ninterface State {\n    dates: string[]\n}\n\nclass Power extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            dates: []\n        };\n    }\n\n    componentDidMount() {\n        const {backendService} = this.props;\n        backendService.getProcessedConsumptions()\n            .then((response) => this.setState({dates: response}))\n            .catch((reason) => console.log(reason))\n    }\n\n    render() {\n        const {classes} = this.props;\n        const {dates} = this.state;\n        return (\n            <div className={classes.root}>\n                <DefaultAppBar title='Power'/>\n                <Container maxWidth=\"md\">\n                    {dates.map((value) => {\n                        return (\n                            <Card variant=\"outlined\" key={value} className={classes.card}>\n                                <CardActionArea>\n                                    <CardContent>\n                                        <Typography variant=\"h6\">{value}</Typography>\n                                        <PowerEntry date={value} backendService={this.props.backendService}/>\n                                    </CardContent>\n                                </CardActionArea>\n                            </Card>\n                        )\n                    })}\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Power);\n","import React from 'react';\nimport {\n    Card,\n    CardActionArea,\n    CardContent,\n    Container,\n    createStyles,\n    Theme,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport BackendService from \"./service/BackendService\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport {UserPredictionModel} from \"./service/Model\";\n\nclass ArchiveEntry extends React.Component<{ date: string, backendService: BackendService }, { predictions: UserPredictionModel[] }> {\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            predictions: []\n        }\n    }\n\n    componentDidMount() {\n        this.props.backendService.getPrediction(this.props.date).then((prediction) => this.setState({predictions: prediction}))\n    }\n\n    render() {\n        const {date} = this.props;\n        const {predictions} = this.state;\n        return (\n            <Card variant=\"outlined\">\n                <CardActionArea>\n                    <CardContent>\n                        <Typography variant=\"h6\">{date}</Typography>\n                        {predictions.map((prediction) => {\n                            return (\n                                <Typography variant=\"body1\" key={prediction.consumerId}>\n                                    {prediction.data.map((v) => v ? '█' : '░')}\n                                </Typography>\n                            );\n                        })}\n                    </CardContent>\n                </CardActionArea>\n            </Card>\n        )\n    }\n}\n\nconst styles = ({spacing}: Theme) => createStyles({\n    root: {\n        flexGrow: 1,\n    },\n    card: {\n        marginTop: spacing(2)\n    },\n});\n\n\ninterface Props extends WithStyles<typeof styles> {\n    backendService: BackendService\n}\n\ninterface State {\n    dates: string[]\n}\n\nclass Archive extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            dates: []\n        };\n    }\n\n    componentDidMount() {\n        const {backendService} = this.props;\n        backendService.getPredictions()\n            .then((response) => this.setState({dates: response}))\n            .catch((reason) => {console.log(reason)})\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <div className={classes.root}>\n                <DefaultAppBar title='Predictions'/>\n                <Container maxWidth=\"md\">\n                    {this.state.dates.map((value) => {\n                        return (<ArchiveEntry date={value} key={value} backendService={this.props.backendService}/>)\n                    })}\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Archive);\n","import React from 'react';\nimport {\n    Button,\n    Container,\n    createStyles,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    List,\n    ListItem,\n    ListItemSecondaryAction,\n    ListItemText,\n    TextField,\n    Theme,\n    WithStyles\n} from \"@material-ui/core\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport BackendService from \"./service/BackendService\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport {ConsumerModel} from \"./service/Model\";\n\nconst styles = ({palette}: Theme) => createStyles({\n    list: {\n        backgroundColor: palette.background.paper,\n    },\n});\n\n\ninterface Props extends WithStyles<typeof styles> {\n    backendService: BackendService\n}\n\ninterface State {\n    consumers: ConsumerModel[]\n    open: boolean\n    consumerName: string\n    selectedConsumer?: ConsumerModel\n}\n\nclass Consumers extends React.Component<Props, State> {\n\n    constructor(props: Readonly<Props>) {\n        super(props);\n        this.state = {\n            consumers: [],\n            open: false,\n            consumerName: \"\"\n        }\n\n        this.refresh = this.refresh.bind(this);\n    }\n\n    refresh() {\n        const {backendService} = this.props;\n        backendService.getConsumers()\n            .then((consumers) => this.setState({consumers: consumers}))\n            .catch((reason) => {console.log(reason)})\n    }\n\n    componentDidMount() {\n        this.refresh()\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        const handleClickOpen = (consumer: ConsumerModel) => {\n            this.setState({consumerName: consumer.name, selectedConsumer: consumer, open: true})\n        };\n\n        const handleClose = () => {\n            this.setState({open: false})\n        };\n\n        const handleChangeName = () => {\n            const {selectedConsumer, consumerName} = this.state;\n            const {backendService} = this.props;\n            if (selectedConsumer != null) {\n                backendService.putConsumer({...selectedConsumer, name: consumerName})\n                    .then(this.refresh);\n                handleClose();\n            }\n        }\n\n        const handleChangeActive = (consumer: ConsumerModel) => {\n            const {backendService} = this.props;\n            backendService.putConsumer({...consumer, active: !consumer.active})\n                .then(this.refresh);\n        }\n\n        const ConsumerCard = (consumer: ConsumerModel) => {\n            return (\n                <ListItem key={consumer.consumerId} role={undefined} button onClick={() => handleClickOpen(consumer)}>\n                    <ListItemText primary={consumer.name}/>\n                    <ListItemSecondaryAction onClick={() => handleChangeActive(consumer)}>\n                        <IconButton edge=\"end\" arial-label=\"show or hide\">\n                            {consumer.active ? <VisibilityIcon/> : <VisibilityOffIcon/>}\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </ListItem>\n            )\n        };\n\n        const {consumers, open, consumerName} = this.state;\n        return (\n            <React.Fragment>\n                <DefaultAppBar title='Consumers'/>\n                <Container maxWidth=\"sm\" disableGutters>\n                    <List className={classes.list}>\n                        {consumers.map(ConsumerCard)}\n                    </List>\n                </Container>\n                <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                    <DialogTitle id=\"form-dialog-title\">Change consumer</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            autoFocus\n                            margin=\"dense\"\n                            id=\"name\"\n                            label=\"Consumer name\"\n                            fullWidth\n                            value={consumerName}\n                            onChange={(e) => this.setState({consumerName: e.target.value})}\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={handleChangeName} color=\"primary\">\n                            Rename\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(Consumers);\n","import React from \"react\";\nimport TableDragSelect from \"react-table-drag-select\";\nimport {Box, Container, TableCell, TableContainer} from \"@material-ui/core\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport {withTranslation} from \"react-i18next\";\n\nconst formatTime = (v) => {\n    if (v < 10) {\n        return '0' + v;\n    }\n    return '' + v;\n}\nconst consumers = ['Kochen', 'Medien', 'Wäsche', 'Geschirrspülmaschine', 'Eigenes Gerät A', 'Eigenes Gerät B']\nconst hours = Array.from(Array(24).keys()).map(v => formatTime(v) + \"-\" + formatTime(v + 1));\nconst colors = ['lightgreen', 'yellow', 'red']\nconst energyAvailable = [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0].map(v => colors[v])\n\nclass Behavior extends React.Component<> {\n\n    state = {\n        cells: [\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false]\n        ]\n    };\n\n\n    render() {\n        const {t} = this.props;\n        return (\n            <div>\n                <DefaultAppBar title={t('card_behavior_title')} />\n                <Container>\n                    <Box component=\"div\" overflow=\"visible\">\n                        <TableContainer>\n                            <TableDragSelect value={this.state.cells} onChange={this.handleChange}>\n                                <tr>\n                                    <td disabled/>\n                                    {hours.map((value) => <TableCell disabled>{String(value)}</TableCell>)}\n                                </tr>\n                                <tr>\n                                    <td disabled/>\n                                    {energyAvailable.map((v) =>\n                                        <TableCell style={{backgroundColor: v}} disabled/>)}\n                                </tr>\n                                {/* Content */}\n                                {consumers.map((value) =>\n                                    <tr>\n                                        <td disabled>{String(value)}</td>\n                                        {hours.map(() => <td/>)}\n                                    </tr>\n                                )}\n                            </TableDragSelect>\n                        </TableContainer>\n\n                    </Box>\n                </Container>\n            </div>)\n    };\n\n    handleChange = cells => this.setState({cells});\n}\n\nexport default withTranslation()(Behavior);","import React from 'react';\nimport {\n    AppBar,\n    Button,\n    Card,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Container,\n    createStyles,\n    Grid,\n    Theme,\n    Toolbar,\n    Typography,\n    withStyles,\n    WithStyles\n} from \"@material-ui/core\";\nimport Icon from \"@material-ui/core/Icon\";\nimport {Link as RouterLink} from \"react-router-dom\";\nimport {WithTranslation, withTranslation} from \"react-i18next\";\n\nconst styles = (theme: Theme) => createStyles({\n    card: {\n        borderColor: theme.palette.secondary.main,\n    },\n    root: {\n        flexGrow: 1,\n    },\n    media: {\n        minHeight: 120,\n        backgroundColor: theme.palette.secondary.main,\n    },\n    largeIcon: {\n        fontSize: \"8em\",\n    },\n    title: {\n        flexGrow: 1,\n    },\n});\n\ninterface Item {\n    title: string;\n    subtitle: string;\n    icon: string;\n    destination: string;\n    header: boolean\n}\n\ninterface Props {\n}\n\ninterface State {\n}\n\ninterface CardProps {\n    item: Item\n}\n\nconst HomeCard = withStyles(styles)(\n    class extends React.Component<CardProps & WithStyles<typeof styles>, {}> {\n        render() {\n            const {classes, item} = this.props\n\n            return (\n                <Grid item xs={item.header ? 12 : 6} xl={item.header ? 12 : 4} key={item.title}>\n                    <Card variant=\"outlined\" className={classes.card}>\n                        <CardActionArea component={RouterLink} to={item.destination}>\n                            <CardMedia className={classes.media}>\n                                <Typography align='center'>\n                                    <Icon className={classes.largeIcon} style={{color: '#fff'}}>{item.icon}</Icon>\n                                </Typography>\n                            </CardMedia>\n                            <CardContent>\n                                <Typography variant=\"h6\">{item.title}</Typography>\n                                <Typography color=\"textSecondary\" noWrap>{item.subtitle}</Typography>\n                            </CardContent>\n                        </CardActionArea>\n                    </Card>\n                </Grid>\n            )\n        }\n    }\n)\n\nclass Home extends React.Component<Props & WithStyles<typeof styles> & WithTranslation, State> {\n    render() {\n        const {classes, t} = this.props;\n\n        const items: Item[] = [\n            {\n                title: t('card_upload_title'),\n                subtitle: t('card_upload_subtitle'),\n                icon: 'cloud_upload',\n                destination: '/upload',\n                header: false\n            },\n            {\n                title: t('card_behavior_title'),\n                subtitle: t('card_behavior_subtitle'),\n                icon: 'edit',\n                destination: '/behavior',\n                header: false\n            },\n            {\n                title: t('card_thermostats_title'),\n                subtitle: t('card_thermostats_subtitle'),\n                icon: 'ac_unit',\n                destination: '/thermostats',\n                header: false\n            },\n            {\n                title: t('card_power_title'),\n                subtitle: t('card_power_subtitle'),\n                icon: 'show_chart',\n                destination: '/power',\n                header: false\n            },\n            {\n                title: t('card_archive_title'),\n                subtitle: t('card_archive_subtitle'),\n                icon: 'history',\n                destination: '/archive',\n                header: false\n            },\n        ]\n\n        return (\n            <React.Fragment>\n                <AppBar position=\"sticky\">\n                    <Toolbar>\n                        <Typography variant=\"h6\" className={classes.title}>{t('home_title')}</Typography>\n                        <Button color=\"inherit\" component={RouterLink} to=\"/logout\">{t('logout')}</Button>\n                    </Toolbar>\n                </AppBar>\n                <Container component=\"main\" maxWidth=\"lg\" disableGutters className={classes.root}>\n                    <Grid container spacing={1}>{items.map((item: Item, index: number) => <HomeCard item={item} key={index}/>)}</Grid>\n                </Container>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(withTranslation()(Home));\n","import React from 'react';\nimport {Container, Typography} from \"@material-ui/core\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\n\n\nclass Thermostats extends React.Component {\n    render() {\n        return (\n            <div>\n                <DefaultAppBar title='Thermostats'/>\n                <Container maxWidth=\"md\">\n                    <Typography variant=\"h4\">Not implemented</Typography>\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default Thermostats;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport HomeOutlinedIcon from '@material-ui/icons/HomeOutlined';\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\nimport PersonOutlineIcon from '@material-ui/icons/PersonOutline';\nimport {useHistory} from \"react-router-dom\";\nimport {useTranslation} from \"react-i18next\";\nimport {Paper} from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100%',\n        position: 'fixed',\n        bottom: 0,\n    }\n});\n\nexport default function SimpleBottomNavigation() {\n    const classes = useStyles();\n    const history = useHistory();\n    const {t} = useTranslation()\n    const [value, setValue] = React.useState(0);\n    const destinations = [\"/\", \"/behavior\", \"/user\"];\n\n    return (\n        <Paper className={classes.root} elevation={3}>\n            <BottomNavigation\n                value={value}\n                onChange={(event, newValue) => {\n                    setValue(newValue);\n                    const destination = destinations[newValue];\n                    if (destination != null) {\n                        history.push(destination);\n                    }\n                }}\n                showLabels\n            >\n                <BottomNavigationAction label={t(\"home_title\")} icon={<HomeOutlinedIcon />} />\n                <BottomNavigationAction label={t(\"card_behavior_title\")} icon={<EditOutlinedIcon />} />\n                <BottomNavigationAction label={t(\"card_user_title\")} icon={<PersonOutlineIcon />} />\n            </BottomNavigation>\n        </Paper>\n    );\n}\n","import {Link, Redirect, Route, Switch} from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Verify from \"./Verify\";\nimport Logout from \"./Logout\";\nimport Upload from \"./Upload\";\nimport User from \"./User\";\nimport Power from \"./Power\";\nimport Archive from \"./Archive\";\nimport Consumers from \"./Consumers\";\nimport Behavior from \"./Behavior\";\nimport React, {useEffect, useState} from \"react\";\nimport Home from \"./Home\";\nimport Thermostats from \"./Thermostats\";\nimport BackendService from \"./service/BackendService\";\nimport {Box, Button, LinearProgress, Typography} from \"@material-ui/core\";\nimport SimpleBottomNavigation from \"./common/SimpleBottomNavigation\";\n\nconst ReactRouter = (props: { backendService: BackendService }) => {\n    const {backendService} = props;\n    const [isLoggedIn, setIsLoggedIn] = useState<boolean | null>(null);\n\n    useEffect(() => {\n        backendService.isLoggedIn().subscribe((value) => {\n            setIsLoggedIn(value);\n        });\n    });\n\n    if (isLoggedIn == null) {\n        return (<LinearProgress/>)\n    }\n\n    const _404 = (path: string) => (\n        <Box m={16} textAlign='center'>\n            <Typography variant=\"h1\">404</Typography>\n            <Typography variant=\"h5\">Page not found</Typography>\n            <Box m={2}>\n                <Button color=\"primary\" variant=\"contained\" component={Link} to={path}>Go home</Button>\n            </Box>\n        </Box>\n    );\n\n    const publicPaths = () => (\n        <Switch>\n            <Route path=\"/verify\"><Verify backendService={backendService}/></Route>\n            <Route path=\"/login\"><Login backendService={backendService}/></Route>\n            <Route>{_404(\"/login\")}</Route>\n        </Switch>\n    );\n\n    const privatePaths = () => (\n        <Box>\n            <Switch>\n                <Route path=\"/logout\"><Logout backendService={backendService}/></Route>\n                <Route path=\"/upload\"><Upload backendService={backendService}/></Route>\n                <Route path=\"/user\"><User backendService={backendService}/></Route>\n                <Route path=\"/power\"><Power backendService={backendService}/></Route>\n                <Route path=\"/archive\"><Archive backendService={backendService}/></Route>\n                <Route path=\"/consumers\"><Consumers backendService={backendService}/></Route>\n                <Route path=\"/behavior\"><Behavior/></Route>\n                <Route path=\"/thermostats\"><Thermostats/></Route>\n                <Route exact path=\"/\"><Home/></Route>\n                <Route exact path={`${process.env.PUBLIC_URL}`}><Home/></Route>\n                <Route>{_404(\"/\")}</Route>\n            </Switch>\n            <SimpleBottomNavigation />\n        </Box>\n);\n\n\n    return (\n        <React.Fragment>\n            {!isLoggedIn && <Redirect to=\"/login\"/>}\n            {!isLoggedIn && publicPaths()}\n            {isLoggedIn && privatePaths()}\n        </React.Fragment>\n    )\n}\n\nexport default ReactRouter;\n","import {AxiosRequestConfig, AxiosResponse} from 'axios';\nimport {Backend} from \"./Backend\";\nimport {ConsumerModel, LoginResponse, ProcessedConsumptionModel, UserModel, UserPredictionModel} from \"./Model\";\nimport {BehaviorSubject, map, Observable} from \"rxjs\";\n\nfunction unpack<T>(response: AxiosResponse<T>): T {\n    return response.data;\n}\n\nclass BackendService {\n    private readonly accessToken: BehaviorSubject<string | null>;\n    private readonly isLoggedInObservable: any;\n    private readonly backend: Backend;\n\n    constructor(backend: Backend) {\n        this.backend = backend;\n        this.accessToken = new BehaviorSubject(localStorage.getItem(\"token\"));\n        this.isLoggedInObservable = this.accessToken\n            .pipe(map((token) => token != null && token !== \"\"))\n\n        window.addEventListener('storage', () => {\n            const token = localStorage.getItem(\"token\");\n            if (token !== this.accessToken.value) {\n                this.accessToken.next(token)\n            }\n        })\n    }\n\n    isLoggedIn() : Observable<boolean>{\n        return this.isLoggedInObservable\n    }\n\n    requestPin(sharedPassword: string, email: string) {\n        return this.backend\n            .get('/request_pin', {params: {'shared_password': sharedPassword, 'email': email}});\n    }\n\n    login(email: string, password: string) {\n        return this.backend\n            .get<LoginResponse>('/login', {params: {'email': email, 'password': password}})\n            .then((response) => {\n                const {token} = response.data;\n                localStorage.setItem(\"token\", token);\n                this.accessToken.next(token)\n            });\n    }\n\n    logout(): Promise<any> {\n        localStorage.removeItem(\"token\");\n        return this.backend\n            .get('/logout', this.addAuth())\n            .finally(() => this.accessToken.next(null))\n    }\n\n    getUser(): Promise<UserModel> {\n        return this.backend\n            .get<UserModel>('/user', this.addAuth())\n            .then(unpack);\n    }\n\n    getConsumers(): Promise<ConsumerModel[]> {\n        return this.backend\n            .get<ConsumerModel[]>('/consumer', this.addAuth())\n            .then(unpack);\n    }\n\n    putConsumer(consumer: ConsumerModel) {\n        return this.backend\n            .put('/consumer/' + consumer.consumerId, null, this.addAuth({\n                params: {\n                    consumer_name: consumer.name,\n                    consumer_active: consumer.active\n                }\n            }))\n    }\n\n    getProcessedConsumptions(): Promise<string[]> {\n        return this.backend\n            .get<string[]>('/processedconsumption', this.addAuth())\n            .then(unpack);\n    }\n\n    getProcessedConsumption(date: string): Promise<ProcessedConsumptionModel[]> {\n        return this.backend\n            .get<ProcessedConsumptionModel[]>('/processedconsumption/' + date, this.addAuth())\n            .then(unpack);\n    }\n\n    getPredictions(): Promise<string[]> {\n        return this.backend\n            .get<string[]>('/predictions', this.addAuth())\n            .then(unpack);\n    }\n\n    getPrediction(date: string): Promise<UserPredictionModel[]> {\n        return this.backend\n            .get<UserPredictionModel[]>('/predictions/' + date, this.addAuth())\n            .then(unpack)\n    }\n\n    postConsumption(file: File) {\n        const formData = new FormData();\n        formData.append(\"upfile\", file, file.name)\n        return this.backend\n            .post('/consumption', formData, this.addAuth())\n    }\n\n    private addAuth(config?: AxiosRequestConfig): AxiosRequestConfig {\n        return {...config, headers: {Authorization: `${this.accessToken.value}`}}\n    }\n}\n\nexport default BackendService;\n","export function getFakeDB() {\n    let db = localStorage.getItem(\"fake_db\");\n    if (db == null) {\n        db = JSON.stringify({\n            user: {\n                \"user@test.com\": {\n                    userId: '1234',\n                    email: 'user@test.com',\n                    type: 'normal',\n                    creationDate: '01-01-2020',\n                    unlockDate: '01-01-2020',\n                    treatmentGroup: 'group_1'\n                }\n            },\n            consumer: {\n                \"user@test.com\":\n                    [\n                        {\n                            consumerId: 0,\n                            owner: 0,\n                            name: 'Kochen',\n                            variableName: 'something',\n                            active: true\n                        },\n                        {\n                            consumerId: 1,\n                            owner: 0,\n                            name: 'Medien',\n                            variableName: 'something else',\n                            active: true\n                        },\n                        {\n                            consumerId: 2,\n                            owner: 0,\n                            name: 'Wäsche',\n                            variableName: 'something else',\n                            active: true\n                        },\n                        {\n                            consumerId: 3,\n                            owner: 0,\n                            name: 'Geschirrspülmaschine',\n                            variableName: 'something else',\n                            active: true\n                        },\n                        {\n                            consumerId: 4,\n                            owner: 0,\n                            name: 'Eigenes Gerät A',\n                            variableName: 'something else',\n                            active: true\n                        },\n                        {\n                            consumerId: 5,\n                            owner: 0,\n                            name: 'Eigenes Gerät B',\n                            variableName: 'something else',\n                            active: true\n                        },\n                    ]\n            },\n            token: {\n                \"fakeToken.thistokenisfake\": \"user@test.com\"\n            }\n        });\n        localStorage.setItem(\"fake_db\", db);\n    }\n    return JSON.parse(db);\n}\n\nexport function resetFakeDB() {\n    localStorage.removeItem(\"fake_db\")\n}\n\nexport function saveFakeDB(db: any) {\n    localStorage.setItem(\"fake_db\", JSON.stringify(db))\n}\n","export class Executor<R> {\n    constructor(private resolve: (value: (PromiseLike<R> | R)) => void, private reject: (reason?: any) => void) {\n    }\n\n    ok(data: {}) {\n        console.log(\"Resolving call with OK\")\n        this.resolve({\n            data: data,\n            status: 200,\n            statusText: \"OK\",\n            headers: {},\n            config: {},\n            request: {}\n        } as any)\n    }\n\n    error() {\n        console.log(\"Resolving call with Error\")\n        this.reject({\n            response: {\n                data: {},\n                status: 400,\n                statusText: \"BAD REQUEST\",\n                headers: {},\n                config: {},\n                request: {}\n            }\n        })\n    }\n}","import {Backend} from \"./Backend\";\nimport {AxiosRequestConfig, AxiosResponse} from \"axios\";\nimport {getFakeDB, resetFakeDB, saveFakeDB} from \"./FakeDB\";\nimport {Executor} from \"./Executor\";\n\nfunction findInDict(dict: any, matcher: (value: any) => boolean): any {\n    for (let key in dict) {\n        if (matcher(dict[key])) {\n            return key;\n        }\n    }\n    return null;\n}\n\nclass FakeBackend implements Backend {\n    delete<T = any, R = AxiosResponse<T>>(url: string, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n        })\n    }\n\n    get<T = any, R = AxiosResponse<T>>(url: string, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n            const e = new Executor(resolve, reject);\n\n            console.log(`GET Fake backend call to ${url}`, config)\n            if (config == null) return e.error();\n            const db = getFakeDB();\n\n            if (url.endsWith('/request_pin')) {\n                const {shared_password, email} = config.params;\n                if (shared_password === 'test' && db.user[email] != null) {\n                    return e.ok({})\n                }\n                return e.error()\n            } else if (url.endsWith('/login')) {\n                const {email, password} = config.params;\n                const user = db.user[email]\n                if (user != null && password === \"123456\") {\n                    return e.ok({token: findInDict(db.token, (v: string) => v === email)})\n                }\n                return e.error()\n            }\n            const token = config.headers.Authorization;\n            const user = db.token[token]\n            if (user == null) return e.error()\n\n            if (url.endsWith('/logout')) {\n                resetFakeDB()\n                e.ok({})\n            } else if (url.endsWith('/user')) {\n                e.ok(db.user[user])\n            } else if (url.endsWith('/consumer')) {\n                e.ok(db.consumer[user])\n            } else {\n                e.error()\n            }\n        })\n    }\n\n    post<T = any, R = AxiosResponse<T>>(url: string, data?: any, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n        })\n    }\n\n    put<T = any, R = AxiosResponse<T>>(url: string, data?: any, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n            const e = new Executor(resolve, reject);\n            console.log(`PUT Fake backend call to ${url}`, config)\n            if (config == null) return e.error();\n            const db = getFakeDB();\n            const token = config.headers.Authorization;\n            const user = db.token[token]\n            if (user == null) return e.error()\n\n            const id = url.split('/').pop()\n            if (id == null) return e.error()\n\n            if (url.startsWith('/consumer')) {\n                const {consumer_name, consumer_active} = config.params;\n                meldArrayElement(db.consumer[user],\n                    (v: any) => v.consumerId === +id,\n                    {name: consumer_name, active: consumer_active}\n                )\n                saveFakeDB(db)\n\n                return e.ok({})\n            }\n\n            e.error()\n        })\n    }\n}\n\nfunction meldArrayElement(array: any, elementMatcher: any, changes: any) {\n    const consumerIndex = array.findIndex(elementMatcher)\n    array[consumerIndex] = {...array[consumerIndex], ...changes}\n}\n\nexport default FakeBackend;\n","import axios from \"axios\";\nimport FakeBackend from \"./service/FakeBackend\";\nimport {Backend} from \"./service/Backend\";\n\nexport interface Config {\n    backend: Backend,\n    type: string,\n    apiDescription: string\n}\n\nconst dev = {\n    backend: axios.create({baseURL: process.env.REACT_APP_API_BASE_URL}),\n    type: 'development',\n    apiDescription: process.env.REACT_APP_API_BASE_URL\n}\n\nconst prod = {\n    backend: axios.create({baseURL: process.env.REACT_APP_API_BASE_URL}),\n    type: 'production',\n    apiDescription: process.env.REACT_APP_API_BASE_URL\n}\n\nconst local = {\n    backend: new FakeBackend(),\n    type: 'local',\n    apiDescription: 'fakeApi'\n}\n\nlet backendConfig;\nif (process.env.REACT_APP_STAGE === 'production') {\n    backendConfig = prod;\n} else if (process.env.REACT_APP_STAGE === 'local') {\n    backendConfig = local;\n} else {\n    backendConfig = dev;\n}\n\nconst config = {\n    ...backendConfig\n}\nexport default config;\n","import React from \"react\";\nimport {createTheme, CssBaseline, LinearProgress, ThemeProvider,} from \"@material-ui/core\";\nimport ReactRouter from \"./Routes\";\nimport BackendService from \"./service/BackendService\";\nimport Config from \"./Config\";\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: '#7cb342',\n            light: '#aee571',\n            dark: '#4b830d',\n            contrastText: '#fff'\n        },\n        secondary: {\n            main: '#9ccc65',\n            light: '#cfff95',\n            dark: '#6b9b37'\n        },\n    },\n});\n\nconst backendService = new BackendService(Config.backend);\n\nclass App extends React.Component {\n    render() {\n        return (\n            <ThemeProvider theme={theme}>\n                <CssBaseline/>\n                <React.Suspense fallback={<LinearProgress/>}>\n                    <ReactRouter backendService={backendService}/>\n                </React.Suspense>\n            </ThemeProvider>\n        );\n    }\n}\n\nexport default App;\n","import i18n from 'i18next';\nimport {initReactI18next} from 'react-i18next';\nimport resourcesToBackend from 'i18next-resources-to-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\ni18n\n    .use(resourcesToBackend((language, namespace, callback) => {\n        import(`./locales/${language}/${namespace}.json`)\n            .then((resources) => {\n                callback(null, resources)\n            })\n            .catch((error) => {\n                callback(error, null)\n            })\n    }))\n    .use(LanguageDetector)\n    .use(initReactI18next)\n    .init({\n        /*debug: true,*/\n        fallbackLng: 'en',\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        },\n        backend: {\n            // for all available options read the backend's repository readme file\n            loadPath: `${process.env.PUBLIC_URL}/locales/{{lng}}/{{ns}}.json`\n        }\n    });\n\nexport default i18n;\n","import {BrowserRouter as Router} from 'react-router-dom';\n\nimport React from 'react'\nimport './index.css';\nimport App from \"./App\";\nimport ReactDOM from 'react-dom';\nimport './i18n';\n\nReactDOM.render((\n    <React.StrictMode>\n        <Router basename={`${process.env.PUBLIC_URL}#`}>\n            <App/>\n        </Router>\n    </React.StrictMode>\n), document.getElementById('root'));\n"],"sourceRoot":""}