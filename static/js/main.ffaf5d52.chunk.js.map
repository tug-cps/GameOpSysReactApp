{"version":3,"sources":["Login.tsx","Verify.tsx","Logout.tsx","common/DefaultAppBar.tsx","Upload.tsx","User.tsx","Power.tsx","Archive.tsx","Consumers.tsx","Behavior.jsx","Home.tsx","Thermostats.tsx","Achievement.tsx","Routes.tsx","service/BackendService.ts","Config.ts","service/FakeBackend.ts","App.tsx","i18n.tsx","index.tsx"],"names":["Login","props","state","shared_password","email","handleSubmit","bind","e","preventDefault","this","backendService","requestPin","then","history","push","catch","error","console","log","response","classes","Container","component","maxWidth","className","paper","Avatar","avatar","Typography","variant","form","onSubmit","TextField","id","label","margin","value","onChange","setState","target","required","fullWidth","autoComplete","Button","type","color","submit","React","Component","withRouter","withStyles","palette","spacing","createStyles","marginTop","display","flexDirection","alignItems","backgroundColor","secondary","main","width","Verify","password","location","login","Logout","useHistory","useEffect","logout","DefaultAppBar","title","AppBar","position","Toolbar","IconButton","edge","menuButton","aria-label","onClick","go","marginRight","flexGrow","Upload","open","onFormUpload","handleClose","event","files","postConsumption","reason","Grid","container","item","xs","sm","gutterBottom","paragraph","List","name","link","map","op","ListItem","Link","href","accept","input","htmlFor","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","message","action","Fragment","size","fontSize","User","userId","creationDate","unlockDate","treatmentGroup","consumersCount","language","i18n","getUser","user","getConsumers","consumers","length","ListItemIcon","Icon","ListItemText","FormControl","InputLabel","Select","changeLanguage","MenuItem","Fab","fab","RouterLink","to","extendedIcon","bottom","right","PowerEntry","data","getProcessedConsumption","date","consumptions","c","idx","time","flat","height","autoFit","shape","point","area","Power","dates","getProcessedConsumptions","root","Card","card","CardActionArea","CardContent","ArchiveEntry","predictions","getPrediction","prediction","v","consumerId","Archive","getPredictions","Consumers","consumerName","refresh","disableGutters","list","consumer","role","undefined","button","selectedConsumer","handleClickOpen","primary","ListItemSecondaryAction","putConsumer","active","handleChangeActive","arial-label","Dialog","aria-labelledby","DialogTitle","DialogContent","autoFocus","DialogActions","background","formatTime","hours","Array","from","keys","colors","energyAvailable","App","cells","render","Box","overflow","TableContainer","handleChange","disabled","TableCell","String","style","styles","theme","borderColor","media","minHeight","largeIcon","HomeCard","header","xl","destination","CardMedia","align","icon","noWrap","subtitle","Home","t","items","index","withTranslation","Thermostats","Achievement","ReactRouter","useState","isLoggedIn","setIsLoggedIn","subscribe","LinearProgress","_404","path","m","textAlign","Behavior","exact","process","unpack","backendConfig","BackendService","backend","accessToken","isLoggedInObservable","BehaviorSubject","localStorage","getItem","pipe","token","window","addEventListener","next","sharedPassword","get","params","setItem","removeItem","addAuth","put","consumer_name","consumer_active","file","formData","FormData","append","post","config","headers","Authorization","FakeBackend","url","Promise","resolve","reject","ok","status","statusText","request","endsWith","owner","variableName","axios","create","baseURL","apiDescription","createMuiTheme","light","dark","contrastText","Config","ThemeProvider","CssBaseline","Suspense","fallback","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","interpolation","escapeValue","loadPath","ReactDOM","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.ffaf5d52.chunk.js","sourcesContent":["import React from 'react';\nimport {Avatar, Button, Container, createStyles, TextField, Theme, Typography, WithStyles} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {RouteComponentProps} from 'react-router-dom';\nimport BackendService from \"./service/BackendService\";\nimport {withRouter} from \"react-router\";\n\nconst styles = ({palette, spacing}: Theme) => createStyles({\n    paper: {\n        marginTop: spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: spacing(1),\n        backgroundColor: palette.secondary.main,\n    },\n    form: {\n        width: '100%',\n        marginTop: spacing(1),\n    },\n    submit: {\n        margin: spacing(3, 0, 2),\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n    backendService: BackendService\n}\n\ninterface State {\n    shared_password: string;\n    email: string;\n}\n\nclass Login extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            shared_password: '',\n            email: ''\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleSubmit(e: React.FormEvent) {\n        e.preventDefault();\n        this.props.backendService\n            .requestPin(this.state.shared_password, this.state.email)\n            .then(() => {this.props.history.push('/verify', {email: this.state.email})})\n            .catch((error) => {console.log(error.response)})\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <Container component=\"main\" maxWidth=\"xs\">\n                <div className={classes.paper}>\n                    <Avatar className={classes.avatar}/>\n                    <Typography component=\"h1\" variant=\"h5\">Sign in</Typography>\n                    <form className={classes.form} onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"shared_password\"\n                            label=\"Shared password\"\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            value={this.state.shared_password}\n                            onChange={(e) => this.setState({shared_password: e.target.value})}\n                            required\n                            fullWidth\n                        />\n                        <TextField\n                            autoComplete=\"email\"\n                            id=\"email\"\n                            label=\"Email address\"\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            value={this.state.email}\n                            onChange={(e) => this.setState({email: e.target.value})}\n                            required\n                            fullWidth\n                        />\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.submit}\n                        >\n                            Send verification code\n                        </Button>\n                    </form>\n                </div>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(withStyles(styles)(Login));\n","import React from 'react';\nimport {\n    Avatar,\n    Button,\n    Container,\n    createStyles,\n    TextField,\n    Theme,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {RouteComponentProps} from \"react-router-dom\";\nimport BackendService from \"./service/BackendService\";\nimport {withRouter} from \"react-router\";\n\nconst styles = ({palette, spacing}: Theme) => createStyles({\n    paper: {\n        marginTop: spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: spacing(1),\n        backgroundColor: palette.secondary.main,\n    },\n    form: {\n        width: '100%',\n        marginTop: spacing(1),\n    },\n    submit: {\n        margin: spacing(3, 0, 2),\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n    backendService: BackendService\n}\n\nclass Verify extends React.Component<Props, { email?: string, password: string }> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            password: ''\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    componentDidMount() {\n        if (this.props.location == null || this.props.location.state == null || this.props.location.state.email == null) {\n            this.props.history.push('/')\n        }\n    }\n\n    handleSubmit(e: React.FormEvent) {\n        const {password} = this.state;\n        const {email} = this.props.location.state;\n\n        e.preventDefault();\n        this.props.backendService\n            .login(email, password)\n            .then(() => {this.props.history.push('/')})\n            .catch((error) => console.log(error))\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <Container component=\"main\" maxWidth=\"xs\">\n                <div className={classes.paper}>\n                    <Avatar className={classes.avatar}/>\n                    <Typography component=\"h1\" variant=\"h5\">Verify</Typography>\n                    <form className={classes.form} onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"otp\"\n                            label=\"Pin\"\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            value={this.state.password}\n                            onChange={(e) => this.setState({password: e.target.value})}\n                            required\n                            fullWidth\n                        />\n                        <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>Log in</Button>\n                    </form>\n                </div>\n            </Container>\n        );\n    }\n}\n\nexport default withRouter(withStyles(styles)(Verify));\n","import {useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport BackendService from \"./service/BackendService\";\n\n\nfunction Logout(props: {backendService: BackendService}) {\n    const history = useHistory();\n\n    useEffect(() => {\n        props.backendService\n            .logout()\n            .catch((error) => console.log(error))\n            .then(() => history.push(\"/login\"))\n    });\n\n    return null;\n}\n\nexport default Logout;\n","import {AppBar, createStyles, IconButton, Theme, Toolbar, Typography, WithStyles} from \"@material-ui/core\";\nimport {RouteComponentProps} from \"react-router-dom\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport React from \"react\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport { withRouter } from \"react-router\";\n\nconst styles = ({spacing}: Theme) => createStyles({\n    menuButton: {\n        marginRight: spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n    title: string;\n}\n\nclass DefaultAppBar extends React.Component<Props> {\n    render() {\n        const {title, classes, history} = this.props;\n        return (\n            <AppBar position=\"sticky\">\n                <Toolbar>\n                    <IconButton\n                        edge=\"start\"\n                        className={classes.menuButton}\n                        color=\"inherit\"\n                        aria-label=\"back\"\n                        onClick={() => history.go(-1)}\n                    >\n                        <ArrowBackIcon/>\n                    </IconButton>\n                    <Typography variant=\"h6\" className={classes.title}>{title}</Typography>\n                </Toolbar>\n            </AppBar>\n        )\n    }\n}\n\nexport default withStyles(styles)(withRouter(DefaultAppBar));","import React from 'react';\nimport {\n    Button,\n    Container,\n    createStyles,\n    Grid,\n    IconButton,\n    Link,\n    List,\n    ListItem,\n    Snackbar,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport BackendService from \"./service/BackendService\";\n\nconst styles = () => createStyles({\n    input: {\n        display: 'none',\n    },\n});\n\ninterface Operator {\n    name: string;\n    link: string;\n}\n\ninterface Props extends WithStyles<typeof styles> {\n    backendService: BackendService\n}\n\ninterface State {\n    open: boolean\n}\n\nclass Upload extends React.Component<Props, State> {\n\n    constructor(props: Readonly<Props>) {\n        super(props);\n        this.state = {\n            open: false\n        }\n        this.onFormUpload = this.onFormUpload.bind(this)\n        this.handleClose = this.handleClose.bind(this)\n    }\n\n    onFormUpload(event: React.ChangeEvent<HTMLInputElement>) {\n        if (event.target != null && event.target.files != null) {\n            this.props.backendService.postConsumption(event.target.files[0]).then(() => {\n                console.log(\"File uploaded.\")\n                this.setState({open: true})\n            });\n        }\n    }\n\n    handleClose(event: React.SyntheticEvent | React.MouseEvent, reason?: string) {\n        if (reason === 'clickaway') {\n            return;\n        }\n        this.setState({open: false});\n    }\n\n    render() {\n        const operators: Operator[] = [\n            {name: 'Netz Oberösterreich', link: 'https://netz-online.netzgmbh.at/eServiceWeb/main.html'},\n            {name: 'Netz Burgenland', link: 'https://smartmeter.netzburgenland.at'},\n            {name: 'Kärnten Netz', link: 'https://meinportal.kaerntennetz.at/meinPortal/Login.aspx?service=verbrauch'},\n        ]\n\n        const {classes} = this.props;\n        return (\n            <div>\n                <DefaultAppBar title='Upload'/>\n                <Container maxWidth=\"md\">\n                    <Grid container spacing={3}>\n                        <Grid item xs={12} sm={6}>\n                            <Typography variant=\"h5\" gutterBottom>1. Download most recent data</Typography>\n                            <Typography color=\"textSecondary\" paragraph>\n                                Please select your network operator to download the most recent consumption data\n                            </Typography>\n                            <List>\n                                {operators.map((op) => {\n                                    return (\n                                        <ListItem key={op.name}>\n                                            <Typography><Link href={op.link}>{op.name}</Link></Typography>\n                                        </ListItem>\n                                    )\n                                })}\n                            </List>\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <Typography variant=\"h5\" gutterBottom>2. Upload your consumption</Typography>\n                            <Typography color=\"textSecondary\" paragraph>\n                                Please upload the file with the most recent consumptions here\n                            </Typography>\n                            <input accept=\"*/*\" className={classes.input} id=\"input-file\" type=\"file\"\n                                   onChange={this.onFormUpload}/>\n                            <label htmlFor=\"input-file\">\n                                <Button variant=\"contained\" color=\"primary\" fullWidth component=\"span\">Upload</Button>\n                            </label>\n                        </Grid>\n                    </Grid>\n                </Container>\n                <Snackbar\n                    anchorOrigin={{vertical: 'bottom', horizontal: 'left',}}\n                    open={this.state.open}\n                    autoHideDuration={6000}\n                    onClose={this.handleClose}\n                    message=\"File uploaded\"\n                    action={\n                        <React.Fragment>\n                            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={this.handleClose}>\n                                <CloseIcon fontSize=\"small\"/>\n                            </IconButton>\n                        </React.Fragment>\n                    }\n                />\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Upload);\n","import React from 'react';\nimport {\n    Container,\n    createStyles,\n    Fab,\n    FormControl,\n    Icon,\n    InputLabel,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    MenuItem,\n    Select,\n    Theme,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {Link as RouterLink} from \"react-router-dom\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport i18n from \"i18next\";\nimport BackendService from \"./service/BackendService\";\n\nconst styles = ({spacing}: Theme) => createStyles({\n    fab: {\n        position: 'absolute',\n        bottom: spacing(2),\n        right: spacing(2),\n    },\n    extendedIcon: {\n        marginRight: spacing(1),\n    },\n});\n\ninterface Props extends WithStyles<typeof styles> {\n    backendService: BackendService\n}\n\ninterface State {\n    userId: string\n    email: string\n    type: string\n    creationDate: string\n    unlockDate: string\n    treatmentGroup: string\n    consumersCount: number\n    language: string\n}\n\nclass User extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            userId: '',\n            email: '',\n            type: '',\n            creationDate: '',\n            unlockDate: '',\n            treatmentGroup: '',\n            consumersCount: 0,\n            language: i18n.language\n        };\n    }\n\n    componentDidMount() {\n        const {backendService} = this.props;\n        backendService.getUser()\n            .then((user) => this.setState(user))\n            .catch((error) => {\n                console.log(error)\n            })\n        backendService.getConsumers()\n            .then((consumers) => this.setState({consumersCount: consumers.length}))\n            .catch((error) => {\n                console.log(error)\n            })\n    }\n\n    render() {\n        const {classes} = this.props;\n        const state = this.state;\n\n        const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n            i18n.changeLanguage(event.target.value as string).then(() => {\n                this.setState({language: event.target.value as string});\n            })\n        };\n        return (\n            <React.Fragment>\n                <DefaultAppBar title='User'/>\n                <Container maxWidth=\"sm\">\n                    <List>\n                        <ListItem>\n                            <ListItemIcon><Icon>email</Icon></ListItemIcon>\n                            <ListItemText>{state.email}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon><Icon>power</Icon></ListItemIcon>\n                            <ListItemText>{state.consumersCount} consumers</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon><Icon>group</Icon></ListItemIcon>\n                            <ListItemText>{state.treatmentGroup}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon><Icon>access_time</Icon></ListItemIcon>\n                            <ListItemText>Created at {state.creationDate}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon/>\n                            <ListItemText>Unlocked at {state.unlockDate}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon><Icon>language</Icon></ListItemIcon>\n                            <FormControl fullWidth variant=\"outlined\">\n                                <InputLabel>Language</InputLabel>\n                                <Select\n                                    value={state.language}\n                                    label=\"Language\"\n                                    onChange={handleChange}\n                                >\n                                    <MenuItem value={\"de\"}>German</MenuItem>\n                                    <MenuItem value={\"en\"}>English</MenuItem>\n                                </Select>\n                            </FormControl>\n                        </ListItem>\n                    </List>\n                </Container>\n                <Fab variant=\"extended\" color=\"primary\" className={classes.fab} component={RouterLink} to=\"/consumers\">\n                    <Icon className={classes.extendedIcon}>edit</Icon>\n                    Edit consumers\n                </Fab>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default withStyles(styles)(User);\n","import React from 'react';\nimport {\n    Card,\n    CardActionArea,\n    CardContent,\n    Container,\n    createStyles,\n    Theme,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {Chart, LineAdvance} from \"bizcharts\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport BackendService from \"./service/BackendService\";\n\ninterface EntryProps {\n    backendService: BackendService;\n    date: string;\n}\n\ninterface ChartData {\n    type: string;\n    time: number;\n    value: number;\n}\n\ninterface EntryState {\n    data: ChartData[]\n}\n\nclass PowerEntry extends React.Component<EntryProps, EntryState> {\n    constructor(props: Readonly<EntryProps>) {\n        super(props);\n        this.state = {\n            data: []\n        }\n    }\n\n    componentDidMount() {\n        this.props.backendService.getProcessedConsumption(this.props.date).then((consumptions) => {\n            this.setState({\n                data: consumptions.map((c) => {\n                    return c.data.map((value, idx) => {\n                        return {type: c.type, time: idx, value: value}\n                    })\n                }).flat()\n            })\n        })\n    }\n\n    render() {\n        const {data} = this.state;\n        return (\n            <Chart height={300} autoFit data={data}>\n                <LineAdvance\n                    shape=\"smooth\"\n                    point\n                    area\n                    position=\"time*value\"\n                    color=\"type\"\n                />\n            </Chart>\n        )\n    }\n}\n\nconst styles = ({spacing}: Theme) => createStyles({\n    root: {\n        flexGrow: 1,\n    },\n    card: {\n        marginTop: spacing(2)\n    },\n});\n\ninterface Props extends WithStyles<typeof styles> {\n    backendService: BackendService\n}\n\ninterface State {\n    dates: string[]\n}\n\nclass Power extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            dates: []\n        };\n    }\n\n    componentDidMount() {\n        const {backendService} = this.props;\n        backendService.getProcessedConsumptions()\n            .then((response) => this.setState({dates: response}))\n            .catch((reason) => console.log(reason))\n    }\n\n    render() {\n        const {classes} = this.props;\n        const {dates} = this.state;\n        return (\n            <div className={classes.root}>\n                <DefaultAppBar title='Power'/>\n                <Container maxWidth=\"md\">\n                    {dates.map((value) => {\n                        return (\n                            <Card variant=\"outlined\" key={value} className={classes.card}>\n                                <CardActionArea>\n                                    <CardContent>\n                                        <Typography variant=\"h6\">{value}</Typography>\n                                        <PowerEntry date={value} backendService={this.props.backendService}/>\n                                    </CardContent>\n                                </CardActionArea>\n                            </Card>\n                        )\n                    })}\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Power);\n","import React from 'react';\nimport {\n    Card,\n    CardActionArea,\n    CardContent,\n    Container,\n    createStyles,\n    Theme,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport BackendService from \"./service/BackendService\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport {UserPredictionModel} from \"./service/Model\";\n\nclass ArchiveEntry extends React.Component<{ date: string, backendService: BackendService }, { predictions: UserPredictionModel[] }> {\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            predictions: []\n        }\n    }\n\n    componentDidMount() {\n        this.props.backendService.getPrediction(this.props.date).then((prediction) => this.setState({predictions: prediction}))\n    }\n\n    render() {\n        const {date} = this.props;\n        const {predictions} = this.state;\n        return (\n            <Card variant=\"outlined\">\n                <CardActionArea>\n                    <CardContent>\n                        <Typography variant=\"h6\">{date}</Typography>\n                        {predictions.map((prediction) => {\n                            return (\n                                <Typography variant=\"body1\" key={prediction.consumerId}>\n                                    {prediction.data.map((v) => v ? '█' : '░')}\n                                </Typography>\n                            );\n                        })}\n                    </CardContent>\n                </CardActionArea>\n            </Card>\n        )\n    }\n}\n\nconst styles = ({spacing}: Theme) => createStyles({\n    root: {\n        flexGrow: 1,\n    },\n    card: {\n        marginTop: spacing(2)\n    },\n});\n\n\ninterface Props extends WithStyles<typeof styles> {\n    backendService: BackendService\n}\n\ninterface State {\n    dates: string[]\n}\n\nclass Archive extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            dates: []\n        };\n    }\n\n    componentDidMount() {\n        const {backendService} = this.props;\n        backendService.getPredictions()\n            .then((response) => this.setState({dates: response}))\n            .catch((reason) => {console.log(reason)})\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <div className={classes.root}>\n                <DefaultAppBar title='Predictions'/>\n                <Container maxWidth=\"md\">\n                    {this.state.dates.map((value) => {\n                        return (<ArchiveEntry date={value} key={value} backendService={this.props.backendService}/>)\n                    })}\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Archive);\n","import React from 'react';\nimport {\n    Button,\n    Container,\n    createStyles,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    List,\n    ListItem,\n    ListItemSecondaryAction,\n    ListItemText,\n    TextField,\n    Theme,\n    WithStyles\n} from \"@material-ui/core\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport BackendService from \"./service/BackendService\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport {ConsumerModel} from \"./service/Model\";\n\nconst styles = ({palette}: Theme) => createStyles({\n    list: {\n        backgroundColor: palette.background.paper,\n    },\n});\n\n\ninterface Props extends WithStyles<typeof styles> {\n    backendService: BackendService\n}\n\ninterface State {\n    consumers: ConsumerModel[]\n    open: boolean\n    consumerName: string\n    selectedConsumer?: ConsumerModel\n}\n\nclass Consumers extends React.Component<Props, State> {\n\n    constructor(props: Readonly<Props>) {\n        super(props);\n        this.state = {\n            consumers: [],\n            open: false,\n            consumerName: \"\"\n        }\n\n        this.refresh = this.refresh.bind(this);\n    }\n\n    refresh() {\n        const {backendService} = this.props;\n        backendService.getConsumers()\n            .then((consumers) => this.setState({consumers: consumers}))\n            .catch((reason) => {console.log(reason)})\n    }\n\n    componentDidMount() {\n        this.refresh()\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        const handleClickOpen = (consumer: ConsumerModel) => {\n            this.setState({consumerName: consumer.name, selectedConsumer: consumer, open: true})\n        };\n\n        const handleClose = () => {\n            this.setState({open: false})\n        };\n\n        const handleChangeName = () => {\n            const {selectedConsumer} = this.state;\n            if (selectedConsumer != null) {\n                this.props.backendService.putConsumer({...selectedConsumer, name: this.state.consumerName}).then(this.refresh);\n                handleClose();\n            }\n        }\n\n        const handleChangeActive = (consumer: ConsumerModel) => {\n            this.props.backendService.putConsumer({...consumer, active: !consumer.active}).then(this.refresh);\n        }\n\n        const ConsumerCard = (consumer: ConsumerModel) => {\n            return (\n                <ListItem key={consumer.consumerId} role={undefined} button onClick={() => handleClickOpen(consumer)}>\n                    <ListItemText primary={consumer.name}/>\n                    <ListItemSecondaryAction onClick={() => handleChangeActive(consumer)}>\n                        <IconButton edge=\"end\" arial-label=\"show or hide\">\n                            {consumer.active ? <VisibilityIcon/> : <VisibilityOffIcon/>}\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </ListItem>\n            )\n        };\n\n        const {consumers, open, consumerName} = this.state;\n        return (\n            <React.Fragment>\n                <DefaultAppBar title='Consumers'/>\n                <Container maxWidth=\"sm\" disableGutters>\n                    <List className={classes.list}>\n                        {consumers.map(ConsumerCard)}\n                    </List>\n                </Container>\n                <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                    <DialogTitle id=\"form-dialog-title\">Change consumer</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            autoFocus\n                            margin=\"dense\"\n                            id=\"name\"\n                            label=\"Consumer name\"\n                            fullWidth\n                            value={consumerName}\n                            onChange={(e) => this.setState({consumerName: e.target.value})}\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={handleChangeName} color=\"primary\">\n                            Rename\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(Consumers);\n","import React from \"react\";\nimport TableDragSelect from \"react-table-drag-select\";\nimport {Box, Container, TableCell, TableContainer} from \"@material-ui/core\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\n\nconst formatTime = (v) => {\n    if (v < 10) {\n        return '0' + v;\n    }\n    return '' + v;\n}\nconst consumers = ['Kochen', 'Medien', 'Wäsche', 'Geschirrspülmaschine', 'Eigenes Gerät A', 'Eigenes Gerät B']\nconst hours = Array.from(Array(24).keys()).map(v => formatTime(v) + \"-\" + formatTime(v + 1));\nconst colors = ['lightgreen', 'yellow', 'red']\nconst energyAvailable = [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0].map(v => colors[v])\n\nclass App extends React.Component {\n\n    state = {\n        cells: [\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false],\n            [false, false, false, false, false, false, false]\n        ]\n    };\n\n\n    render = () =>\n        <div>\n            <DefaultAppBar title='Behavior'/>\n            <Container>\n                <Box component=\"div\" overflow=\"visible\">\n                    <TableContainer>\n                        <TableDragSelect value={this.state.cells} onChange={this.handleChange}>\n                            <tr>\n                                <td disabled/>\n                                {hours.map((value) => <TableCell disabled>{String(value)}</TableCell>)}\n                            </tr>\n                            <tr>\n                                <td disabled/>\n                                {energyAvailable.map((v) =>\n                                    <TableCell style={{backgroundColor: v}} disabled/>)}\n                            </tr>\n                            {/* Content */}\n                            {consumers.map((value) =>\n                                <tr>\n                                    <td disabled>{String(value)}</td>\n                                    {hours.map(() => <td/>)}\n                                </tr>\n                            )}\n                        </TableDragSelect>\n                    </TableContainer>\n\n                </Box>\n            </Container>\n        </div>;\n\n    handleChange = cells => this.setState({cells});\n}\n\nexport default App;","import React from 'react';\nimport {\n    AppBar,\n    Button,\n    Card,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Container,\n    createStyles,\n    Grid,\n    Theme,\n    Toolbar,\n    Typography,\n    withStyles,\n    WithStyles\n} from \"@material-ui/core\";\nimport Icon from \"@material-ui/core/Icon\";\nimport {Link as RouterLink} from \"react-router-dom\";\nimport {WithTranslation, withTranslation} from \"react-i18next\";\n\nconst styles = (theme: Theme) => createStyles({\n    card: {\n        borderColor: theme.palette.secondary.main,\n    },\n    root: {\n        flexGrow: 1,\n    },\n    media: {\n        minHeight: 120,\n        backgroundColor: theme.palette.secondary.main,\n    },\n    largeIcon: {\n        fontSize: \"8em\",\n    },\n    title: {\n        flexGrow: 1,\n    },\n});\n\ninterface Item {\n    title: string;\n    subtitle: string;\n    icon: string;\n    destination: string;\n    header: boolean\n}\n\ninterface Props {\n}\n\ninterface State {\n}\n\ninterface CardProps {\n    item: Item\n}\n\nconst HomeCard = withStyles(styles)(\n    class extends React.Component<CardProps & WithStyles<typeof styles>, {}> {\n        render() {\n            const {classes, item} = this.props\n\n            return (\n                <Grid item xs={item.header ? 12 : 6} xl={item.header ? 12 : 4} key={item.title}>\n                    <Card variant=\"outlined\" className={classes.card}>\n                        <CardActionArea component={RouterLink} to={item.destination}>\n                            <CardMedia className={classes.media}>\n                                <Typography align='center'>\n                                    <Icon className={classes.largeIcon} style={{color: '#fff'}}>{item.icon}</Icon>\n                                </Typography>\n                            </CardMedia>\n                            <CardContent>\n                                <Typography variant=\"h6\">{item.title}</Typography>\n                                <Typography color=\"textSecondary\" noWrap>{item.subtitle}</Typography>\n                            </CardContent>\n                        </CardActionArea>\n                    </Card>\n                </Grid>\n            )\n        }\n    }\n)\n\nclass Home extends React.Component<Props & WithStyles<typeof styles> & WithTranslation, State> {\n    render() {\n        const {classes, t} = this.props;\n\n        const items: Item[] = [\n            {\n                title: t('card_achievement_title'),\n                subtitle: t('card_achievement_subtitle'),\n                icon: 'star',\n                destination: 'achievement',\n                header: false\n            },\n            {\n                title: t('card_upload_title'),\n                subtitle: t('card_upload_subtitle'),\n                icon: 'cloud_upload',\n                destination: '/upload',\n                header: false\n            },\n            {\n                title: t('card_behavior_title'),\n                subtitle: t('card_behavior_subtitle'),\n                icon: 'edit',\n                destination: '/behavior',\n                header: false\n            },\n            {\n                title: t('card_power_title'),\n                subtitle: t('card_power_subtitle'),\n                icon: 'show_chart',\n                destination: '/power',\n                header: false\n            },\n            {\n                title: t('card_archive_title'),\n                subtitle: t('card_archive_subtitle'),\n                icon: 'history',\n                destination: '/archive',\n                header: false\n            },\n            {\n                title: t('card_user_title'),\n                subtitle: t('card_user_subtitle'),\n                icon: 'person',\n                destination: '/user',\n                header: false\n            },\n            {\n                title: t('card_thermostats_title'),\n                subtitle: t('card_thermostats_subtitle'),\n                icon: 'power',\n                destination: '/thermostats',\n                header: false\n            }\n        ]\n\n        return (\n            <React.Fragment>\n                <AppBar position=\"sticky\">\n                    <Toolbar>\n                        <Typography variant=\"h6\" className={classes.title}>GameOpSysApp</Typography>\n                        <Button color=\"inherit\" component={RouterLink} to=\"/logout\">{t('logout')}</Button>\n                    </Toolbar>\n                </AppBar>\n                <Container component=\"main\" maxWidth=\"lg\" disableGutters className={classes.root}>\n                    <Grid container spacing={1}>{items.map((item: Item, index: number) => <HomeCard item={item} key={index}/>)}</Grid>\n                </Container>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(withTranslation()(Home));\n","import React from 'react';\nimport {Container, Typography} from \"@material-ui/core\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\n\n\nclass Thermostats extends React.Component {\n    render() {\n        return (\n            <div>\n                <DefaultAppBar title='Thermostats'/>\n                <Container maxWidth=\"md\">\n                    <Typography variant=\"h4\">Not implemented</Typography>\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default Thermostats;","import React from 'react';\nimport {Container, Typography} from \"@material-ui/core\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\n\n\nclass Achievement extends React.Component {\n    render() {\n        return (\n            <div>\n                <DefaultAppBar title='Achievement'/>\n                <Container maxWidth=\"md\">\n                    <Typography variant=\"h4\">Not implemented</Typography>\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default Achievement;","import {Link, Redirect, Route, Switch} from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Verify from \"./Verify\";\nimport Logout from \"./Logout\";\nimport Upload from \"./Upload\";\nimport User from \"./User\";\nimport Power from \"./Power\";\nimport Archive from \"./Archive\";\nimport Consumers from \"./Consumers\";\nimport Behavior from \"./Behavior\";\nimport React, {useEffect, useState} from \"react\";\nimport Home from \"./Home\";\nimport Thermostats from \"./Thermostats\";\nimport Achievement from \"./Achievement\";\nimport BackendService from \"./service/BackendService\";\nimport {Box, Button, LinearProgress, Typography} from \"@material-ui/core\";\n\nconst ReactRouter = (props: { backendService: BackendService }) => {\n    const {backendService} = props;\n    const [isLoggedIn, setIsLoggedIn] = useState<boolean | null>(null);\n\n    useEffect(() => {\n        backendService.isLoggedIn().subscribe((value) => {\n            setIsLoggedIn(value);\n        });\n    });\n\n    if (isLoggedIn == null) {\n        return (<LinearProgress/>)\n    }\n\n    const _404 = (path: string) => (\n        <Box m={16} textAlign='center'>\n            <Typography variant=\"h1\">404</Typography>\n            <Typography variant=\"h5\">Page not found</Typography>\n            <Box m={2}>\n                <Button color=\"primary\" variant=\"contained\" component={Link} to={path}>Go home</Button>\n            </Box>\n        </Box>\n    );\n\n    const publicPaths = () => (\n        <Switch>\n            <Route path=\"/verify\"><Verify backendService={backendService}/></Route>\n            <Route path=\"/login\"><Login backendService={backendService}/></Route>\n            <Route>{_404(\"/login\")}</Route>\n        </Switch>\n    );\n\n    const privatePaths = () => (\n        <Switch>\n            <Route path=\"/logout\"><Logout backendService={backendService}/></Route>\n            <Route path=\"/upload\"><Upload backendService={backendService}/></Route>\n            <Route path=\"/user\"><User backendService={backendService}/></Route>\n            <Route path=\"/power\"><Power backendService={backendService}/></Route>\n            <Route path=\"/archive\"><Archive backendService={backendService}/></Route>\n            <Route path=\"/consumers\"><Consumers backendService={backendService}/></Route>\n            <Route path=\"/behavior\"><Behavior/></Route>\n            <Route path=\"/thermostats\"><Thermostats/></Route>\n            <Route path=\"/achievement\"><Achievement/></Route>\n            <Route exact path=\"/\"><Home/></Route>\n            <Route exact path={`${process.env.PUBLIC_URL}`}><Home/></Route>\n            <Route>{_404(\"/\")}</Route>\n        </Switch>\n    );\n\n\n    return (\n        <React.Fragment>\n            {!isLoggedIn && <Redirect to=\"/login\"/>}\n            {!isLoggedIn && publicPaths()}\n            {isLoggedIn && privatePaths()}\n        </React.Fragment>\n    )\n}\n\nexport default ReactRouter;\n","import {AxiosRequestConfig, AxiosResponse} from 'axios';\nimport {Backend} from \"./Backend\";\nimport {ConsumerModel, LoginResponse, ProcessedConsumptionModel, UserModel, UserPredictionModel} from \"./Model\";\nimport {BehaviorSubject, map, Observable} from \"rxjs\";\n\nfunction unpack<T>(response: AxiosResponse<T>): T {\n    return response.data;\n}\n\nclass BackendService {\n    private readonly accessToken: BehaviorSubject<string | null>;\n    private readonly isLoggedInObservable: any;\n    private readonly backend: Backend;\n\n    constructor(backend: Backend) {\n        this.backend = backend;\n        this.accessToken = new BehaviorSubject(localStorage.getItem(\"token\"));\n        this.isLoggedInObservable = this.accessToken\n            .pipe(map((token) => token != null && token !== \"\"))\n\n        window.addEventListener('storage', () => {\n            const token = localStorage.getItem(\"token\");\n            if (token !== this.accessToken.value) {\n                this.accessToken.next(token)\n            }\n        })\n    }\n\n    isLoggedIn() : Observable<boolean>{\n        return this.isLoggedInObservable\n    }\n\n    requestPin(sharedPassword: string, email: string) {\n        return this.backend\n            .get('/request_pin', {params: {'shared_password': sharedPassword, 'email': email}});\n    }\n\n    login(email: string, password: string) {\n        return this.backend\n            .get<LoginResponse>('/login', {params: {'email': email, 'password': password}})\n            .then((response) => {\n                const {token} = response.data;\n                localStorage.setItem(\"token\", token);\n                this.accessToken.next(token)\n            });\n    }\n\n    logout(): Promise<any> {\n        localStorage.removeItem(\"token\");\n        this.accessToken.next(null)\n        return this.backend\n            .get('/logout', this.addAuth());\n    }\n\n    getUser(): Promise<UserModel> {\n        return this.backend\n            .get<UserModel>('/user', this.addAuth())\n            .then(unpack);\n    }\n\n    getConsumers(): Promise<ConsumerModel[]> {\n        return this.backend\n            .get<ConsumerModel[]>('/consumer', this.addAuth())\n            .then(unpack);\n    }\n\n    putConsumer(consumer: ConsumerModel) {\n        return this.backend\n            .put('/consumer/' + consumer.consumerId, null, this.addAuth({\n                params: {\n                    consumer_name: consumer.name,\n                    consumer_active: consumer.active\n                }\n            }))\n    }\n\n    getProcessedConsumptions(): Promise<string[]> {\n        return this.backend\n            .get<string[]>('/processedconsumption', this.addAuth())\n            .then(unpack);\n    }\n\n    getProcessedConsumption(date: string): Promise<ProcessedConsumptionModel[]> {\n        return this.backend\n            .get<ProcessedConsumptionModel[]>('/processedconsumption/' + date, this.addAuth())\n            .then(unpack);\n    }\n\n    getPredictions(): Promise<string[]> {\n        return this.backend\n            .get<string[]>('/predictions', this.addAuth())\n            .then(unpack);\n    }\n\n    getPrediction(date: string): Promise<UserPredictionModel[]> {\n        return this.backend\n            .get<UserPredictionModel[]>('/predictions/' + date, this.addAuth())\n            .then(unpack)\n    }\n\n    postConsumption(file: File) {\n        const formData = new FormData();\n        formData.append(\"upfile\", file, file.name)\n        return this.backend\n            .post('/consumption', formData, this.addAuth())\n    }\n\n    private addAuth(config?: AxiosRequestConfig): AxiosRequestConfig {\n        return {...config, headers: {Authorization: `${this.accessToken.value}`}}\n    }\n}\n\nexport default BackendService;\n","import axios from \"axios\";\nimport FakeBackend from \"./service/FakeBackend\";\nimport {Backend} from \"./service/Backend\";\n\nexport interface Config {\n    backend: Backend,\n    type: string,\n    apiDescription: string\n}\n\nconst dev = {\n    backend: axios.create({baseURL: process.env.REACT_APP_API_BASE_URL}),\n    type: 'development',\n    apiDescription: process.env.REACT_APP_API_BASE_URL\n}\n\nconst prod = {\n    backend: axios.create({baseURL: process.env.REACT_APP_API_BASE_URL}),\n    type: 'production',\n    apiDescription: process.env.REACT_APP_API_BASE_URL\n}\n\nconst local = {\n    backend: new FakeBackend(),\n    type: 'local',\n    apiDescription: 'fakeApi'\n}\n\nlet backendConfig;\nif (process.env.REACT_APP_STAGE === 'production') {\n    backendConfig = prod;\n} else if (process.env.REACT_APP_STAGE === 'local') {\n    backendConfig = local;\n} else {\n    backendConfig = dev;\n}\n\nconst config = {\n    ...backendConfig\n}\nexport default config;\n","import {Backend} from \"./Backend\";\nimport {AxiosRequestConfig, AxiosResponse} from \"axios\";\n\nclass FakeBackend implements Backend {\n    delete<T = any, R = AxiosResponse<T>>(url: string, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n        })\n    }\n\n    get<T = any, R = AxiosResponse<T>>(url: string, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n            console.log(`Fake backend call to ${url}`, config)\n\n            if (url.endsWith('/request_pin')) {\n                if (config && config.params.shared_password === 'test' && config.params.email === \"user@test.com\") {\n                    ok({})\n                } else {\n                    error()\n                }\n            } else if (url.endsWith('/login')) {\n                if (config && config.params.password === \"123456\") {\n                    ok({token: 'fakeToken.thistokenisfake'})\n                } else {\n                    error()\n                }\n            } else if (url.endsWith('/logout')) {\n                ok({})\n            } else if (url.endsWith('/user')) {\n                ok({\n                    userId: '1234',\n                    email: 'user@test.com',\n                    type: 'normal',\n                    creationDate: '01-01-2020',\n                    unlockDate: '01-01-2020',\n                    treatmentGroup: 'group_1'\n                })\n            } else if (url.endsWith('/consumer')) {\n                ok(\n                    [\n                        {\n                            consumerId: 0,\n                            owner: 0,\n                            name: 'something',\n                            variableName: 'something',\n                            active: true\n                        },\n                        {\n                            consumerId: 1,\n                            owner: 0,\n                            name: 'something else',\n                            variableName: 'something else',\n                            active: true\n                        },\n                    ]\n                )\n            } else {\n                error()\n            }\n\n\n            function ok(data: {}) {\n                console.log(\"Resolving call with OK\")\n                resolve({\n                    data: data,\n                    status: 200,\n                    statusText: \"OK\",\n                    headers: {},\n                    config: {},\n                    request: {}\n                } as AxiosResponse<T> as unknown as R)\n            }\n\n            function error() {\n                console.log(\"Resolving call with Error\")\n                reject({\n                    response: {\n                        data: {},\n                        status: 400,\n                        statusText: \"BAD REQUEST\",\n                        headers: {},\n                        config: {},\n                        request: {}\n                    }\n                })\n            }\n        })\n    }\n\n    post<T = any, R = AxiosResponse<T>>(url: string, data?: any, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n        })\n    }\n\n    put<T = any, R = AxiosResponse<T>>(url: string, data?: any, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n        })\n    }\n}\n\nexport default FakeBackend;\n","import React from \"react\";\nimport {CssBaseline, LinearProgress, ThemeProvider, Typography,} from \"@material-ui/core\";\nimport {createMuiTheme} from \"@material-ui/core/styles\";\nimport ReactRouter from \"./Routes\";\nimport BackendService from \"./service/BackendService\";\nimport Config from \"./Config\";\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#7cb342',\n            light: '#aee571',\n            dark: '#4b830d',\n            contrastText: '#fff'\n        },\n        secondary: {\n            main: '#9ccc65',\n            light: '#cfff95',\n            dark: '#6b9b37'\n        },\n    },\n});\n\nconst backendService = new BackendService(Config.backend);\n\nclass App extends React.Component {\n    render() {\n        return (\n            <ThemeProvider theme={theme}>\n                <CssBaseline/>\n                <React.Suspense fallback={<LinearProgress/>}>\n                    <ReactRouter backendService={backendService}/>\n                </React.Suspense>\n                {Config.type !== \"production\" &&\n                <Typography component=\"h5\" style={{position: \"fixed\", bottom: 0}}>\n                    {Config.type} build, using {Config.apiDescription}\n                </Typography>\n                }\n            </ThemeProvider>\n        );\n    }\n}\n\nexport default App;\n","import i18n from 'i18next';\nimport {initReactI18next} from 'react-i18next';\nimport Backend from 'i18next-http-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\ni18n\n    .use(Backend)\n    .use(LanguageDetector)\n    .use(initReactI18next)\n    .init({\n        /*debug: true,*/\n        fallbackLng: 'en',\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        },\n        backend: {\n            // for all available options read the backend's repository readme file\n            loadPath: `${process.env.PUBLIC_URL}/locales/{{lng}}/{{ns}}.json`\n        }\n    });\n\nexport default i18n;\n","import {BrowserRouter as Router} from 'react-router-dom';\n\nimport React from 'react'\nimport './index.css';\nimport App from \"./App\";\nimport ReactDOM from 'react-dom';\nimport './i18n';\n\nReactDOM.render((\n    <React.StrictMode>\n        <Router basename={`${process.env.PUBLIC_URL}#`}>\n            <App/>\n        </Router>\n    </React.StrictMode>\n), document.getElementById('root'));\n"],"sourceRoot":""}