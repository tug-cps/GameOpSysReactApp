{"version":3,"sources":["locales lazy /^/.//.*/.json$/ groupOptions: {} namespace object","common/AlertSnackbar.tsx","common/UseSnackBar.tsx","Login.tsx","Verify.tsx","Logout.tsx","common/Destinations.tsx","common/DefaultAppBar.tsx","Upload.tsx","User.tsx","power/PowerEntry.tsx","Power.tsx","archive/ArchiveEntry.tsx","Archive.tsx","common/ConsumerTools.tsx","consumers/ConsumerCard.tsx","consumers/DeleteConsumerDialog.tsx","consumers/EditConsumerDialog.tsx","consumers/CreateConsumerDialog.tsx","Consumers.tsx","behavior/BehaviorDragSelect.tsx","Behavior.tsx","behavior/BehaviorStyles.tsx","Home.tsx","thermostats/ThermostatDaySetting.tsx","Thermostats.tsx","common/DefaultBottomNavigation.tsx","Mood.tsx","Routes.tsx","service/BackendService.ts","service/FakeDB.ts","service/Executor.ts","service/FakeBackend.ts","Config.ts","App.tsx","i18n.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","AlertSnackbar","props","severity","autoHideDuration","Snackbar","open","onClose","Alert","variant","message","useSnackBar","useState","state","setState","prevState","useCallback","response","statusText","withRouter","withStyles","palette","spacing","createStyles","paper","margin","padding","display","flexDirection","alignItems","avatar","backgroundColor","secondary","main","submit","withTranslation","Track","useTracking","page","dispatchOnMount","shared_password","email","error","setError","classes","backendService","history","Box","height","Container","maxWidth","Grid","container","item","xs","md","className","justifyContent","Typography","paragraph","component","Avatar","onSubmit","preventDefault","requestPin","push","catch","TextField","autoFocus","label","value","onChange","target","required","fullWidth","autoComplete","Button","type","color","marginTop","form","width","password","location","useEffect","login","Logout","useHistory","logout","console","log","LinearProgress","destinations","home","title","subtitle","icon","HomeOutlined","to","upload","CloudUploadOutlined","behavior","EditOutlined","thermostats","AcUnit","user","PersonOutline","power","ShowChart","archive","History","mood","Mood","useStyles","makeStyles","theme","menuButton","marginRight","menu","MenuButton","goBack","useTheme","matches","useMediaQuery","breakpoints","down","React","useTranslation","useContext","UserContext","useNavDrawerDestinations","toggleDrawer","event","key","hideBackButton","Fragment","SwipeableDrawer","anchor","onOpen","onClick","onKeyDown","role","List","d","ListItem","button","RouterLink","ListItemIcon","SvgIcon","ListItemText","primary","IconButton","edge","Menu","ArrowBack","DefaultAppBar","trigger","useScrollTrigger","Slide","appear","direction","in","AppBar","Toolbar","mx","children","multiLine","style","visibility","input","success","setSuccess","my","sm","gutterBottom","name","link","op","Link","href","accept","file","files","postConsumption","htmlFor","size","startIcon","UserInfo","items","Email","text","MyLocation","Group","it","idx","ConsumersInfo","Power","count","consumers","ArrowRight","LanguageInfo","Language","select","language","changeLanguage","MenuItem","i18next","languages","setLanguage","setUser","setConsumers","getUser","getConsumers","length","ExitToApp","py","disableGutters","Paper","Divider","process","options","animation","PowerEntry","data","this","date","getProcessedConsumption","consumptions","labels","Array","from","datasets","c","fill","borderColor","Component","card","dates","setDates","getProcessedConsumptions","Card","CardContent","ArchiveEntry","predictions","setPredictions","getPrediction","prediction","CardActionArea","v","consumerId","Archive","getPredictions","translate","str","override","de","en","icons","laundry","LocalLaundryService","cooking","Restaurant","dishes","FreeBreakfast","hygiene","Bathtub","entertainment","Movie","wellness","Spa","homeoffice","Computer","misc","Help","temperature","guests","emobility","iconLookup","ConsumerCard","consumer","clickEdit","clickActive","clickDelete","undefined","ListItemAvatar","customName","ListItemSecondaryAction","active","Visibility","VisibilityOff","Delete","DeleteConsumerDialog","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","onApply","EditConsumerDialog","consumerName","CreateConsumerDialog","Consumers","refresh","onApplyDelete","useDeleteConsumerDialog","removeConsumer","deleteProps","setDelete","onApplyEdit","useEditConsumerDialog","putConsumer","editProps","setEdit","useCreateConsumerDialog","postConsumer","createProps","setCreate","pb","Fab","Add","BehaviorDragSelect","handleTouchStartCell","isLeftClick","isTouch","selectionStarted","eventToCellLocation","row","column","onSelectionStart","startRow","startColumn","endRow","endColumn","addMode","rows","cellStates","handleTouchMoveCell","nextRowCount","Math","abs","nextColumnCount","maxRows","maxColumns","handleTouchEndWindow","r","assign","minRow","min","maxRow","max","minColumn","maxColumn","isCellBeingSelected","window","addEventListener","removeEventListener","i","TableRow","TableCell","header","selected","j","disabled","beingSelected","onTouchStart","onTouchMove","defaultProps","Infinity","onInput","Cell","td","handleTouchStart","handleTouchMove","nextProps","nextState","nextContext","passive","ref","onMouseDown","onMouseMove","touches","touch","document","elementFromPoint","clientX","clientY","tagName","parentNode","rowIndex","cellIndex","hours","formatTime","colors","energyAvailable","Date","toISOString","slice","overflow","maxHeight","tableDragSelect","userSelect","borderCollapse","position","top","zIndex","border","divider","modified","all","filter","Tooltip","enterTouchDelay","find","p","when","putPrediction","SaveAlt","TableContainer","Table","stickyHeader","TableHead","align","String","TableBody","cells","HomeCard","media","background","xl","CardMedia","noWrap","Home","homeDestinations","useHomeDestinations","index","locale","plugins","legend","tooltip","enabled","scales","xAxes","ticks","callback","yAxes","suggestedMax","suggestedMin","ThermostatDaySetting","dataItems","time","x","substring","indexOf","y","showLine","stepped","square","colSpan","hover","Edit","CardActions","flexShrink","a11yProps","TabPanel","other","hidden","Thermostats","viewType","tabs","days","lg","Tabs","newValue","Tab","tab","day","root","bottom","spacer","DefaultBottomNavigation","setValue","useBottomBarDestinations","elevation","BottomNavigation","destination","showLabels","BottomNavigationAction","DraggableGraph","defaults","borderWidth","hoverRadius","pointHitRadius","maintainAspectRatio","aspectRation","alignToPixels","grid","onHover","chart","getElementsAtEventForMode","intersect","native","cursor","dragData","dragX","showTooltip","onDragStart","element","onDrag","datasetIndex","onDragEnd","magnet","round","setMood","getMood","putMood","createContext","ReactRouter","isLoggedIn","setIsLoggedIn","subscribe","Page404","m","textAlign","path","PublicPaths","PrivatePaths","paths","exact","Provider","unpack","BackendService","backend","accessToken","isLoggedInObservable","BehaviorSubject","localStorage","getItem","pipe","token","next","sharedPassword","get","params","setItem","removeItem","addAuth","finally","consumer_name","post","put","consumer_active","delete","formData","FormData","append","config","headers","Authorization","getFakeDB","db","JSON","stringify","userId","toString","owner","processedConsumption","reduce","val","random","now","parse","saveFakeDB","DefaultExecutor","reject","status","request","FaultyExecutor","executor","ok","findInDict","dict","matcher","FakeBackend","backendConfig","url","includes","lastIndexOf","findIndex","splice","endsWith","uuidv4","split","pop","startsWith","array","elementMatcher","changes","consumerIndex","meldArrayElement","axios","create","baseURL","apiDescription","Config","App","prefersDarkMode","useMemo","createTheme","lightGreen","contrastText","MuiGrid","MuiCard","overrides","MuiFab","right","MuiSnackbar","anchorOriginBottomCenter","dispatch","ThemeProvider","CssBaseline","Suspense","fallback","i18n","use","resourcesToBackend","namespace","resources","LanguageDetector","initReactI18next","init","fallbackLng","interpolation","escapeValue","loadPath","Boolean","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"2IAAA,IAAIA,EAAM,CACT,wBAAyB,CACxB,IACA,GAED,wBAAyB,CACxB,IACA,IAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B,OAAOR,EAAoBK,EAAEG,EAAI,IAAIJ,MAAK,WACzC,OAAOJ,EAAoBU,EAAED,EAAI,MAGnCX,EAAoBa,KAAO,WAC1B,OAAOC,OAAOD,KAAKd,IAEpBC,EAAoBW,GAAK,IACzBI,EAAOC,QAAUhB,G,gQChBV,SAASiB,EAAcC,GAAe,IAAD,IAClCC,EAAQ,UAAGD,EAAMC,gBAAT,QAAqB,QAC7BC,EAAgB,UAAGF,EAAME,wBAAT,QAA6B,IACnD,OACI,cAACC,EAAA,EAAD,CAAUC,KAAMJ,EAAMI,KAAMF,iBAAkBA,EAAkBG,QAASL,EAAMK,QAA/E,SACI,cAACC,EAAA,EAAD,CAAOC,QAAQ,SAASF,QAASL,EAAMK,QAASJ,SAAUA,EAA1D,SAAqED,EAAMQ,YCVhF,SAASC,IACZ,MAA0BC,mBAAgB,CAACN,MAAM,IAAjD,mBAAOO,EAAP,KAAcC,EAAd,KAOA,MAAO,CALO,CAACR,KAAMO,EAAMP,KAAMC,QADnB,kBAAMO,GAAS,SAAAC,GAAS,kCAASA,GAAT,IAAoBT,MAAM,QACfI,QAASG,EAAMH,SAC5CM,uBAAY,SAACN,GAAD,aAAkBI,EAAS,CACvDR,MAAM,EACNI,QAA4B,kBAAZA,EAAuBA,EAA9B,OAAwCA,QAAxC,IAAwCA,GAAxC,UAAwCA,EAASO,gBAAjD,aAAwC,EAAmBC,eACpE,K,YCwGOC,kBAAWC,aAhGX,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAASC,EAAX,EAAWA,QAAX,OAA+BC,YAAa,CACvDC,MAAO,CACHC,OAAQH,EAAQ,GAChBI,QAASJ,EAAQ,GACjBK,QAAS,OACTC,cAAe,SACfC,WAAY,UAEhBC,OAAQ,CACJL,OAAQH,EAAQ,GAChBS,gBAAiBV,EAAQW,UAAUC,MAEvCC,OAAQ,CACJT,OAAQH,EAAQ,EAAG,EAAG,QAmFJF,CAAmBe,eAtE7C,SAAejC,GACX,IAAOkC,EAASC,sBAAY,CAACC,KAAM,SAAU,CAACC,iBAAiB,IAAxDH,MACP,EAA0BxB,mBAAgB,CAAC4B,gBAAiB,GAAIC,MAAO,KAAvE,mBAAO5B,EAAP,KAAcC,EAAd,KACA,EAA0BH,IAA1B,mBAAO+B,EAAP,KAAcC,EAAd,KACOC,EAAuC1C,EAAvC0C,QAAShD,EAA8BM,EAA9BN,EAAGiD,EAA2B3C,EAA3B2C,eAAgBC,EAAW5C,EAAX4C,QASnC,OACI,eAACV,EAAD,WACI,cAACW,EAAA,EAAD,CAAKpB,QAAQ,OAAOE,WAAW,SAASmB,OAAO,QAA/C,SACI,cAACC,EAAA,EAAD,CAAWC,SAAS,KAApB,SACI,eAACC,EAAA,EAAD,CAAMC,WAAS,EAAC9B,QAAS,EAAzB,UACI,cAAC6B,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,IAAE,EAACC,UAAWZ,EAAQpB,MAAzC,SACI,eAACuB,EAAA,EAAD,CAAKlB,WAAW,SAASF,QAAQ,OAAO8B,eAAe,SAAS7B,cAAc,SACzEoB,OAAO,OADZ,UAEI,cAACU,EAAA,EAAD,CAAYC,WAAS,EAACC,UAAU,KAAKnD,QAAQ,KAA7C,oBACA,cAACiD,EAAA,EAAD,CAAYE,UAAU,KAAKnD,QAAQ,KAAnC,SAAyCb,EAAE,wBAGnD,eAACuD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,IAAE,EAACC,UAAWZ,EAAQpB,MAAzC,UACI,cAACqC,EAAA,EAAD,CAAQL,UAAWZ,EAAQd,SAC3B,cAAC4B,EAAA,EAAD,CAAYE,UAAU,KAAKnD,QAAQ,KAAnC,SAAyCb,EAAE,mBAC3C,uBAAMkE,SAtBT,SAACvE,GAClBA,EAAEwE,iBACFlB,EAAemB,WAAWnD,EAAM2B,gBAAiB3B,EAAM4B,OAClDnD,MAAK,kBAAMwD,EAAQmB,KAAK,UAAW,CAACxB,MAAO5B,EAAM4B,WACjDyB,MAAMvB,IAkBS,UACI,cAACwB,EAAA,EAAD,CACIC,WAAS,EACTzE,GAAG,kBACH0E,MAAOzE,EAAE,yBACTa,QAAQ,WACRgB,OAAO,SACP6C,MAAOzD,EAAM2B,gBACb+B,SAAU,SAAChF,GAAD,OAAOuB,EAAS,2BAAID,GAAL,IAAY2B,gBAAiBjD,EAAEiF,OAAOF,UAC/DG,UAAQ,EACRC,WAAS,IAEb,cAACP,EAAA,EAAD,CACIQ,aAAa,QACbhF,GAAG,QACH0E,MAAOzE,EAAE,uBACTa,QAAQ,WACRgB,OAAO,SACP6C,MAAOzD,EAAM4B,MACb8B,SAAU,SAAChF,GAAD,OAAOuB,EAAS,2BAAID,GAAL,IAAY4B,MAAOlD,EAAEiF,OAAOF,UACrDG,UAAQ,EACRC,WAAS,IAEb,cAACE,EAAA,EAAD,CACIC,KAAK,SACLH,WAAS,EACTjE,QAAQ,YACRqE,MAAM,UACNtB,UAAWZ,EAAQV,OALvB,SAOKtC,EAAE,+BAO3B,cAACK,EAAD,eAAmByC,YCnBhBvB,kBAAWC,aAnFX,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAASC,EAAX,EAAWA,QAAX,OAA+BC,YAAa,CACvDC,MAAO,CACHuD,UAAWzD,EAAQ,GACnBK,QAAS,OACTC,cAAe,SACfC,WAAY,UAEhBC,OAAQ,CACJL,OAAQH,EAAQ,GAChBS,gBAAiBV,EAAQW,UAAUC,MAEvC+C,KAAM,CACFC,MAAO,OACPF,UAAWzD,EAAQ,IAEvBY,OAAQ,CACJT,OAAQH,EAAQ,EAAG,EAAG,QAmEJF,CAAmBe,eAtD7C,SAAgBjC,GACZ,IAAOkC,EAASC,sBAAY,CAACC,KAAM,UAAW,CAACC,iBAAiB,IAAzDH,MACP,EAA0BxB,mBAAgB,CAACsE,SAAU,KAArD,mBAAOrE,EAAP,KAAcC,EAAd,KACA,EAA0BH,IAA1B,mBAAO+B,EAAP,KAAcC,EAAd,KACOwC,EAAiDjF,EAAjDiF,SAAUrC,EAAuC5C,EAAvC4C,QAASD,EAA8B3C,EAA9B2C,eAAgBD,EAAc1C,EAAd0C,QAAShD,EAAKM,EAALN,EAoBnD,OAlBAwF,qBAAU,WAAO,IAAD,EAEkB,OAAlB,OAARD,QAAQ,IAARA,GAAA,UAAAA,EAAUtE,aAAV,eAAiB4B,QACjBK,EAAQmB,KAAK,OAElB,CAACkB,EAAUrC,IAcV,eAACV,EAAD,WACI,cAACa,EAAA,EAAD,CAAWW,UAAU,OAAOV,SAAS,KAArC,SACI,sBAAKM,UAAWZ,EAAQpB,MAAxB,UACI,cAACqC,EAAA,EAAD,CAAQL,UAAWZ,EAAQd,SAC3B,cAAC4B,EAAA,EAAD,CAAYE,UAAU,KAAKnD,QAAQ,KAAnC,SAAyCb,EAAE,kBAC3C,uBAAM4D,UAAWZ,EAAQoC,KAAMlB,SAjB1B,SAACvE,GAClB,IAAO2F,EAAYrE,EAAZqE,SAEAzC,EAAS0C,EAAStE,MAAlB4B,MAEPlD,EAAEwE,iBACFlB,EAAewC,MAAM5C,EAAOyC,GACvB5F,MAAK,kBAAMwD,EAAQmB,KAAK,QACxBC,MAAMvB,IASC,UACI,cAACwB,EAAA,EAAD,CACIC,WAAS,EACTzE,GAAG,MACH0E,MAAM,MACN5D,QAAQ,WACRgB,OAAO,SACP6C,MAAOzD,EAAMqE,SACbX,SAAU,SAAChF,GAAD,OAAOuB,EAAS,2BAAID,GAAL,IAAYqE,SAAU3F,EAAEiF,OAAOF,UACxDG,UAAQ,EACRC,WAAS,IACb,cAACE,EAAA,EAAD,CAAQC,KAAK,SACLH,WAAS,EACTjE,QAAQ,YACRqE,MAAM,UACNtB,UAAWZ,EAAQV,OAJ3B,SAIoCtC,EAAE,0BAIlD,cAACK,EAAD,eAAmByC,YCpEhB4C,MAff,SAAgBpF,GACZ,IAAOkC,EAASC,sBAAY,CAACC,KAAM,UAAW,CAACC,iBAAiB,IAAzDH,MACA6B,EAAQsB,cAARtB,KACApB,EAAkB3C,EAAlB2C,eASP,OAPAuC,qBAAU,WACNvC,EACK2C,SACAtB,MAAMuB,QAAQC,KACdpG,MAAK,kBAAM2E,EAAK,eACtB,CAACpB,EAAgBoB,IAEb,cAAC7B,EAAD,UAAO,cAACuD,EAAA,EAAD,O,gNCLZC,GAAe,CACjBC,KAAM,CAACC,MAAO,YAAaC,SAAU,GAAIC,KAAMC,IAAcC,GAAI,KACjEC,OAAQ,CAACL,MAAO,oBAAqBC,SAAU,uBAAwBC,KAAMI,IAAqBF,GAAI,WACtGG,SAAU,CAACP,MAAO,sBAAuBC,SAAU,yBAA0BC,KAAMM,IAAcJ,GAAI,aACrGK,YACI,CAACT,MAAO,yBAA0BC,SAAU,4BAA6BC,KAAMQ,IAAQN,GAAI,gBAC/FO,KAAM,CAACX,MAAO,kBAAmBC,SAAU,qBAAsBC,KAAMU,IAAeR,GAAI,SAC1FS,MAAO,CAACb,MAAO,mBAAoBC,SAAU,sBAAuBC,KAAMY,IAAWV,GAAI,UACzFW,QAAS,CAACf,MAAO,qBAAsBC,SAAU,wBAAyBC,KAAMc,KAASZ,GAAI,YAC7Fa,KAAM,CAACjB,MAAO,kBAAmBC,SAAU,qBAAsBC,KAAMgB,KAAMd,GAAI,U,wBCE/Ee,GAAYC,aAAW,SAAAC,GAAK,MAAK,CAC/BC,WAAY,CACRC,YAAaF,EAAM7F,QAAQ,IAE/BgG,KAAM,CACFrC,MAAO,SAWnB,SAASsC,GAAWrH,GAChB,IAAOsH,EAAUjC,cAAViC,OACD5E,EAAUqE,KACVE,EAAQM,cACRC,EAAUC,YAAcR,EAAMS,YAAYC,KAAK,OACrD,EAA0BC,IAAMlH,SAAS,CAACN,MAAM,IAAhD,mBAAOO,EAAP,KAAcC,EAAd,KACOlB,EAAKmI,cAALnI,EACDgG,EDRH,WACH,IAAMa,EAAOuB,qBAAWC,IACxB,IAAKxB,EAAM,MAAO,GAClB,OAAQA,EAAK5B,MACT,IAAK,aACD,MAAO,CAACe,GAAaC,KAAMD,GAAaO,OAAQP,GAAaa,MACjE,IAAK,UACD,MAAO,CAACb,GAAaC,KAAMD,GAAaS,SAAUT,GAAaa,MACnE,QACI,MAAO,CAACb,GAAaC,KAAMD,GAAaO,OAAQP,GAAaS,SAAUT,GAAaW,YAAaX,GAAaa,OCDjGyB,GAEfC,EAAe,SAAC7H,GAAD,OAAmB,SAAC8H,KACjCA,GAAwB,YAAfA,EAAMvD,MAA8D,QAAtCuD,EAA8BC,KAAwD,UAAtCD,EAA8BC,MAGzHvH,EAAS,2BAAID,GAAL,IAAYP,KAAMA,OAG9B,OAA6B,IAAzBJ,EAAMoI,eACFZ,EAAgB,KACb,eAAC,IAAMa,SAAP,WACH,cAACC,EAAA,EAAD,CACIC,OAAO,OACPnI,KAAMO,EAAMP,KACZC,QAAS4H,GAAa,GACtBO,OAAQP,GAAa,GAJzB,SAMI,cAACpF,EAAA,EAAD,CACI4F,QAASR,GAAa,GACtBS,UAAWT,GAAa,GACxBU,KAAK,eACLrF,UAAWZ,EAAQ0E,KAJvB,SAMI,cAACwB,EAAA,EAAD,UACKlD,EAAa7G,KAAI,SAACgK,GAAD,OACd,eAACC,EAAA,EAAD,CAAUC,QAAM,EAAerF,UAAWsF,IAAYhD,GAAI6C,EAAE7C,GAA5D,UACI,cAACiD,EAAA,EAAD,UAAc,cAACC,EAAA,EAAD,CAASxF,UAAWmF,EAAE/C,SACpC,cAACqD,EAAA,EAAD,CAAcC,QAAS1J,EAAEmJ,EAAEjD,WAFTiD,EAAEjD,gBASxC,cAACyD,EAAA,EAAD,CACIC,KAAK,QACLhG,UAAWZ,EAAQwE,WACnBtC,MAAM,UACN,aAAW,YACX6D,QAASR,GAAa,GAL1B,SAOI,cAACsB,GAAA,EAAD,SAKR,cAACF,EAAA,EAAD,CACIC,KAAK,QACLhG,UAAWZ,EAAQwE,WACnBtC,MAAM,UACN,aAAW,OACX6D,QAASnB,EALb,SAOI,cAACkC,GAAA,EAAD,MA2BGC,OArBf,SAAuBzJ,GACnB,IAAO4F,EAAS5F,EAAT4F,MACD8D,EAAUC,cAChB,OACI,eAAC,IAAMtB,SAAP,WACI,cAACuB,EAAA,EAAD,CAAOC,QAAQ,EAAOC,UAAU,OAAOC,IAAKL,EAA5C,SACI,eAACM,EAAA,EAAD,WACI,eAACC,EAAA,EAAD,WACI,cAAC5C,GAAD,CAAYe,eAAgBpI,EAAMoI,iBAClC,cAAC5E,EAAA,EAAD,CAAYoB,MAAM,UAAUrE,QAAQ,KAApC,SAA0CqF,IAC1C,cAAC/C,EAAA,EAAD,CAAKqH,GAAG,SACPlK,EAAMmK,YAEVnK,EAAMoK,eAGf,cAACH,EAAA,EAAD,CAASI,MAAO,CAACC,WAAY,gBCT1BpJ,oBA5FA,kBAAMG,YAAa,CAC9BkJ,MAAO,CACH9I,QAAS,YA0FFP,CAAmBe,eA7ElC,SAAgBjC,GACZ,IAAOkC,EAASC,sBAAY,CAACC,KAAM,UAAW,CAACC,iBAAiB,IAAzDH,MACP,EAA8BzB,IAA9B,mBAAO+J,EAAP,KAAgBC,EAAhB,KACA,EAA0BhK,IAA1B,mBAAO+B,EAAP,KAAcC,EAAd,KACO/C,EAAKmI,cAALnI,EACAiD,EAA2B3C,EAA3B2C,eAAgBD,EAAW1C,EAAX0C,QAiBvB,OACI,eAACR,EAAD,WACI,cAAC,GAAD,CAAekG,gBAAc,EAACxC,MAAOlG,EAAE,uBACvC,cAACqD,EAAA,EAAD,CAAWC,SAAS,KAApB,SACI,cAACH,EAAA,EAAD,CAAK6H,GAAI,EAAT,SACI,eAACzH,EAAA,EAAD,CAAMC,WAAS,EAAC9B,QAAS,EAAzB,UACI,eAAC6B,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIuH,GAAI,EAAvB,UACI,cAACnH,EAAA,EAAD,CAAYjD,QAAQ,KAAKqK,cAAY,EAArC,SAAuClL,EAAE,2BACzC,cAAC8D,EAAA,EAAD,CAAYoB,MAAM,gBAAgBnB,WAAS,EAA3C,SACK/D,EAAE,iCAEP,cAACkJ,EAAA,EAAD,UAjBM,CAC1B,CAACiC,KAAM,yBAAuBC,KAAM,yDACpC,CAACD,KAAM,kBAAmBC,KAAM,wCAChC,CAACD,KAAM,kBAAgBC,KAAM,+EAeMjM,KAAI,SAACkM,GACZ,OACI,cAACjC,EAAA,EAAD,UACI,cAACtF,EAAA,EAAD,UAAY,cAACwH,EAAA,EAAD,CAAMC,KAAMF,EAAGD,KAAf,SAAsBC,EAAGF,UAD1BE,EAAGF,cAOlC,eAAC5H,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIuH,GAAI,EAAvB,UACI,cAACnH,EAAA,EAAD,CACIjD,QAAQ,KACRqK,cAAY,EAFhB,SAGElL,EAAE,yBACJ,cAAC8D,EAAA,EAAD,CACIoB,MAAM,gBACNnB,WAAS,EAFb,SAGE/D,EAAE,+BACJ,uBACIwL,OAAO,oGACP5H,UAAWZ,EAAQ6H,MACnB9K,GAAG,aACHkF,KAAK,OACLN,SAAU,SAAChF,GAAD,MAlDpB8L,EAkDoB,OAAO,UAAA9L,EAAEiF,cAAF,eAAU8G,SAlDrCD,EAkDuD9L,EAAEiF,OAAO8G,MAAM,QAjDpFzI,EAAe0I,gBAAgBF,GAC1B/L,MAAK,WACFmG,QAAQC,IAAI,kBACZiF,EAAW,mBACZhI,GACFuB,MAAMuB,QAAQC,SA6CC,uBAAO8F,QAAQ,aAAf,SACI,cAAC5G,EAAA,EAAD,CAAQnE,QAAQ,YACRgL,KAAK,QACL3G,MAAM,UACNJ,WAAS,EACTd,UAAU,OACV8H,UAAW,cAACtF,EAAA,EAAD,IALnB,SAMExG,EAAE,+BAMxB,cAACK,EAAD,aAAeE,SAAS,WAAcuK,IACtC,cAACzK,EAAD,eAAmByC,W,6GC9E/B,SAASiJ,GAASzL,GACd,IAAOuG,EAAQvG,EAARuG,KACDmF,EAAQ,CACV,CAAC5F,KAAM,cAAC6F,GAAA,EAAD,IAAUC,KAAMrF,EAAKhE,OAC5B,CAACuD,KAAM,cAAC+F,GAAA,EAAD,IAAeD,KAAMrF,EAAKtB,UACjC,CAACa,KAAM,cAACgG,GAAA,EAAD,IAAUF,KAAMrF,EAAK5B,OAEhC,OAAO,mCAAG+G,EAAM7M,KAAI,SAACkN,EAAIC,GAAL,OAChB,eAAClD,EAAA,EAAD,WACI,cAACG,EAAA,EAAD,UAAe8C,EAAGjG,OAClB,cAACqD,EAAA,EAAD,UAAe4C,EAAGH,SAFP,WAAaI,QAOpC,SAASC,GAAcjM,GACnB,IAAON,EAAKmI,cAALnI,EACP,OAAO,eAACoJ,EAAA,EAAD,CAAoCC,QAAM,EAACrF,UAAWsF,IAAYhD,GAAI,aAAtE,UACH,cAACiD,EAAA,EAAD,UAAc,cAACiD,GAAA,EAAD,MACd,cAAC/C,EAAA,EAAD,UAAezJ,EAAE,gBAAiB,CAACyM,MAAOnM,EAAMoM,cAChD,cAACnD,EAAA,EAAD,UAAc,cAACoD,GAAA,EAAD,QAHI,qBAO1B,SAASC,GAAatM,GAClB,OAAO,eAAC8I,EAAA,EAAD,WACH,cAACG,EAAA,EAAD,UAAc,cAACsD,GAAA,EAAD,MACd,eAACtI,EAAA,EAAD,CACIE,MAAM,WACNqI,QAAM,EACNjM,QAAQ,WACRiE,WAAS,EACTJ,MAAOpE,EAAMyM,SACbpI,SAAU,SAAChF,GAAD,OAAOW,EAAM0M,eAAerN,EAAEiF,OAAOF,QANnD,UAQI,cAACuI,GAAA,EAAD,CAAUvI,MAAO,KAAjB,oBACA,cAACuI,GAAA,EAAD,CAAUvI,MAAO,KAAjB,0BAXa,oBA0EVnC,sBA1Df,SAAcjC,GACV,IAAOkC,EAASC,sBAAY,CAACC,KAAM,QAAS,CAACC,iBAAiB,IAAvDH,MACP,EAAgCxB,mBAAiBkM,KAAQC,UAAU,IAAnE,mBAAOJ,EAAP,KAAiBK,EAAjB,KACA,EAAwBpM,qBAAxB,mBAAO6F,EAAP,KAAawG,EAAb,KACA,EAAkCrM,qBAAlC,mBAAO0L,EAAP,KAAkBY,EAAlB,KACA,EAA0BvM,IAA1B,mBAAO+B,EAAP,KAAcC,EAAd,KAEOE,EAAqB3C,EAArB2C,eAAgBjD,EAAKM,EAALN,EAoBvB,OAlBAwF,qBAAU,WACNvC,EAAesK,UACV7N,KAAK2N,EAAStK,GACduB,MAAMuB,QAAQC,OACpB,CAAC7C,EAAgBF,IAEpByC,qBAAU,WACNvC,EAAeuK,eACV9N,MAAK,SAAAgN,GAAS,OAAwB,GAAX,OAATA,QAAS,IAATA,OAAA,EAAAA,EAAWe,WAC7B/N,KAAK4N,EAAcvK,GACnBuB,MAAMuB,QAAQC,OACpB,CAAC7C,EAAgBF,IAQhB,eAACP,EAAD,WACI,cAAC,GAAD,CAAekG,gBAAc,EAACxC,MAAOlG,EAAE,mBAAvC,SACI,cAACgF,EAAA,EAAD,CACI8G,UAAW,cAAC4B,GAAA,EAAD,IACXxI,MAAM,UACNlB,UAAWsF,IACXhD,GAAG,UAJP,SAKEtG,EAAE,cAEP6G,GACD,cAAC1D,EAAA,EAAD,CAAKwK,GAAI,EAAT,SACI,eAACtK,EAAA,EAAD,CAAWC,SAAS,KAAKsK,gBAAc,EAAvC,UACI,cAACC,GAAA,EAAD,CAAOhN,QAAQ,WAAf,SACI,eAACqI,EAAA,EAAD,WACI,cAAC6C,GAAD,CAAUlF,KAAMA,IAChB,cAACiH,GAAA,EAAD,CAASjN,QAAQ,QAAQmD,UAAU,OACpB,eAAd6C,EAAK5B,MAAyB,cAACsH,GAAD,CAAeG,UAAWA,IACzD,cAACE,GAAD,CAAcG,SAAUA,EAAUC,eAvBnC,SAACD,GAAD,OACnBG,KAAQF,eAAeD,GAClBrN,MAAK,kBAAM0N,EAAYL,KAAWhK,GAClCuB,MAAMuB,QAAQC,aAuBNiI,SAIPlH,GAAQ,cAACd,EAAA,EAAD,IACV,cAAC1F,EAAD,eAAmByC,U,iEC/GzBkL,GAAwB,CAC1BC,WAAW,GAGFC,GAAb,oDACI,WAAY5N,GAA8B,IAAD,+BACrC,cAAMA,IACDW,MAAQ,CACTkN,KAAM,IAH2B,EAD7C,sDAQI,WAAqB,IAAD,OAChB,EAA+BC,KAAK9N,MAA7B2C,EAAP,EAAOA,eAAgBoL,EAAvB,EAAuBA,KACvBpL,EAAeqL,wBAAwBD,GAClC3O,MAAK,SAAC6O,GACH,EAAKrN,SAAS,CACViN,KAAM,CACFK,OAAQC,MAAMC,KAAKD,MAAM,IAAIxO,QAC7B0O,SAAUJ,EAAapP,KAAI,SAACyP,GAAD,MAAQ,CAC3BnK,MAAOmK,EAAE3J,KACTkJ,KAAMS,EAAET,KACRU,MAAM,EACN1M,gBAA6B,WAAXyM,EAAE3J,KAAqB,oBAAsB,QAC/D6J,YAAa,oCAMhCxK,MAAMuB,QAAQC,OA1B3B,oBA6BI,WACI,IAAOqI,EAAQC,KAAKnN,MAAbkN,KAEP,OADAtI,QAAQC,IAAIqI,GAER,cAAC,KAAD,CAAMA,KAAMA,EAAMH,QAASA,SAjCvC,GAAgC9F,IAAM6G,WC+BvBvN,oBAzCA,SAAC,GAAD,IAAEE,EAAF,EAAEA,QAAF,OAAsBC,YAAa,CAC9CqN,KAAM,CACF7J,UAAWzD,EAAQ,QAuCZF,EA/Bf,SAAelB,GACX,IAAOkC,EAASC,sBAAY,CAACC,KAAM,SAAU,CAACC,iBAAiB,IAAxDH,MACP,EAA0BxB,qBAA1B,mBAAOiO,EAAP,KAAcC,EAAd,KACOlM,EAA2B1C,EAA3B0C,QAASC,EAAkB3C,EAAlB2C,eAQhB,OANAuC,qBAAU,WACNvC,EAAekM,2BACVzP,KAAKwP,GACL5K,MAAMuB,QAAQC,OACpB,CAAC7C,IAGA,eAACT,EAAD,WACI,cAAC,GAAD,CAAe0D,MAAM,UACpB+I,GACD,cAAC5L,EAAA,EAAD,CAAWC,SAAS,KAApB,SACK2L,EAAM9P,KAAI,SAACkP,GAAD,OACP,cAACe,GAAA,EAAD,CAAMvO,QAAQ,WAAsB+C,UAAWZ,EAAQgM,KAAvD,SACI,eAACK,GAAA,EAAD,WACI,cAACvL,EAAA,EAAD,CAAYjD,QAAQ,KAApB,SAA0BwN,IAC1B,cAAC,GAAD,CAAYA,KAAMA,EAAMpL,eAAgBA,QAHlBoL,c,UCJnCiB,OA1Bf,SAAsBhP,GAClB,IAAO+N,EAAwB/N,EAAxB+N,KAAMpL,EAAkB3C,EAAlB2C,eACb,EAAsCjC,mBAAS,IAAIyN,OAAnD,mBAAOc,EAAP,KAAoBC,EAApB,KAOA,OANAhK,qBAAU,WACNvC,EAAewM,cAAcpB,GACxB3O,MAAK,SAACgQ,GAAD,OAAgBF,EAAeE,MACpCpL,MAAMuB,QAAQC,OACpB,CAAC7C,EAAgBoL,IAGhB,cAACe,GAAA,EAAD,CAAMvO,QAAQ,WAAd,SACI,cAAC8O,GAAA,EAAD,UACI,eAACN,GAAA,EAAD,WACI,cAACvL,EAAA,EAAD,CAAYjD,QAAQ,KAApB,SAA0BwN,IACzBkB,EAAYpQ,KAAI,SAACuQ,GAAD,OAET,cAAC5L,EAAA,EAAD,CAAYjD,QAAQ,QAApB,SACK6O,EAAWvB,KAAKhP,KAAI,SAACyQ,GAAD,OAAOA,EAAI,SAAM,aADTF,EAAWG,uBCoBzDC,OA1Bf,SAAiBxP,GACb,IAAOkC,EAASC,sBAAY,CAACC,KAAM,WAAY,CAACC,iBAAiB,IAA1DH,MACP,EAA0BxB,mBAAS,IAAIyN,OAAvC,mBAAOQ,EAAP,KAAcC,EAAd,KACOjM,EAAkB3C,EAAlB2C,eACAjD,EAAKmI,cAALnI,EACP,EAA0Be,IAA1B,mBAAO+B,EAAP,KAAcC,EAAd,KAOA,OALAyC,qBAAU,WACNvC,EAAe8M,iBACVrQ,KAAKwP,EAAUnM,GACfuB,MAAMuB,QAAQC,OACpB,CAAC7C,EAAgBF,IAEhB,eAACP,EAAD,WACI,cAAC,GAAD,CAAe0D,MAAOlG,EAAE,wBACxB,cAACmD,EAAA,EAAD,CAAKwK,GAAI,EAAT,SACI,cAACtK,EAAA,EAAD,CAAWC,SAAS,KAApB,SACK2L,EAAM9P,KAAI,SAACuF,GAAD,OACP,cAAC,GAAD,CAAc2J,KAAM3J,EAAmBzB,eAAgB3C,EAAM2C,gBAA7ByB,UAG5C,cAACrE,EAAD,eAAmByC,Q,8GCpBxB,SAASkN,GAAUC,EAAmCC,GACzD,OAAIA,GAAyB,KAAbA,EAAwBA,EACnCD,EAGQ,OADA/C,KAAQH,SACKkD,EAAIE,GACvBF,EAAIG,GAJM,GAOrB,IAAMC,GAAa,CACfC,QAAS,cAACC,GAAA,EAAD,IACTC,QAAS,cAACC,GAAA,EAAD,IACTC,OAAQ,cAACC,GAAA,EAAD,IACRC,QAAS,cAACC,GAAA,EAAD,IACTC,cAAe,cAACC,GAAA,EAAD,IACfC,SAAU,cAACC,GAAA,EAAD,IACVC,WAAY,cAACC,GAAA,EAAD,IACZC,KAAM,cAACC,GAAA,EAAD,IACNC,YAAa,cAAC1K,EAAA,EAAD,IACb2K,OAAQ,cAACnF,GAAA,EAAD,IACRoF,UAAW,cAAChF,GAAA,EAAD,KAGR,SAASiF,GAAWtG,GACvB,OAAOA,GAAQA,KAAQkF,GAAQA,GAAMlF,GAAQ,cAACkG,GAAA,EAAD,I,kCCDlCK,OAjCf,SAAsBpR,GAMlB,IAAOqR,EAAiDrR,EAAjDqR,SAAUC,EAAuCtR,EAAvCsR,UAAWC,EAA4BvR,EAA5BuR,YAAaC,EAAexR,EAAfwR,YACnCzI,IAAWuI,EACjB,OACI,eAACxI,EAAA,EAAD,CACUH,UAAM8I,EACN1I,OAAQA,EACRN,QAAS,kBAAM6I,GAAaA,EAAUD,IAHhD,UAII,cAACK,GAAA,EAAD,UAAgB,cAAC/N,EAAA,EAAD,UAASwN,GAAWE,EAAS1M,UAC7C,cAACwE,EAAA,EAAD,CAAcC,QAASsG,GAAU2B,EAASxG,KAAMwG,EAASM,cACzD,eAACC,GAAA,EAAD,WACKL,GAAe,cAAClI,EAAA,EAAD,CACZC,KAAK,MACL,cAAY,eACZb,QAAS,kBAAM8I,EAAYF,IAHf,SAIXA,EAASQ,OAAS,cAACC,GAAA,EAAD,IAAgB,cAACC,GAAA,EAAD,MAEtCP,GAAe,cAACnI,EAAA,EAAD,CACZC,KAAK,MACL,cAAY,SACZb,QAAS,kBAAM+I,EAAYH,IAHf,SAIZ,cAACW,GAAA,EAAD,WAjBGX,EAAS9B,a,kDCyBzB,SAAS0C,GAAqBjS,GACjC,IAAON,EAAKmI,cAALnI,EACA2R,EAAYrR,EAAZqR,SACP,OAAQ,eAACa,GAAA,EAAD,CAAQ9R,KAAMJ,EAAMI,KAAMC,QAASL,EAAMK,QAAS,kBAAgB,oBAAlE,UACJ,cAAC8R,GAAA,EAAD,CAAa1S,GAAG,oBAAhB,SAAqCC,EAAE,0BACtC2R,GAAY,eAAC,IAAMhJ,SAAP,WACT,cAAC+J,GAAA,EAAD,UACI,cAAC7E,GAAA,EAAD,CAAOhN,QAAQ,WAAf,SACI,cAACqI,EAAA,EAAD,UACI,eAACE,EAAA,EAAD,CAAUH,UAAM8I,EAAhB,UACI,cAACC,GAAA,EAAD,UAAgB,cAAC/N,EAAA,EAAD,UAASwN,GAAWE,EAAS1M,UAC7C,cAACwE,EAAA,EAAD,CAAcC,QAASsG,GAAU2B,EAASxG,KAAMwG,EAASM,uBAMzE,cAACS,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,UAAoB3S,EAAE,yBAA0B,CAACkM,KAAM8D,GAAU2B,EAASxG,KAAMwG,EAASM,qBAGjG,eAACW,GAAA,EAAD,WACI,cAAC5N,EAAA,EAAD,CAAQ+D,QAASzI,EAAMK,QAASuE,MAAM,UAAtC,SAAiDlF,EAAE,0BACnD,cAACgF,EAAA,EAAD,CAAQ+D,QAASzI,EAAMuS,QAAS3N,MAAM,UAAtC,SAAiDlF,EAAE,gCCpBxD,SAAS8S,GAAmBxS,GAAe,IAAD,EACtCN,EAAKmI,cAALnI,EACP,OACI,eAACwS,GAAA,EAAD,CAAQ9R,KAAMJ,EAAMI,KAAMC,QAASL,EAAMK,QAAS,kBAAgB,oBAAlE,UACI,cAAC8R,GAAA,EAAD,CAAa1S,GAAG,oBAAhB,SAAqCC,EAAE,yBACvC,cAAC0S,GAAA,EAAD,UACI,cAAC7E,GAAA,EAAD,CAAOhN,QAAQ,WAAf,SACI,cAACqI,EAAA,EAAD,UACI,eAACE,EAAA,EAAD,CAAUH,UAAM8I,EAAhB,UACI,cAACC,GAAA,EAAD,UAAgB,cAAC/N,EAAA,EAAD,UAASwN,GAAU,UAACnR,EAAMqR,gBAAP,aAAC,EAAgB1M,UACpD,cAACwE,EAAA,EAAD,CAAcC,QAASpJ,EAAMyS,wBAK7C,cAACL,GAAA,EAAD,UACI,cAACnO,EAAA,EAAD,CACIC,WAAS,EACT3C,OAAO,QACP9B,GAAG,OACH0E,MAAOzE,EAAE,iBACT8E,WAAS,EACTjE,QAAQ,SACR6D,MAAOpE,EAAMyS,aACbpO,SAAUrE,EAAMqE,aAGxB,eAACiO,GAAA,EAAD,WACI,cAAC5N,EAAA,EAAD,CAAQ+D,QAASzI,EAAMK,QAASuE,MAAM,UAAtC,SAAiDlF,EAAE,0BACnD,cAACgF,EAAA,EAAD,CAAQ+D,QAASzI,EAAMuS,QAAS3N,MAAM,UAAtC,SAAiDlF,EAAE,gCCnC5D,SAASgT,GAAqB1S,GACjC,IAAON,EAAKmI,cAALnI,EACP,OAAQ,eAACwS,GAAA,EAAD,CAAQ9R,KAAMJ,EAAMI,KAAMC,QAASL,EAAMK,QAAS,kBAAgB,oBAAlE,UACJ,cAAC8R,GAAA,EAAD,CAAa1S,GAAG,oBAAhB,SAAqCC,EAAE,2BACvC,cAAC0S,GAAA,EAAD,UACI,cAAC7E,GAAA,EAAD,CAAOhN,QAAQ,WAAf,SACI,cAACqI,EAAA,EAAD,UACI,eAACE,EAAA,EAAD,CAAUH,UAAM8I,EAAhB,UACI,cAACC,GAAA,EAAD,UAAgB,cAAC/N,EAAA,EAAD,UAASwN,GAAW,YACpC,cAAChI,EAAA,EAAD,CAAcC,QAASpJ,EAAMyS,wBAK7C,eAACL,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UAAoB3S,EAAE,+BAEtB,cAACuE,EAAA,EAAD,CACIC,WAAS,EACT3C,OAAO,QACP9B,GAAG,OACH0E,MAAOzE,EAAE,iBACT8E,WAAS,EACTjE,QAAQ,SACR6D,MAAOpE,EAAMyS,aACbpO,SAAUrE,EAAMqE,cAGxB,eAACiO,GAAA,EAAD,WACI,cAAC5N,EAAA,EAAD,CAAQ+D,QAASzI,EAAMK,QAASuE,MAAM,UAAtC,SAAiDlF,EAAE,0BACnD,cAACgF,EAAA,EAAD,CAAQ+D,QAASzI,EAAMuS,QAAS3N,MAAM,UAAtC,SAAiDlF,EAAE,gC,cCyBhDiT,OAzEf,SAAmB3S,GACf,IAAOkC,EAASC,sBAAY,CAACC,KAAM,aAAc,CAACC,iBAAiB,IAA5DH,MACP,EAAkCxB,mBAA0B,IAA5D,mBAAO0L,EAAP,KAAkBY,EAAlB,KACA,EAA0BvM,IAA1B,mBAAO+B,EAAP,KAAcC,EAAd,KACOE,EAAkB3C,EAAlB2C,eAEPuC,qBAAU,WACNvC,EAAeuK,eACV9N,KAAK4N,EAAcvK,GACnBuB,MAAMuB,QAAQC,OACpB,CAAC7C,EAAgBF,IAEpB,IAAMmQ,EAAU,WACZjQ,EAAeuK,eACV9N,KAAK4N,EAAcvK,GACnBuB,MAAMuB,QAAQC,MAGvB,EHlBG,SAAiCqN,GACpC,MAA0BnS,mBAGvB,CAACN,MAAM,IAHV,mBAAOO,EAAP,KAAcC,EAAd,KAKMP,EAAU,kBAAMO,GAAS,SAAAC,GAAS,kCAASA,GAAT,IAAoBT,MAAM,QAClE,MAAO,CAAC,2BACDO,GADA,IAEHN,QAASA,EACTkS,QAAS,kBAAMM,EAAclS,EAAM0Q,SAAWhR,MALnC,SAACgR,GAAD,OAA6BzQ,EAAS,CAACyQ,SAAUA,EAAUjR,MAAM,MGa/C0S,EAAwB,SAACzB,EAAUhR,GAAX,OACrDsC,EAAeoQ,eAAe1B,EAAS9B,YAClCnQ,KAAKiB,GACLjB,KAAKwT,GACL5O,MAAMvB,MAJf,mBAAOuQ,EAAP,KAAoBC,EAApB,KAOA,EF7BG,SAA+BC,GAClC,MAA0BxS,mBAA6E,CAACN,MAAM,IAA9G,mBAAOO,EAAP,KAAcC,EAAd,KAMMP,EAAU,kBAAMO,GAAS,SAAAC,GAAS,kCAASA,GAAT,IAAoBT,MAAM,QAClE,MAAO,CAAC,2BACDO,GADA,IAEHN,QAASA,EACTkS,QAAS,kBAAMW,EAAY,2BAAIvS,EAAM0Q,UAAX,IAAsBM,WAAYhR,EAAM8R,eAAgBpS,IAClFgE,SAAU,SAAChF,GAAD,OAAsCuB,GAAS,SAAAC,GAAS,kCAC3DA,GAD2D,IAE9D4R,aAAcpT,EAAEiF,OAAOF,cAZhB,SAACiN,GAAD,OAA6BzQ,EAAS,CACjDyQ,SAAUA,EACVoB,aAAc/C,GAAU2B,EAASxG,KAAMwG,EAASM,YAChDvR,MAAM,MEwBmB+S,EAAsB,SAAC9B,EAAUhR,GAAX,OAC/CsC,EAAeyQ,YAAY/B,GACtBjS,KAAKiB,GACLjB,KAAKwT,GACL5O,MAAMvB,MAJf,mBAAO4Q,EAAP,KAAkBC,EAAlB,KAOA,ED7BG,SAAiCf,GACpC,MAA0B7R,mBAAmD,CAACN,MAAM,IAApF,mBAAOO,EAAP,KAAcC,EAAd,KAEMP,EAAU,kBAAMO,GAAS,SAAAC,GAAS,kCAASA,GAAT,IAAoBT,MAAM,QAClE,MAAO,CAAC,2BACDO,GADA,IAEHN,QAASA,EACTkS,QAAS,kBAAMA,EAAQ5R,EAAM8R,aAAepS,IAC5CgE,SAAU,SAAChF,GAAD,OAAsCuB,GAAS,SAAAC,GAAS,kCAC3DA,GAD2D,IAE9D4R,aAAcpT,EAAEiF,OAAOF,cARhB,kBAAMxD,EAAS,CAAC6R,aAAc,GAAIrS,MAAM,MC2BtBmT,EAAwB,SAACd,EAAcpS,GAAf,OACrDsC,EAAe6Q,aAAaf,GACvBrT,KAAKiB,GACLjB,KAAKwT,GACL5O,MAAMvB,MAJf,mBAAOgR,EAAP,KAAoBC,EAApB,KAYOhU,EAAKmI,cAALnI,EACP,OACI,eAACwC,EAAD,WACI,cAAC,GAAD,CAAe0D,MAAOlG,EAAE,oBACxB,cAACqD,EAAA,EAAD,CAAWC,SAAS,KAAKsK,gBAAc,EAAvC,SACI,cAACzK,EAAA,EAAD,CAAK6H,GAAI,EAAGiJ,GAAI,GAAhB,SACI,cAACpG,GAAA,EAAD,CAAOhN,QAAQ,WAAf,SACI,cAACqI,EAAA,EAAD,UACKwD,GAAaA,EAAUvN,KAAI,SAACkN,GAAD,OACxB,cAAC,GAAD,CACIsF,SAAUtF,EACVuF,UAAW,SAAChD,GAAD,OAAOgF,EAAQhF,IAC1BiD,YAAa,SAACjD,GAAD,OAjBlB+C,EAiB2C/C,EAhBlE3L,EAAeyQ,YAAf,2BAA+B/B,GAA/B,IAAyCQ,QAASR,EAASQ,UACtDzS,KAAKwT,GACL5O,MAAMvB,GAHW,IAAC4O,GAkBKG,YAAa,SAAClD,GAAD,OAAO2E,EAAU3E,iBAOtD,cAACsF,GAAA,EAAD,CAAKhP,MAAM,UAAU,aAAW,MAAM6D,QAASiL,EAA/C,SAA0D,cAACG,GAAA,EAAD,MAC1D,cAAC9T,EAAD,eAAmByC,IACnB,cAACkQ,GAAD,eAA0Be,IAC1B,cAACjB,GAAD,eAAwBa,IACxB,cAACpB,GAAD,eAA0Be,Q,sGC3DhCc,G,oDAaF,WAAY9T,GAAqK,IAAD,+BAC5K,cAAMA,IAoCV+T,qBAAuB,SAAC1U,GACpB,IAAM2U,EAA2B,IAAb3U,EAAE0J,OAChBkL,EAAqB,cAAX5U,EAAEsF,KAClB,IAAK,EAAKhE,MAAMuT,mBAAqBF,GAAeC,GAAU,CAC1D5U,EAAEwE,iBACF,MAAsBsQ,GAAoB9U,GAAnC+U,EAAP,EAAOA,IAAKC,EAAZ,EAAYA,OACZ,EAAKrU,MAAMsU,iBAAiB,CAACF,MAAKC,WAClC,EAAKzT,SAAS,CACVsT,kBAAkB,EAClBK,SAAUH,EACVI,YAAaH,EACbI,OAAQL,EACRM,UAAWL,EACXM,SAAU,EAAK3U,MAAM4U,KAAKR,GAAKS,WAAWR,OAlD0H,EAuDhLS,oBAAsB,SAACzV,GACnB,GAAI,EAAKsB,MAAMuT,iBAAkB,CAC7B7U,EAAEwE,iBACF,MAAsBsQ,GAAoB9U,GAAnC+U,EAAP,EAAOA,IAAKC,EAAZ,EAAYA,OACZ,EAAmD,EAAK1T,MAAjD4T,EAAP,EAAOA,SAAUC,EAAjB,EAAiBA,YAAaC,EAA9B,EAA8BA,OAAQC,EAAtC,EAAsCA,UAEtC,GAAID,IAAWL,GAAOM,IAAcL,EAAQ,CACxC,IAAMU,EAAeC,KAAKC,IAAIb,EAAMG,GAAY,EAC1CW,EAAkBF,KAAKC,IAAIZ,EAASG,GAAe,EAErDO,GAAgB,EAAK/U,MAAMmV,SAC3B,EAAKvU,SAAS,CAAC6T,OAAQL,IAEvBc,GAAmB,EAAKlV,MAAMoV,YAC9B,EAAKxU,SAAS,CAAC8T,UAAWL,OArEsI,EA2EhLgB,qBAAuB,SAAChW,GACpB,IAAM2U,EAA2B,IAAb3U,EAAE0J,OAChBkL,EAAqB,cAAX5U,EAAEsF,KAClB,GAAI,EAAKhE,MAAMuT,mBAAqBF,GAAeC,GAAU,CAIzD,IAHA,IAAM7P,EAAQ,EAAKpE,MAAM4U,KAAK/V,KAAI,SAACyW,GAAD,OAAO1V,OAAO2V,OAAO,GAAID,EAAET,eACvDW,EAASR,KAAKS,IAAI,EAAK9U,MAAM4T,SAAU,EAAK5T,MAAM8T,QAClDiB,EAASV,KAAKW,IAAI,EAAKhV,MAAM4T,SAAU,EAAK5T,MAAM8T,QAC/CL,EAAMoB,EAAQpB,GAAOsB,EAAQtB,IAGlC,IAFA,IAAMwB,EAAYZ,KAAKS,IAAI,EAAK9U,MAAM6T,YAAa,EAAK7T,MAAM+T,WACxDmB,EAAYb,KAAKW,IAAI,EAAKhV,MAAM6T,YAAa,EAAK7T,MAAM+T,WACrDL,EAASuB,EAAWvB,GAAUwB,EAAWxB,IAC9CjQ,EAAMgQ,GAAKC,GAAU,EAAK1T,MAAMgU,QAGxC,EAAK/T,SAAS,CAACsT,kBAAkB,IACjC,EAAKlU,MAAMqE,SAASD,KA1FoJ,EA8FhL0R,oBAAsB,SAAC1B,EAAaC,GAChC,IAAK,EAAK1T,MAAMuT,iBAAkB,OAAO,EAEzC,MAAmD,EAAKvT,MAAjD4T,EAAP,EAAOA,SAAUE,EAAjB,EAAiBA,OAAQD,EAAzB,EAAyBA,YAAaE,EAAtC,EAAsCA,UAChCc,EAASR,KAAKS,IAAIlB,EAAUE,GAC5BiB,EAASV,KAAKW,IAAIpB,EAAUE,GAC5BmB,EAAYZ,KAAKS,IAAIjB,EAAaE,GAClCmB,EAAYb,KAAKW,IAAInB,EAAaE,GAExC,OAAON,GAAOoB,GAAUpB,GAAOsB,GAAUrB,GAAUuB,GAAavB,GAAUwB,GArG1E,EAAKlV,MAAQ,CACTuT,kBAAkB,EAClBK,SAAU,EACVC,YAAa,EACbC,OAAQ,EACRC,UAAW,EACXC,SAAS,GAR+J,E,sDAYhL,WACIoB,OAAOC,iBAAiB,UAAWlI,KAAKuH,sBACxCU,OAAOC,iBAAiB,WAAYlI,KAAKuH,wB,kCAG7C,WACIU,OAAOE,oBAAoB,UAAWnI,KAAKuH,sBAC3CU,OAAOE,oBAAoB,WAAYnI,KAAKuH,wB,oBAGhD,WAAU,IAAD,OACL,OAAOvH,KAAK9N,MAAM4U,KAAK/V,KAAI,SAACuV,EAAK8B,GAAN,OACvB,eAACC,GAAA,EAAD,WAAU,cAACC,GAAA,EAAD,CAAW7V,QAAQ,OAAnB,SAA2B6T,EAAIiC,SACpCjC,EAAIS,WAAWhW,KAAI,SAACyX,EAAUC,GAAX,OAChB,cAAC,GAAD,CACIC,UAAU,EACVC,cAAe,EAAKX,oBAAoBI,EAAGK,GAC3CD,SAAUA,EACVI,aAAc,EAAK3C,qBACnB4C,YAAa,EAAK7B,mC,GA5CTlN,IAAM6G,WAAjCqF,GACK8C,aAAe,CAClBzB,QAAS0B,IACTzB,WAAYyB,IACZvC,iBAAkB,aAElBwC,QAAS,aAETzS,SAAU,SAACD,KAEXwQ,KAAM,I,IAsHRmC,G,+MACFC,Q,IA4CAC,iBAAmB,SAAC5X,GAAD,OAAa,EAAKW,MAAMwW,UAAY,EAAKxW,MAAM0W,aAAarX,I,EAC/E6X,gBAAkB,SAAC7X,GAAD,OAAa,EAAKW,MAAMwW,UAAY,EAAKxW,MAAM2W,YAAYtX,I,4DA3C7E,SAAsB8X,EAAgCC,EAAyBC,GAC3E,OAAOF,EAAUb,WAAaxI,KAAK9N,MAAMsW,UAAYa,EAAUV,gBAAkB3I,KAAK9N,MAAMyW,gB,+BAGhG,WAGI3I,KAAKkJ,GAAGhB,iBAAiB,aAAclI,KAAKmJ,iBAAkB,CAACK,SAAS,IACxExJ,KAAKkJ,GAAGhB,iBAAiB,YAAalI,KAAKoJ,gBAAiB,CAACI,SAAS,M,kCAG1E,WACIxJ,KAAKkJ,GAAGf,oBAAoB,aAAcnI,KAAKmJ,kBAC/CnJ,KAAKkJ,GAAGf,oBAAoB,YAAanI,KAAKoJ,mB,oBAGlD,WAAU,IAAD,OACL,EAAiFpJ,KAAK9N,MAA/EwW,EAAP,EAAOA,SAAUC,EAAjB,EAAiBA,cAAeH,EAAhC,EAAgCA,SAAwCtW,GAAxE,EAA0C0W,aAA1C,EAAwDC,YAAxD,oBACIrT,EAAY,GAahB,OAZIkT,EACAlT,GAAa,kBAEbA,GAAa,gBACTgT,IACAhT,GAAa,kBAEbmT,IACAnT,GAAa,yBAKjB,cAAC8S,GAAA,EAAD,aACImB,IAAK,SAAAP,GAAE,OAAK,EAAKA,GAAKA,GACtB1T,UAAWA,EACXkU,YAAa1J,KAAKmJ,iBAClBQ,YAAa3J,KAAKoJ,iBACdlX,Q,GAxCD4H,IAAM6G,WAiDzB,SAAS0F,GAAoB9U,GACzB,IAAIiF,EAIJ,GAAIjF,EAAEqY,QAAS,CACX,IAAMC,EAAQtY,EAAEqY,QAAQ,GACxBpT,EAASsT,SAASC,iBAAiBF,EAAMG,QAASH,EAAMI,cAGxD,IADAzT,EAASjF,EAAEiF,OACe,OAAnBA,EAAO0T,SACV1T,EAASA,EAAO2T,WAGxB,MAAO,CACH7D,IAAK9P,EAAO2T,WAAWC,SAAW,EAClC7D,OAAQ/P,EAAO6T,UAAY,GAIpBrE,U,4DCpMTsE,GAAQjK,MAAMC,KAAKD,MAAM,IAAIxO,QAAQd,KAAI,SAAAyQ,GAAC,OAD7B,SAACA,GAAD,OAAeA,EAAI,GAAK,IAAMA,EAAI,GAAKA,EACN+I,CAAW/I,MACzDgJ,GAAS,CAAC,aAAc,SAAU,OAClCC,GAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG1Z,KAAI,SAAAyQ,GAAC,OAAIgJ,GAAOhJ,MAE3GvB,IAAO,IAAIyK,MAAOC,cAAcC,MAAM,EAAG,IAqGhCxX,oBCpIO,SAAC,GAAD,IAAEE,EAAF,EAAEA,QAASD,EAAX,EAAWA,QAAX,OAA+BE,YAAa,CAC9D6B,UAAW,CACPyV,SAAU,OACVC,UAAW,uBAEfhX,OAAQ,CACJmD,MAAO3D,EAAQ,GACf0B,OAAQ1B,EAAQ,IAEpByX,gBAAiB,CACbC,WAAY,OACZC,eAAgB,WAChB,aAAc,CACVC,SAAU,SACVC,IAAK,MACLC,OAAQ,GAEZ,6BAA8B,CAC1BD,IAAK,QAET,OAAQ,CACJE,OAAQ,aAAehY,EAAQiY,SAEnC,qBAAsB,CAClBvX,gBAAiBV,EAAQW,UAAUC,MAEvC,2BAA4B,CACxBF,gBAAiBV,EAAQiI,QAAQrH,MAErC,qBAAsB,CAClBF,gBAAiB,YDsGdX,EAtFf,SAAkBlB,GACd,IAAOkC,EAASC,sBAAY,CAACC,KAAM,YAAa,CAACC,iBAAiB,IAA3DH,MACP,EAA0BxB,mBAAgB,CAACkU,KAAM,GAAIyE,UAAU,IAA/D,mBAAO1Y,EAAP,KAAcC,EAAd,KACA,EAA0BH,IAA1B,mBAAO+B,EAAP,KAAcC,EAAd,KACA,EAA8BhC,IAA9B,mBAAO+J,EAAP,KAAgBC,EAAhB,KACO9H,EAAkB3C,EAAlB2C,eACAjD,EAAKmI,cAALnI,EACAgD,EAAW1C,EAAX0C,QAEPwC,qBAAU,WACNhG,QAAQoa,IAAI,CAAC3W,EAAeuK,eAAgBvK,EAAewM,cAAcpB,MACpE3O,MAAK,YAA+B,IAAD,mBAA5BgN,EAA4B,KAAjB6C,EAAiB,KAC1B4F,EAAazI,EACdmN,QAAO,SAACjL,GAAD,OAAOA,EAAEuD,UAChBhT,KAAI,SAACyP,GAAD,cAAQ,CACT+H,OACI,cAACmD,GAAA,EAAD,CAAS5T,MAAO8J,GAAUpB,EAAEzD,KAAMyD,EAAEqD,YAAa8H,gBAAiB,EAAlE,SACI,cAAC9V,EAAA,EAAD,CAAQpD,QAAQ,UAAU+C,UAAWZ,EAAQd,OAA7C,SAAsDuP,GAAW7C,EAAE3J,UAG3E4K,WAAYjB,EAAEiB,WACdsF,WAAU,oBAAE5F,EAAYyK,MAAK,SAACC,GAAD,OAAOA,EAAEpK,aAAejB,EAAEiB,qBAA7C,aAAE,EAAwD1B,YAA1D,QAAkEuK,GAAMvZ,KAAI,kBAAM,SAEpG+B,EAAS,CAACgU,KAAMC,EAAYwE,UAAU,MACvC5W,GACFuB,MAAMuB,QAAQC,OACpB,CAAC7C,EAAgBD,EAAQd,OAAQa,IAEpC,IAqBOmS,EAAkBjU,EAAlBiU,KAAMyE,EAAY1Y,EAAZ0Y,SACb,OACI,eAACnX,EAAD,WACI,cAAC,IAAD,CAAQ0X,KAAMP,EAAU7Y,QAASd,EAAE,qBACnC,cAAC,GAAD,CAAe0I,gBAAc,EAACxC,MAAOlG,EAAE,uBAAvC,SACI,cAACgF,EAAA,EAAD,CACIE,MAAM,UACN6D,QApBG,kBACf9F,EAAekX,cACX9L,GACApN,EAAMiU,KAAK/V,KAAI,SAACyW,GAAD,MAAQ,CACnB/F,WAAY+F,EAAE/F,WACd1B,KAAMyH,EAAET,gBAEXzV,MAAK,WACFqL,EAAW/K,EAAE,8BAEhBN,MAAK,kBAAMwB,EAAS,2BAAID,GAAL,IAAY0Y,UAAU,OAAS5W,GAClDuB,MAAMuB,QAAQC,MAUPgG,UAAW,cAACsO,GAAA,EAAD,IAHf,SAIEpa,EAAE,YAER,cAACqD,EAAA,EAAD,CAAWC,SAAS,KAAKsK,gBAAc,EAAvC,SACI,cAACzK,EAAA,EAAD,CAAK8W,EAAG,EAAR,SACI,cAACI,GAAA,EAAD,CAAgBzW,UAAWZ,EAAQQ,UAAnC,SACI,eAAC8W,GAAA,EAAD,CAAOC,cAAY,EAAC1O,KAAK,QAAQjI,UAAWZ,EAAQmW,gBAApD,UACI,eAACqB,GAAA,EAAD,WACI,eAAC/D,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAW7V,QAAQ,SAClB6X,GAAMvZ,KAAI,SAACuF,GAAD,OAAW,eAACgS,GAAA,EAAD,CAAW+D,MAAM,SAAjB,UAA2BC,OAAOhW,GAAlC,wBAE1B,eAAC+R,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,IACCmC,GAAgB1Z,KAAI,SAACyQ,GAAD,OAAO,cAAC8G,GAAA,EAAD,CAAW/L,MAAO,CAACxI,gBAAiByN,cAGxE,cAAC+K,GAAA,EAAD,UACI,cAAC,GAAD,CAAoBzF,KAAMA,EAAMvQ,SA/CvC,SAACiW,GAClB1Z,EAAS,2BACFD,GADC,IAEJiU,KAAMjU,EAAMiU,KAAK/V,KAAI,SAACuV,EAAK8B,GAAN,mBAAC,eAAgB9B,GAAjB,IAAsBS,WAAYyF,EAAMpE,QAC7DmD,UAAU,mBAiDV,cAACtZ,EAAD,2BAAmByK,GAAnB,IAA4BvK,SAAS,aACrC,cAACF,EAAD,eAAmByC,U,UErFzB+X,GAAWrZ,aAvBF,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAAF,OAAsBE,YAAa,CAC9CmZ,MAAO,CACH3Y,gBAAiBV,EAAQW,UAAUC,KACnCN,QAAS,OACTE,WAAY,SACZH,QAAS,OAEbsE,KAAM,CACFlB,MAAOzD,EAAQsZ,WAAWnZ,WAejBJ,EACb,SAAmBlB,GACf,IAAO0C,EAAiB1C,EAAjB0C,QAASS,EAAQnD,EAARmD,KACTzD,EAAKmI,cAALnI,EAEP,OACI,cAACuD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIuH,GAAI,EAAG+P,GAAI,EAA9B,SACI,cAAC5L,GAAA,EAAD,UACI,cAACO,GAAA,EAAD,CAAgB3L,UAAWsF,IAAYhD,GAAI7C,EAAK6C,GAAhD,SACI,eAACnD,EAAA,EAAD,CAAKpB,QAAQ,OAAb,UACI,cAACkZ,GAAA,EAAD,CAAWrX,UAAWZ,EAAQ8X,MAA9B,SACI,cAACtR,EAAA,EAAD,CAASxF,UAAWP,EAAK2C,KAAMxC,UAAWZ,EAAQoD,SAEtD,eAACiJ,GAAA,EAAD,WACI,cAACvL,EAAA,EAAD,CAAYjD,QAAQ,KAApB,SAA0Bb,EAAEyD,EAAKyC,SACjC,cAACpC,EAAA,EAAD,CAAYoB,MAAM,gBAAgBgW,QAAM,EAAxC,SAA0Clb,EAAEyD,EAAK0C,uBAT/B1C,EAAKyC,UAqCxCiV,OAlBf,WACI,IAAO3Y,EAASC,sBAAY,CAACC,KAAM,QAAS,CAACC,iBAAiB,IAAvDH,MACD4Y,EjBpBH,WACH,IAAMvU,EAAOuB,qBAAWC,IACxB,IAAKxB,EAAM,MAAO,GAClB,OAAQA,EAAK5B,MACT,IAAK,aACD,MAAO,CAACe,GAAaO,OAAQP,GAAaa,MAC9C,IAAK,UACD,MAAO,CAACb,GAAaiB,QAASjB,GAAamB,MAC/C,QACI,MAAO,CAACnB,GAAae,MAAOf,GAAaO,OAAQP,GAAamB,OiBW7CkU,GAClBrb,EAAKmI,cAALnI,EACP,OACI,eAACwC,EAAD,WACI,cAAC,GAAD,CAAekG,gBAAc,EAACxC,MAAOlG,EAAE,gBACvC,cAACqD,EAAA,EAAD,CAAWC,SAAS,KAAKsK,gBAAc,EAAvC,SACI,cAACzK,EAAA,EAAD,CAAKrB,QAAS,EAAd,SACI,cAACyB,EAAA,EAAD,CAAMC,WAAS,EAAf,SACK4X,EAAiBjc,KAAI,SAACsE,EAAY6X,GAAb,OAA+B,cAACT,GAAD,CAAUpX,KAAMA,GAAW6X,gB,iDClDlGtN,GAAU,CACZuN,OAAQ,KACRC,QAAS,CACLC,OAAQ,CACJ1Z,SAAS,GAEb2Z,QAAS,CACLC,SAAS,IAGjBC,OAAQ,CACJC,MAAO,CACH9F,IAAK,EACLE,IAAK,GACL6F,MAAO,CACHC,SAAU,SAACrX,GAAD,OAAgBA,EAAQ,SAG1CsX,MAAO,CACHC,aAAc,GACdC,aAAc,GACdJ,MAAO,CACHC,SAAU,SAACrX,GAAD,OAAgBA,EAAQ,cAM3C,SAASyX,GAAqB7b,GACjC,IAAO4F,EAAgB5F,EAAhB4F,MAAO8F,EAAS1L,EAAT0L,MACRoQ,EAAS,uBAAOpQ,GAAP,CAAc,CAACqQ,KAAM,QAAS/K,YAAatF,EAAMA,EAAMyB,OAAS,GAAG6D,eAC3E7P,EAAWoG,cAAXpG,QACD0M,EAAO,CACTQ,SAAU,CACN,CACIR,KAAMiO,EAAUjd,KAAI,SAACqX,GAAD,MAAQ,CACxB8F,GAAK9F,EAAE6F,KAAKE,UAAU,EAAG/F,EAAE6F,KAAKG,QAAQ,MACxCC,EAAGjG,EAAElF,gBAEToL,UAAU,EACV7N,MAAM,EACN8N,SAAS,EACT7N,YAAarN,EAAQiI,QAAQrH,KAC7BF,gBAAiBV,EAAQW,UAAUC,QAM/C,OACI,cAAC+M,GAAA,EAAD,CAAMvO,QAAQ,WAAd,SACI,eAACwO,GAAA,EAAD,WACI,cAACvL,EAAA,EAAD,CAAYoH,cAAY,EAACrK,QAAQ,KAAKmD,UAAU,KAAhD,SAAsDkC,IACtD,eAAC2H,GAAA,EAAD,CAAO+O,QAAM,EAAb,UACI,cAACzZ,EAAA,EAAD,CAAK8W,EAAG,EAAR,SACI,cAAC,KAAD,CAAS9L,KAAMA,EAAMH,QAASA,GAAS5K,OAAQ,OAEnD,eAACkX,GAAA,EAAD,CAAOzO,KAAK,QAAZ,UACI,cAAC2O,GAAA,EAAD,UACI,eAAC/D,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,uBACA,cAACA,GAAA,EAAD,CAAWmG,QAAS,EAApB,6BAGR,cAAClC,GAAA,EAAD,UACK3O,EAAM7M,KAAI,SAACsE,EAAM6X,GAAP,OACP,eAAC7E,GAAA,EAAD,CAA0BqG,OAAO,EAAjC,UACI,cAACpG,GAAA,EAAD,UAAYjT,EAAK4Y,OACjB,eAAC3F,GAAA,EAAD,WAAYjT,EAAK6N,YAAjB,YACA,eAACoF,GAAA,EAAD,CAAW+D,MAAM,QAAjB,UACI,cAAC9Q,EAAA,EAAD,CAAYkC,KAAK,QAAjB,SAAyB,cAACkR,GAAA,EAAD,MACzB,cAACpT,EAAA,EAAD,CAAYmN,SAAUwE,EAAQ,EAAGzP,KAAK,QAAtC,SAA8C,cAACyG,GAAA,EAAD,WALvC7O,EAAK4Y,iBAapC,eAACW,GAAA,EAAD,WACI,cAAChY,EAAA,EAAD,CAAQ2F,MAAO,CAACsS,WAAY,GAAI/X,MAAM,UAAtC,oCACA,cAAC/B,EAAA,EAAD,CAAKqH,GAAG,SACR,cAACxF,EAAA,EAAD,CAAQE,MAAM,UAAd,sC,oCClGpB,SAASgY,GAAU5B,GACf,MAAO,CACHvb,GAAG,cAAD,OAAgBub,GAClB,gBAAgB,mBAAhB,OAAoCA,IAU5C,SAAS6B,GAAS7c,GACd,IAAOmK,EAAoCnK,EAApCmK,SAAU/F,EAA0BpE,EAA1BoE,MAAO4W,EAAmBhb,EAAnBgb,MAAU8B,EAAlC,aAA2C9c,EAA3C,IAEA,OACI,6CACI2I,KAAK,WACLoU,OAAQ3Y,IAAU4W,EAClBvb,GAAE,0BAAqBub,GACvB,uCAA+BA,IAC3B8B,GALR,aAOK1Y,IAAU4W,GAAS7Q,KA+EjB6S,OAnEf,SAAqBhd,GACjB,IAAOkC,EAASC,sBAAY,CAACC,KAAM,SAAU,CAACC,iBAAiB,IAAxDH,MACP,EAA0BxB,mBAAS,CAACuc,SAAU,IAA9C,mBAAOtc,EAAP,KAAcC,EAAd,KACM8K,EAAoB,CACtB,CACIqQ,KAAM,OACN/K,YAAa,IAEjB,CACI+K,KAAM,QACN/K,YAAa,IAEjB,CACI+K,KAAM,QACN/K,YAAa,IAEjB,CACI+K,KAAM,QACN/K,YAAa,KAIfiM,EAA4B,EAAjBtc,EAAMsc,SAOjBC,EAAmB,CACrB,CAACC,KAHc,CAAC,WAAY,cAGT9Z,GAAI,EAAG+Z,GAAI,EAAG1C,GAAI,GACrC,CAACyC,KAHQ,CAAC,SAAU,WAAY,WAAY,aAAc,UAAW,UAAW,WAGnE9Z,GAAI,EAAG+Z,GAAI,EAAG1C,GAAI,IAGnC,OACI,eAACxY,EAAD,WACI,eAAC,GAAD,CAAe0D,MAAM,cAArB,UACI,cAAClB,EAAA,EAAD,CAAQE,MAAM,UAAd,0BACA,cAACF,EAAA,EAAD,CAAQE,MAAM,UAAd,0BAEJ,eAACqF,EAAA,EAAD,WACI,cAACpH,EAAA,EAAD,CAAKqH,GAAG,SACR,eAACmT,GAAA,EAAD,CAAMjZ,MAAO6Y,EAAU1c,QAAQ,YAAY8D,SAnBlC,SAAC6D,EAA8BoV,GAChD1c,EAAS,CAACqc,SAAUK,KAkBZ,UACI,cAACC,GAAA,EAAD,aAAKpZ,MAAM,WAAcyY,GAAU,KACnC,cAACW,GAAA,EAAD,aAAKpZ,MAAM,aAAgByY,GAAU,QAEzC,cAAC/Z,EAAA,EAAD,CAAKqH,GAAG,YAEZ,cAACnH,EAAA,EAAD,CAAWuK,gBAAc,EAACtK,SAAS,KAAnC,SACI,cAACH,EAAA,EAAD,CAAK8W,EAAG,EAAR,SACKuD,EAAKre,KAAI,SAAC2e,EAAKxC,GAAN,OACN,cAAC6B,GAAD,CAAU7B,MAAOA,EAAO5W,MAAO6Y,EAA/B,SACI,cAACha,EAAA,EAAD,CAAMC,WAAS,EAAC9B,QAAS,EAAzB,SACKoc,EAAIL,KAAKte,KAAI,SAAC4e,GAAD,OACV,cAACxa,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIC,GAAIma,EAAIna,GAAI+Z,GAAII,EAAIJ,GAAI1C,GAAI8C,EAAI9C,GAAnD,SACI,cAACmB,GAAD,CAAsBjW,MAAO6X,EAAK/R,MAAOA,KADe+R,SAH1BzC,c,oBC5FhEjU,GAAYC,YAAW,CACzB0W,KAAM,CACF3Y,MAAO,OACPiU,SAAU,QACV2E,OAAQ,EACRhF,SAAU,SACVO,OAAQ,KAEZ0E,OAAQ,CACJ/Y,UAAW,UAsCJgZ,OAlCf,WACI,IAAMnb,EAAUqE,KACVnE,EAAUyC,cACT3F,EAAKmI,cAALnI,EACP,EAA0BkI,IAAMlH,SAAS,GAAzC,mBAAO0D,EAAP,KAAc0Z,EAAd,KACM7W,EAAQM,cACRC,EAAUC,YAAcR,EAAMS,YAAYC,KAAK,OAC/CjC,EpBJH,WACH,IAAMa,EAAOuB,qBAAWC,IACxB,IAAKxB,EAAM,MAAO,GAClB,OAAQA,EAAK5B,MACT,IAAK,aACD,MAAO,CAACe,GAAaC,KAAMD,GAAaO,OAAQP,GAAaa,MACjE,IAAK,UACD,MAAO,CAACb,GAAaC,KAAMD,GAAaS,SAAUT,GAAaa,MACnE,QACI,MAAO,CAACb,GAAaC,KAAMD,GAAaO,OAAQP,GAAaS,SAAUT,GAAaW,YAAaX,GAAaa,OoBLjGwX,GAErB,OAAKvW,EAED,eAAC,IAAMa,SAAP,WACI,qBAAK/E,UAAWZ,EAAQkb,SACxB,cAACrQ,GAAA,EAAD,CAAOjK,UAAWZ,EAAQgb,KAAMM,UAAW,EAA3C,SACI,cAACC,GAAA,EAAD,CACI7Z,MAAOA,EACPC,SAAU,SAAC6D,EAAOoV,GACdQ,EAASR,GACT,IAAMY,EAAcxY,EAAa4X,GACd,MAAfY,GACAtb,EAAQmB,KAAKma,EAAYlY,KAGjCmY,YAAU,EATd,SAWKzY,EAAa7G,KAAI,SAACgK,GAAD,OACd,cAACuV,GAAA,EAAD,CAAwB3e,GAAIoJ,EAAEjD,MAAOzB,MAAOzE,EAAEmJ,EAAEjD,OAAQE,KAAM,cAACoD,EAAA,EAAD,CAASxF,UAAWmF,EAAE/C,mBAjBnF,M,OCnBzB,SAASuY,GAAere,GACpB,IAAMiH,EAAQM,cACP7H,EAAKmI,cAALnI,EAKP,OAHA4e,KAAS9P,YAAcvH,EAAM9F,QAAQiY,QACrCkF,KAAS1Z,MAAQqC,EAAM9F,QAAQyK,KAAKxC,QAE7B,cAAC,KAAD,CACHyE,KAAM,CACFK,OAAQ,CAAC,OACTG,SAAU,CAAC,CACPR,KAAM,CAAC,2BAAI7N,EAAM6G,MAAX,IAAiByO,EAAG,MAC1BiJ,YAAa,EACbC,YAAa,EACb3c,gBAAiBoF,EAAM9F,QAAQiI,QAAQrH,KACvC0c,eAAgB,MAGxB/Q,QAAS,CACLgR,qBAAqB,EACrBC,aAAc,EACdrD,OAAQ,CACJa,EAAG,CACCyC,eAAe,EACfjJ,IAAK,GACLF,IAAK,EACL+F,MAAO,GAKPqD,KAAM,CACFpd,SAAS,GAEbmE,MAAO,CACHnE,SAAS,EACTmK,KAAM,CAAClM,EAAE,2BAA6B,mDAA2CA,EAAE,4BAG3Fsc,EAAG,CACC4C,eAAe,EACfjJ,IAAK,GACLF,IAAK,EACL+F,MAAO,GACPqD,KAAM,CACFpd,SAAS,GAEbmE,MAAO,CACHnE,SAAS,EACTmK,KAAMlM,EAAE,kBAAoB,mDAA2CA,EAAE,oBAIrFof,QAAS,SAAUzf,GACDA,EAAE0f,MAAMC,0BAA0B3f,EAAG,UAAW,CAAC4f,WAAW,IAAO,GACvE9R,OAAQ9N,EAAE6f,OAAO5a,OAAO+F,MAAM8U,OAAS,OAC5C9f,EAAE6f,OAAO5a,OAAO+F,MAAM8U,OAAS,WAExCxR,WAAW,EACXuN,QAAS,CACLkE,SAAU,CACNC,OAAO,EACPC,aAAa,EACbC,YAAa,SAAClgB,EAAQmgB,GAAT,OAA0B,MACvCC,OAAQ,SAACpgB,EAAQqgB,EAAmB1E,EAAe5W,GAA3C,OAA6D,MACrEub,UAAW,SAACtgB,EAAQqgB,EAAmB1E,EAAe5W,GAClD/E,EAAEiF,OAAO+F,MAAM8U,OAAS,UACxBnf,EAAMqE,SAASD,IAEnBwb,OAAQ,CACJ5Z,GAAI,SAAC5B,GAAD,MAAiD,CACjD4X,EAAGhH,KAAK6K,MAAMzb,EAAM4X,GACpBG,EAAGnH,KAAK6K,MAAMzb,EAAM+X,GACpB7G,EAAGlR,EAAMkR,MAIrB6F,OAAQ,CACJ1Z,SAAS,GAEb2Z,QAAS,CACLC,SAAS,KAGlBvY,OAAQ,IAAKiC,MAAO,MAG/B,IAAMgJ,IAAO,IAAIyK,MAAOC,cAAcC,MAAM,EAAG,IAoDhC5R,OAlDf,SAAc9G,GACV,IAAOkC,EAASC,sBAAY,CAACC,KAAM,YAAa,CAACC,iBAAiB,IAA3DH,MACAxC,EAAKmI,cAALnI,EACP,EAA8Be,IAA9B,mBAAO+J,EAAP,KAAgBC,EAAhB,KACA,EAA0BhK,IAA1B,mBAAO+B,EAAP,KAAcC,EAAd,KACA,EAAwB/B,qBAAxB,mBAAOmG,EAAP,KAAaiZ,EAAb,KAEOnd,EAAkB3C,EAAlB2C,eAiBP,OAfAuC,qBAAU,WACNvC,EAAeod,QAAQhS,IAClB3O,KAAK0gB,GAAS,SAACzgB,GACZoD,EAASpD,GACTygB,EAAQ,CAAC9D,EAAG,EAAGG,EAAG,OAErBnY,MAAMuB,QAAQC,OACpB,CAAC7C,EAAgBF,IAQb,eAACP,EAAD,WACH,cAAC,GAAD,CAAe0D,MAAOlG,EAAE,mBAAxB,SACI,cAACgF,EAAA,EAAD,CACIE,MAAM,UACN6D,QAVQ,WAChB9F,EAAeqd,QAAQjS,GAAMlH,GACxBzH,MAAK,kBAAMqL,EAAW/K,EAAE,6BAA4B+C,GACpDuB,MAAMuB,QAAQC,MAQXgG,UAAW,cAACsO,GAAA,EAAD,IAHf,SAIEpa,EAAE,YAER,cAACqD,EAAA,EAAD,CAAWC,SAAS,KAApB,SACI,eAACH,EAAA,EAAD,CAAKwK,GAAI,EAAT,UACI,cAAC7J,EAAA,EAAD,CAAYjD,QAAQ,KAAK4Z,MAAM,SAA/B,SAAyCza,EAAE,6BAC3C,cAACoP,GAAA,EAAD,UACKjI,GACD,cAACkI,GAAA,EAAD,UACI,cAACsP,GAAD,CAAgBxX,KAAMA,EAAMxC,SAAUyb,aAOtD,cAAC/f,EAAD,2BAAmByK,GAAnB,IAA4BvK,SAAS,aACrC,cAACF,EAAD,eAAmByC,QChIduF,GAAcH,IAAMqY,mBAAqCxO,GA+FvDyO,GA7FK,SAAClgB,GACjB,IAAO2C,EAAkB3C,EAAlB2C,eACP,EAAoCjC,qBAApC,mBAAOyf,EAAP,KAAmBC,EAAnB,KACA,EAAwB1f,qBAAxB,mBAAO6F,EAAP,KAAawG,EAAb,KAgBA,GAdA7H,qBAAU,WACNvC,EAAewd,aAAaE,WAAU,SAACjc,GAAD,OAAWgc,EAAchc,QAChE,CAACzB,IAEJuC,qBAAU,WACDib,EAGDxd,EAAesK,UACV7N,KAAK2N,GACL/I,MAAMuB,QAAQ/C,OAJnBuK,OAAQ0E,KAMb,CAAC0O,EAAYxd,IAEE,MAAdwd,EAAoB,OAAQ,cAAC1a,EAAA,EAAD,IAEhC,IAAM6a,EAAU,SAACtgB,GAAD,OACZ,eAAC6C,EAAA,EAAD,CAAK0d,EAAG,GAAIC,UAAU,SAAtB,UACI,cAAChd,EAAA,EAAD,CAAYjD,QAAQ,KAApB,iBACA,cAACiD,EAAA,EAAD,CAAYjD,QAAQ,KAApB,4BACA,cAACsC,EAAA,EAAD,CAAK0d,EAAG,EAAR,SACI,cAAC7b,EAAA,EAAD,CAAQE,MAAM,UAAUrE,QAAQ,YAAYmD,UAAWsH,IAAMhF,GAAIhG,EAAMygB,KAAvE,2BAKNC,EAAc,kBAChB,eAAC,IAAD,WACI,cAAC,IAAD,CAAOD,KAAK,UAAZ,SAAsB,cAAC,EAAD,CAAQ9d,eAAgBA,MAC9C,cAAC,IAAD,CAAO8d,KAAK,SAAZ,SAAqB,cAAC,EAAD,CAAO9d,eAAgBA,MAC5C,cAAC,IAAD,UAAO,cAAC2d,EAAD,CAASG,KAAK,iBAIvBE,EAAe,SAAC3gB,GAClB,IAAM4gB,EAAQ,CACVtb,OAAQ,cAAC,IAAD,CAAOmb,KAAK,UAAZ,SAAsB,cAAC,EAAD,CAAQ9d,eAAgBA,MACtDsD,OAAQ,cAAC,IAAD,CAAOwa,KAAK,UAAZ,SAAsB,cAAC,GAAD,CAAQ9d,eAAgBA,MACtD4D,KAAM,cAAC,IAAD,CAAOka,KAAK,QAAZ,SAAoB,cAAC,GAAD,CAAM9d,eAAgBA,MAChD8D,MAAO,cAAC,IAAD,CAAOga,KAAK,SAAZ,SAAqB,cAAC,GAAD,CAAO9d,eAAgBA,MACnDgE,QAAS,cAAC,IAAD,CAAO8Z,KAAK,WAAZ,SAAuB,cAAC,GAAD,CAAS9d,eAAgBA,MACzDyJ,UAAW,cAAC,IAAD,CAAOqU,KAAK,aAAZ,SAAyB,cAAC,GAAD,CAAW9d,eAAgBA,MAC/DwD,SAAU,cAAC,IAAD,CAAOsa,KAAK,YAAZ,SAAwB,cAAC,GAAD,CAAU9d,eAAgBA,MAC5DkE,KAAM,cAAC,IAAD,CAAO4Z,KAAK,QAAZ,SAAoB,cAAC,GAAD,CAAM9d,eAAgBA,MAChD0D,YAAa,cAAC,IAAD,CAAOoa,KAAK,eAAZ,SAA2B,cAAC,GAAD,OAoBrCla,EAAQvG,EAARuG,KACP,OAAQ,eAAC,IAAD,WACW,eAAdA,EAAK5B,MAnBqB,CAACic,EAAM3a,QAoBnB,YAAdM,EAAK5B,MAVkB,CACxBic,EAAMja,QACNia,EAAMxU,UACNwU,EAAMza,SACNya,EAAM/Z,MAOS,cAAdN,EAAK5B,MApBoB,CAC1Bic,EAAM3a,OACN2a,EAAMna,MACNma,EAAMxU,UACNwU,EAAMza,SACNya,EAAMva,YACNua,EAAM/Z,MAeN,cAAC,IAAD,CAAO4Z,KAAK,UAAZ,SAAsB,cAAC,EAAD,CAAQ9d,eAAgBA,MAJ1C,IAKJ,cAAC,IAAD,CAAO8d,KAAK,QAAZ,SAAoB,cAAC,GAAD,CAAM9d,eAAgBA,MALtC,IAMJ,cAAC,IAAD,CAAOke,OAAK,EAACJ,KAAK,IAAlB,SAAsB,cAAC,GAAD,MACtB,cAAC,IAAD,CAAOI,OAAK,EAACJ,KAAI,UAAKhT,sBAAtB,SAAgD,cAAC,GAAD,MAChD,cAAC,IAAD,UAAO,cAAC6S,EAAD,CAASG,KAAK,YAK7B,OACI,eAAC1Y,GAAY+Y,SAAb,CAAsB1c,MAAOmC,EAA7B,WACM4Z,GAAc,cAAC,IAAD,CAAUna,GAAG,YAC3Bma,GAAc,cAACO,EAAD,IACfna,GAAQ,cAACoa,EAAD,CAAcpa,KAAMA,IAC5B4Z,GAAe,cAAC,GAAD,Q,oBCjG5B,SAASY,GAAUhgB,GACf,OAAOA,EAAS8M,K,IAoILmT,G,WA5HX,WAAYC,GAAmB,IAAD,iCAJbC,iBAIa,OAHbC,0BAGa,OAFbF,aAEa,EAC1BnT,KAAKmT,QAAUA,EACfnT,KAAKoT,YAAc,IAAIE,KAAgBC,aAAaC,QAAQ,UAC5DxT,KAAKqT,qBAAuBrT,KAAKoT,YAC5BK,KAAK1iB,cAAI,SAAC2iB,GAAD,OAAoB,MAATA,GAA2B,KAAVA,MAE1CzL,OAAOC,iBAAiB,WAAW,WAC/B,IAAMwL,EAAQH,aAAaC,QAAQ,SAC/BE,IAAU,EAAKN,YAAY9c,OAC3B,EAAK8c,YAAYO,KAAKD,M,+CAKlC,WACI,OAAO1T,KAAKqT,uB,wBAGhB,SAAWO,EAAwBnf,GAC/B,OAAOuL,KAAKmT,QACPU,IAAI,eAAgB,CAACC,OAAQ,CAAC,gBAAmBF,EAAgB,MAASnf,O,mBAGnF,SAAMA,EAAeyC,GAAmB,IAAD,OACnC,OAAO8I,KAAKmT,QACPU,IAAmB,SAAU,CAACC,OAAQ,CAAC,MAASrf,EAAO,SAAYyC,KACnE5F,MAAK,SAAC2B,GACH,IAAOygB,EAASzgB,EAAS8M,KAAlB2T,MACPH,aAAaQ,QAAQ,QAASL,GAC9B,EAAKN,YAAYO,KAAKD,Q,oBAIlC,WAAwB,IAAD,OAEnB,OADAH,aAAaS,WAAW,SACjBhU,KAAKmT,QACPU,IAAI,UAAW7T,KAAKiU,WACpBC,SAAQ,kBAAM,EAAKd,YAAYO,KAAK,W,qBAG7C,WACI,OAAO3T,KAAKmT,QACPU,IAAe,QAAS7T,KAAKiU,WAC7B3iB,KAAK2hB,M,0BAGd,WACI,OAAOjT,KAAKmT,QACPU,IAAqB,YAAa7T,KAAKiU,WACvC3iB,KAAK2hB,M,0BAGd,SAAakB,GACT,OAAOnU,KAAKmT,QACPiB,KAAK,YAAa,KAAMpU,KAAKiU,QAAQ,CAACH,OAAQ,CAACK,cAAeA,Q,yBAGvE,SAAY5Q,GACR,OAAOvD,KAAKmT,QACPkB,IAAI,aAAe9Q,EAAS9B,WAAY,KAAMzB,KAAKiU,QAAQ,CACxDH,OAAQ,CACJK,cAAe5Q,EAASM,WACxByQ,gBAAiB/Q,EAASQ,a,4BAK1C,SAAetC,GACX,OAAOzB,KAAKmT,QACPoB,OAAO,aAAe9S,EAAYzB,KAAKiU,a,sCAGhD,WACI,OAAOjU,KAAKmT,QACPU,IAAc,wBAAyB7T,KAAKiU,WAC5C3iB,KAAK2hB,M,qCAGd,SAAwBhT,GACpB,OAAOD,KAAKmT,QACPU,IAAiC,yBAA2B5T,EAAMD,KAAKiU,WACvE3iB,KAAK2hB,M,4BAGd,WACI,OAAOjT,KAAKmT,QACPU,IAAc,eAAgB7T,KAAKiU,WACnC3iB,KAAK2hB,M,2BAGd,SAAchT,GACV,OAAOD,KAAKmT,QACPU,IAA2B,gBAAkB5T,EAAMD,KAAKiU,WACxD3iB,KAAK2hB,M,2BAGd,SAAchT,EAAckB,GACxB,OAAOnB,KAAKmT,QACPkB,IAAI,gBAAkBpU,EAAM,CAACkB,YAAaA,GAAcnB,KAAKiU,a,qBAGtE,SAAQhU,EAAclH,GAClB,OAAOiH,KAAKmT,QACPkB,IAAI,SAAWpU,EAAM,CAAClH,KAAMA,GAAOiH,KAAKiU,a,qBAGjD,SAAQhU,GACJ,OAAOD,KAAKmT,QACPU,IAAI,SAAW5T,EAAMD,KAAKiU,WAC1B3iB,KAAK2hB,M,6BAGd,SAAgB5V,GACZ,IAAMmX,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,SAAUrX,EAAMA,EAAKN,MAC9BiD,KAAKmT,QACPiB,KAAK,eAAgBI,EAAUxU,KAAKiU,a,qBAG7C,SAAgBU,GACZ,OAAO,2BAAIA,GAAX,IAAmBC,QAAS,CAACC,cAAc,GAAD,OAAK7U,KAAKoT,YAAY9c,c,0BC3IjE,SAASwe,KACZ,IAAIC,EAAKxB,aAAaC,QAAQ,WA6F9B,OA5FU,MAANuB,IACAA,EAAKC,KAAKC,UAAU,CACZ9d,SAAU,CACN,WAAc,CACV4F,KAAM,sBAGdtE,KAAM,CACF,gBAAiB,CACbyc,OAAQ,QACRzgB,MAAO,gBACP0C,SAAU,oBACVN,KAAM,WAEV,kBAAmB,CACfqe,OAAQ,SACRzgB,MAAO,kBACP0C,SAAU,oBACVN,KAAM,WAEV,sBAAuB,CACnBqe,OAAQ,QACRzgB,MAAO,sBACP0C,SAAU,aACVN,KAAM,cAEV,qBAAsB,CAClBqe,OAAQ,QACRzgB,MAAO,qBACP0C,SAAU,aACVN,KAAM,cAGd0M,SAAU,CACN,gBACI,CACI,CAACxG,KAAM,CAAC,GAAM,YAAU,GAAM,WAAYlG,KAAM,WAChD,CAACkG,KAAM,CAAC,GAAM,SAAU,GAAM,WAAYlG,KAAM,WAChD,CAACkG,KAAM,CAAC,GAAM,YAAU,GAAM,UAAWlG,KAAM,UAC/C,CAACkG,KAAM,CAAC,GAAM,UAAW,GAAM,WAAYlG,KAAM,WACjD,CAACkG,KAAM,CAAC,GAAM,gBAAiB,GAAM,iBAAkBlG,KAAM,iBAC7D,CAACkG,KAAM,CAAC,GAAM,WAAY,GAAM,YAAalG,KAAM,YACnD,CAACkG,KAAM,CAAC,GAAM,cAAe,GAAM,eAAgBlG,KAAM,cACzD,CAACkG,KAAM,CAAC,GAAM,iBAAe,GAAM,cAAelG,KAAM,aACxD,CAACkG,KAAM,CAAC,GAAM,YAAa,GAAM,iBAAkBlG,KAAM,QACzD,CAACkG,KAAM,CAAC,GAAM,2BAAyB,GAAM,oBAAqBlG,KAAM,eACxE,CAACkG,KAAM,CAAC,GAAM,WAAS,GAAM,UAAWlG,KAAM,WAChD9F,KAAI,SAACyQ,EAAG4G,GAAJ,MAAW,CACb3G,WAAY2G,EAAE+M,WACdC,MAAO,IACPrY,KAAMyE,EAAEzE,KACR8G,gBAAYF,EACZ9M,KAAM2K,EAAE3K,KACRkN,QAAQ,OAGpBsR,qBAAsB,CAClB,gBACI,CAAC,aAAc,aAAc,cAAcC,QAAO,SAACvkB,EAAUwkB,GAKzD,OAJAxkB,EAAIwkB,GAAO,CAAC,SAAU,aAAaxkB,KAAI,SAAC8F,GAAD,MAAW,CAC9C,KAAQA,EACR,KAAQ,aAAIwJ,MAAM,KAAKtP,KAAI,kBAAsB,GAAhBmW,KAAKsO,gBAEnCzkB,IACR,KAEXoQ,YAAa,CACT,gBACI,CAAC,IAAIuJ,KAAQ,IAAIA,KAAKA,KAAK+K,MAAQ,QAC9B1kB,KAAI,SAACgK,GAAD,OAAOA,EAAE4P,cAAcC,MAAM,EAAG,OACpC0K,QAAO,SAACvkB,EAAUwkB,GAKf,OAJAxkB,EAAIwkB,GAAO,aAAIlV,MAAM,KAAKtP,KAAI,SAACyQ,EAAG7P,GAAJ,MAAY,CACtC,WAAcA,EAAGwjB,WACjB,KAAQ,aAAI9U,MAAM,KAAKtP,KAAI,kBAAMmW,KAAKsO,SAAW,UAE9CzkB,IACR,KAEfgI,KAAM,CACF,gBAAiB,IAErB2a,MAAO,CACH,4BAA6B,gBAC7B,6BAA8B,sBAC9B,6BAA8B,qBAC9B,6BAA8B,qBAI1CH,aAAaQ,QAAQ,UAAWgB,IAG7BC,KAAKU,MAAMX,GAOf,SAASY,GAAWZ,GACvBxB,aAAaQ,QAAQ,UAAWiB,KAAKC,UAAUF,IClG5C,IAAMa,GAAb,WACI,WAAoBvkB,EAAwDwkB,GAAiC,0BAAzFxkB,UAAwF,KAAhCwkB,SADhF,uCAII,SAAG9V,GACCtI,QAAQC,IAAI,yBAA0BqI,GACtCC,KAAK3O,QAAQ,CACT0O,KAAMA,EACN+V,OAAQ,IACR5iB,WAAY,KACZ0hB,QAAS,GACTD,OAAQ,GACRoB,QAAS,OAZrB,mBAgBI,WACIte,QAAQC,IAAI,6BACZsI,KAAK6V,OAAO,CACR5iB,SAAU,CACN8M,KAAM,GACN+V,OAAQ,IACR5iB,WAAY,cACZ0hB,QAAS,GACTD,OAAQ,GACRoB,QAAS,UAzBzB,KA+BaC,GAAb,WACI,WAAoBC,GAAqB,0BAArBA,WADxB,uCAII,SAAGlW,GACKmH,KAAKsO,SAAW,GAAKxV,KAAKiW,SAASC,GAAGnW,GAAYC,KAAKiW,SAASvhB,UAL5E,mBAQI,WACIsL,KAAKiW,SAASvhB,YATtB,K,UC9BA,SAASyhB,GAAWC,EAAWC,GAC3B,IAAK,IAAIhc,KAAO+b,EACZ,GAAIC,EAAQD,EAAK/b,IACb,OAAOA,EAGf,OAAO,KAkKIic,ICnJXC,GDmJWD,G,wFA9JX,SAAsCE,EAAa7B,GAC/C,OAAO,IAAIvjB,SAAW,SAACC,EAASwkB,GAC5B,IAAItkB,EAAc,IAAIqkB,GAAgBvkB,EAASwkB,GAG/C,GADApe,QAAQC,IAAR,sCAA2C8e,GAAO7B,IAC7CA,EAAQ,OAAOpjB,EAAEmD,QACtB,IAAMqgB,EAAKD,KAELpB,EAAQiB,EAAOC,QAAQC,cACvBpc,EAAOsc,EAAGrB,MAAMA,GACtB,GAAY,MAARjb,EAAc,OAAOlH,EAAEmD,QAG3B,GAF6B,WAAzBqgB,EAAGtc,KAAKA,GAAMyc,SAAqB3jB,EAAI,IAAIykB,GAAezkB,IAE1DilB,EAAIC,SAAS,cAAe,CAC5B,IAAM9kB,EAAK6kB,EAAIrI,UAAUqI,EAAIE,YAAY,KAAO,GAC1CxJ,EAAQ6H,EAAGxR,SAAS9K,GAAMke,WAAU,SAAC1Y,GAAD,OAAaA,EAAGwD,WAAW0T,aAAexjB,EAAGwjB,cACvF,OAAIjI,EAAQ,EAAU3b,EAAEmD,SACxBqgB,EAAGxR,SAAS9K,GAAMme,OAAO1J,EAAO,GAEhCyI,GAAWZ,GACJxjB,EAAE2kB,GAAG,KAEhB,OAAO3kB,EAAEmD,a,iBAIjB,SAAmC8hB,EAAa7B,GAC5C,OAAO,IAAIvjB,SAAW,SAACC,EAASwkB,GAC5B,IAAItkB,EAAc,IAAIqkB,GAAgBvkB,EAASwkB,GAG/C,GADApe,QAAQC,IAAR,mCAAwC8e,GAAO7B,IAC1CA,EAAQ,OAAOpjB,EAAEmD,QACtB,IAAMqgB,EAAKD,KAEX,GAAI0B,EAAIK,SAAS,gBAAiB,CAC9B,MAAiClC,EAAOb,OAAjCtf,EAAP,EAAOA,gBAAiBC,EAAxB,EAAwBA,MACxB,MAAwB,SAApBD,GAAgD,MAAlBugB,EAAGtc,KAAKhE,GAC/BlD,EAAE2kB,GAAG,IAET3kB,EAAEmD,QACN,GAAI8hB,EAAIK,SAAS,UAAW,CAC/B,MAA0BlC,EAAOb,OAA1Brf,EAAP,EAAOA,MAAOyC,EAAd,EAAcA,SAEd,OAAY,MADC6d,EAAGtc,KAAKhE,IACY,WAAbyC,EACT3F,EAAE2kB,GAAG,CAACxC,MAAOyC,GAAWpB,EAAGrB,OAAO,SAAClS,GAAD,OAAeA,IAAM/M,OAE3DlD,EAAEmD,QAEb,IAAMgf,EAAQiB,EAAOC,QAAQC,cACvBpc,EAAOsc,EAAGrB,MAAMA,GACtB,GAAY,MAARjb,EAAc,OAAOlH,EAAEmD,QAG3B,GAF6B,WAAzBqgB,EAAGtc,KAAKA,GAAMyc,SAAqB3jB,EAAI,IAAIykB,GAAezkB,IAE1DilB,EAAIK,SAAS,WF8BzBtD,aAAaS,WAAW,WE5BZziB,EAAE2kB,GAAG,SACF,GAAIM,EAAIK,SAAS,SACpBtlB,EAAE2kB,GAAGnB,EAAGtc,KAAKA,SACV,GAAI+d,EAAIK,SAAS,aACpBtlB,EAAE2kB,GAAGnB,EAAGxR,SAAS9K,SACd,GAAI+d,EAAIK,SAAS,yBACpBtlB,EAAE2kB,GAAGpkB,OAAOD,KAAKkjB,EAAGM,qBAAqB5c,UACtC,GAAI+d,EAAIC,SAAS,0BAA2B,CAC/C,IAAMvJ,EAAQsJ,EAAIrI,UAAUqI,EAAIE,YAAY,KAAO,GACnDnlB,EAAE2kB,GAAGnB,EAAGM,qBAAqB5c,GAAMyU,SAChC,GAAIsJ,EAAIK,SAAS,gBACpBtlB,EAAE2kB,GAAGpkB,OAAOD,KAAKkjB,EAAG5T,YAAY1I,UAC7B,GAAI+d,EAAIC,SAAS,iBAAkB,CAAC,IAAD,EAChCvJ,EAAQsJ,EAAIrI,UAAUqI,EAAIE,YAAY,KAAO,GACnDnlB,EAAE2kB,GAAF,UAAKnB,EAAG5T,YAAY1I,GAAMyU,UAA1B,QAAoC,SACjC,GAAIsJ,EAAIC,SAAS,UAAW,CAAC,IAAD,EACzBvJ,EAAQsJ,EAAIrI,UAAUqI,EAAIE,YAAY,KAAO,GACnDnlB,EAAE2kB,GAAF,UAAKnB,EAAGhc,KAAKN,GAAMyU,UAAnB,QAA6B,CAACgB,EAAG,EAAGG,EAAG,SAEvC9c,EAAEmD,a,kBAMd,SAAoC8hB,EAAazW,EAAY4U,GACzD,OAAO,IAAIvjB,SAAW,SAACC,EAASwkB,GAC5B,IAAItkB,EAAc,IAAIqkB,GAAgBvkB,EAASwkB,GAG/C,GADApe,QAAQC,IAAR,oCAAyC8e,GAAO7B,IAC3CA,EAAQ,OAAOpjB,EAAEmD,QACtB,IAAMqgB,EAAKD,KAELpB,EAAQiB,EAAOC,QAAQC,cACvBpc,EAAOsc,EAAGrB,MAAMA,GACtB,GAAY,MAARjb,EAAc,OAAOlH,EAAEmD,QAG3B,GAF6B,WAAzBqgB,EAAGtc,KAAKA,GAAMyc,SAAqB3jB,EAAI,IAAIykB,GAAezkB,IAE1DilB,EAAIK,SAAS,aAAc,CAC3B,IAAO1C,EAAiBQ,EAAOb,OAAxBK,cACP,OAAqB,MAAjBA,EAA8B5iB,EAAEmD,SACpCqgB,EAAGxR,SAAS9K,GAAMxC,KAAK,CACnBwL,WAAYqV,eACZ1B,MAAO,IACPvR,WAAYsQ,EACZtd,KAAM,OACNkN,QAAQ,IAEZ4R,GAAWZ,GACJxjB,EAAE2kB,GAAG,KAGhB,OAAO3kB,EAAEmD,a,iBAIjB,SAAmC8hB,EAAazW,EAAY4U,GACxD,OAAO,IAAIvjB,SAAW,SAACC,EAASwkB,GAC5B,IAAItkB,EAAc,IAAIqkB,GAAgBvkB,EAASwkB,GAE/C,GADApe,QAAQC,IAAR,mCAAwC8e,GAAO7B,IAC1CA,EAAQ,OAAOpjB,EAAEmD,QACtB,IAAMqgB,EAAKD,KACLpB,EAAQiB,EAAOC,QAAQC,cACvBpc,EAAOsc,EAAGrB,MAAMA,GACtB,GAAY,MAARjb,EAAc,OAAOlH,EAAEmD,QACE,WAAzBqgB,EAAGtc,KAAKA,GAAMyc,SAAqB3jB,EAAI,IAAIykB,GAAezkB,IAE9D,IAAMI,EAAK6kB,EAAIO,MAAM,KAAKC,MAC1B,GAAU,MAANrlB,EAAY,OAAOJ,EAAEmD,QAEzB,GAAI8hB,EAAIS,WAAW,aAAc,CAC7B,MAAyCtC,EAAOb,OAAzCK,EAAP,EAAOA,cAAeG,EAAtB,EAAsBA,gBAOtB,OAoBhB,SAA0B4C,EAAYC,EAAqBC,GACvD,IAAMC,EAAgBH,EAAMP,UAAUQ,GACtCD,EAAMG,GAAN,2BAA2BH,EAAMG,IAAmBD,GA5BxCE,CAAiBvC,EAAGxR,SAAS9K,IACzB,SAAC+H,GAAD,OAAsBA,EAAEiB,WAAW0T,aAAexjB,EAAGwjB,aACrD,CAACtR,WAAYsQ,EAAepQ,OAAQuQ,IAExCqB,GAAWZ,GAEJxjB,EAAE2kB,GAAG,IACT,GAAIM,EAAIS,WAAW,gBAAiB,CACvC,IAAMhX,EAAOuW,EAAIrI,UAAUqI,EAAIE,YAAY,KAAO,GAIlD,OAHA3B,EAAG5T,YAAY1I,GAAMwH,GAAQF,EAAI,YACjC4V,GAAWZ,GAEJxjB,EAAE2kB,GAAG,IACT,GAAIM,EAAIS,WAAW,SAAU,CAChC,IAAMhX,EAAOuW,EAAIrI,UAAUqI,EAAIE,YAAY,KAAO,GAIlD,OAHA3B,EAAGhc,KAAKN,GAAMwH,GAAQF,EAAI,KAC1B4V,GAAWZ,GAEJxjB,EAAE2kB,GAAG,IAGhB3kB,EAAEmD,e,KC1JD6iB,KAAMC,OAAO,CAACC,QAAS9X,yCAMvB4X,KAAMC,OAAO,CAACC,QAAS9X,yCAehC4W,GAVU,CACVpD,QAAS,IAAImD,GACbzf,KAAM,QACN6gB,eAAgB,WAYpB,IAGe/C,GAHH,eACL4B,I,UC9BD1hB,GAAiB,IAAIqe,GAAeyE,GAAOxE,SA6DlCyE,OA3Df,WACI,IAAMC,EAAkBle,YAAc,gCAEhCR,EAAsB2e,mBAAQ,kBAAMC,YAAY,CAClD1kB,QAAS,CACLwD,KAAMghB,EAAkB,OAAS,QACjCvc,QAAS,CACLrH,KAAM+jB,KAAW,KACjBC,aAAc,QAElBjkB,UAAW,CACPC,KAAM+jB,KAAW,OAGzB9lB,MAAO,CACHgmB,QAAS,CACL5kB,QAAS,GAEb6kB,QAAS,CACL1lB,QAAS,aAGjB2lB,UAAW,CACPC,OAAQ,CACJzI,KAAM,CACF1E,SAAU,QACV2E,OAAQ,OACRyI,MAAO,OAEP,8BAA+B,CAC3BzI,OAAQ,UAIpB0I,YAAa,CACTC,yBAA0B,CAEtB,8BAA+B,CAC3B3I,OAAQ,eAKxB,CAACgI,IAEGzjB,EAAUC,sBAAY,GAAI,CAAEokB,SAAU,SAAA1Y,GAAI,OAAItI,QAAQC,IAAI,aAAcqI,MAAxE3L,MAER,OACI,eAACskB,EAAA,EAAD,CAAevf,MAAOA,EAAtB,UACI,cAACwf,EAAA,EAAD,IACA,cAAC,IAAMC,SAAP,CAAgBC,SAAU,cAAClhB,EAAA,EAAD,IAA1B,SACI,cAACvD,EAAD,UACI,cAAC,GAAD,CAAaS,eAAgBA,a,4DCzDjDikB,KACKC,IAAIC,MAAmB,SAACra,EAAUsa,EAAWtL,GAC1C,OAAO,YAAahP,EAApB,YAAgCsa,EAAhC,UACK3nB,MAAK,SAAC4nB,GACHvL,EAAS,KAAMuL,MAElBhjB,OAAM,SAACxB,GACJiZ,EAASjZ,EAAO,aAG3BqkB,IAAII,MACJJ,IAAIK,MACJC,KAAK,CAEFC,YAAa,KACbC,cAAe,CACXC,aAAa,GAEjBrG,QAAS,CAELsG,SAAS,GAAD,OAAK9Z,qBAAL,mCAILmZ,GAAf,ECjBoBY,QACW,cAA7BzR,OAAO9Q,SAASwiB,UAEe,UAA7B1R,OAAO9Q,SAASwiB,UAEhB1R,OAAO9Q,SAASwiB,SAASC,MAAM,2DCfnC,IAYeC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBzoB,MAAK,YAAkD,IAA/C0oB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,KAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,CAAQC,SAAQ,UAAK7a,qBAAL,KAAhB,SACI,cAAC,GAAD,QAGRmK,SAAS2Q,eAAe,SFoHtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBtpB,MAAK,SAACupB,GACLA,EAAaC,gBAEd5kB,OAAM,SAACxB,GACN+C,QAAQ/C,MAAMA,EAAMhC,YE9G5BmnB,O","file":"static/js/main.08ead6b2.chunk.js","sourcesContent":["var map = {\n\t\"./de/translation.json\": [\n\t\t369,\n\t\t4\n\t],\n\t\"./en/translation.json\": [\n\t\t370,\n\t\t5\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 361;\nmodule.exports = webpackAsyncContext;","import {Snackbar} from \"@material-ui/core\";\nimport {Alert, Color} from \"@material-ui/lab\";\nimport React from \"react\";\n\nexport interface Props {\n    open: boolean\n    onClose: () => void\n    message?: string,\n    severity?: Color\n    autoHideDuration?: number\n}\n\nexport function AlertSnackbar(props: Props) {\n    const severity = props.severity ?? \"error\";\n    const autoHideDuration = props.autoHideDuration ?? 3000;\n    return (\n        <Snackbar open={props.open} autoHideDuration={autoHideDuration} onClose={props.onClose}>\n            <Alert variant=\"filled\" onClose={props.onClose} severity={severity}>{props.message}</Alert>\n        </Snackbar>\n    );\n}\n","import {useCallback, useState} from \"react\";\n\nexport interface State {\n    open: boolean,\n    message?: string\n}\n\nexport function useSnackBar() {\n    const [state, setState] = useState<State>({open: false});\n    const close = () => setState(prevState => ({...prevState, open: false}));\n    const props = {open: state.open, onClose: close, message: state.message};\n    const pushMessage = useCallback((message: any) => setState({\n        open: true,\n        message: typeof message === \"string\" ? message : message?.response?.statusText\n    }), []);\n    return [props, pushMessage] as const\n}\n","import React, {useState} from 'react';\nimport {\n    Avatar,\n    Box,\n    Button,\n    Container,\n    createStyles,\n    Grid,\n    TextField,\n    Theme,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {RouteComponentProps} from 'react-router-dom';\nimport BackendService from \"./service/BackendService\";\nimport {withRouter} from \"react-router\";\nimport {withTranslation, WithTranslation} from \"react-i18next\";\nimport {AlertSnackbar} from \"./common/AlertSnackbar\";\nimport {useSnackBar} from \"./common/UseSnackBar\";\nimport {useTracking} from \"react-tracking\";\n\nconst styles = ({palette, spacing}: Theme) => createStyles({\n    paper: {\n        margin: spacing(2),\n        padding: spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: spacing(1),\n        backgroundColor: palette.secondary.main,\n    },\n    submit: {\n        margin: spacing(3, 0, 2),\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps, WithTranslation {\n    backendService: BackendService\n}\n\ninterface State {\n    shared_password: string;\n    email: string;\n}\n\nfunction Login(props: Props) {\n    const {Track} = useTracking({page: 'Login'}, {dispatchOnMount: true});\n    const [state, setState] = useState<State>({shared_password: '', email: ''});\n    const [error, setError] = useSnackBar();\n    const {classes, t, backendService, history} = props;\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        backendService.requestPin(state.shared_password, state.email)\n            .then(() => history.push('/verify', {email: state.email}))\n            .catch(setError)\n    }\n\n    return (\n        <Track>\n            <Box display=\"flex\" alignItems=\"center\" height=\"100vh\">\n                <Container maxWidth=\"lg\">\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} md className={classes.paper}>\n                            <Box alignItems=\"center\" display=\"flex\" justifyContent=\"center\" flexDirection=\"column\"\n                                 height=\"100%\">\n                                <Typography paragraph component=\"h1\" variant=\"h2\">Ansers</Typography>\n                                <Typography component=\"h2\" variant=\"h5\">{t('login_welcome')}</Typography>\n                            </Box>\n                        </Grid>\n                        <Grid item xs={12} md className={classes.paper}>\n                            <Avatar className={classes.avatar}/>\n                            <Typography component=\"h1\" variant=\"h5\">{t('login_sign_in')}</Typography>\n                            <form onSubmit={handleSubmit}>\n                                <TextField\n                                    autoFocus\n                                    id=\"shared_password\"\n                                    label={t('login_shared_password')}\n                                    variant=\"outlined\"\n                                    margin=\"normal\"\n                                    value={state.shared_password}\n                                    onChange={(e) => setState({...state, shared_password: e.target.value})}\n                                    required\n                                    fullWidth\n                                />\n                                <TextField\n                                    autoComplete=\"email\"\n                                    id=\"email\"\n                                    label={t('login_email_address')}\n                                    variant=\"outlined\"\n                                    margin=\"normal\"\n                                    value={state.email}\n                                    onChange={(e) => setState({...state, email: e.target.value})}\n                                    required\n                                    fullWidth\n                                />\n                                <Button\n                                    type=\"submit\"\n                                    fullWidth\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    className={classes.submit}\n                                >\n                                    {t('login_submit')}\n                                </Button>\n                            </form>\n                        </Grid>\n                    </Grid>\n                </Container>\n            </Box>\n            <AlertSnackbar {...error} />\n        </Track>\n    );\n}\n\nexport default withRouter(withStyles(styles)(withTranslation()(Login)));\n","import React, {useEffect, useState} from 'react';\nimport {Avatar, Button, Container, createStyles, TextField, Theme, Typography, WithStyles} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {RouteComponentProps} from \"react-router-dom\";\nimport BackendService from \"./service/BackendService\";\nimport {withRouter} from \"react-router\";\nimport {withTranslation, WithTranslation} from \"react-i18next\";\nimport {AlertSnackbar} from \"./common/AlertSnackbar\";\nimport {useSnackBar} from \"./common/UseSnackBar\";\nimport {useTracking} from \"react-tracking\";\n\nconst styles = ({palette, spacing}: Theme) => createStyles({\n    paper: {\n        marginTop: spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: spacing(1),\n        backgroundColor: palette.secondary.main,\n    },\n    form: {\n        width: '100%',\n        marginTop: spacing(1),\n    },\n    submit: {\n        margin: spacing(3, 0, 2),\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps, WithTranslation {\n    backendService: BackendService\n}\n\ninterface State {\n    email?: string\n    password: string\n}\n\nfunction Verify(props: Props) {\n    const {Track} = useTracking({page: 'Verify'}, {dispatchOnMount: true});\n    const [state, setState] = useState<State>({password: ''})\n    const [error, setError] = useSnackBar()\n    const {location, history, backendService, classes, t} = props;\n\n    useEffect(() => {\n        // @ts-ignore\n        if (location?.state?.email == null) {\n            history.push('/')\n        }\n    }, [location, history])\n\n    const handleSubmit = (e: React.FormEvent) => {\n        const {password} = state;\n        // @ts-ignore\n        const {email} = location.state;\n\n        e.preventDefault();\n        backendService.login(email, password)\n            .then(() => history.push('/'))\n            .catch(setError)\n    }\n\n    return (\n        <Track>\n            <Container component=\"main\" maxWidth=\"sm\">\n                <div className={classes.paper}>\n                    <Avatar className={classes.avatar}/>\n                    <Typography component=\"h1\" variant=\"h5\">{t('verify_title')}</Typography>\n                    <form className={classes.form} onSubmit={handleSubmit}>\n                        <TextField\n                            autoFocus\n                            id=\"otp\"\n                            label=\"Pin\"\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            value={state.password}\n                            onChange={(e) => setState({...state, password: e.target.value})}\n                            required\n                            fullWidth/>\n                        <Button type=\"submit\"\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                className={classes.submit}>{t('verify_login')}</Button>\n                    </form>\n                </div>\n            </Container>\n            <AlertSnackbar {...error}/>\n        </Track>\n    );\n}\n\nexport default withRouter(withStyles(styles)(withTranslation()(Verify)));\n","import {useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport BackendService from \"./service/BackendService\";\nimport {LinearProgress} from \"@material-ui/core\";\nimport {useTracking} from \"react-tracking\";\n\nfunction Logout(props: { backendService: BackendService }) {\n    const {Track} = useTracking({page: 'Logout'}, {dispatchOnMount: true});\n    const {push} = useHistory();\n    const {backendService} = props;\n\n    useEffect(() => {\n        backendService\n            .logout()\n            .catch(console.log)\n            .then(() => push(\"/login\"))\n    }, [backendService, push]);\n\n    return <Track><LinearProgress/></Track>;\n}\n\nexport default Logout;\n","import {\n    AcUnit,\n    CloudUploadOutlined,\n    EditOutlined,\n    History,\n    HomeOutlined,\n    Mood,\n    PersonOutline,\n    ShowChart\n} from \"@material-ui/icons\";\nimport {useContext} from \"react\";\nimport {UserContext} from \"../Routes\";\n\nconst destinations = {\n    home: {title: 'home_link', subtitle: '', icon: HomeOutlined, to: '/'},\n    upload: {title: 'card_upload_title', subtitle: 'card_upload_subtitle', icon: CloudUploadOutlined, to: '/upload'},\n    behavior: {title: 'card_behavior_title', subtitle: 'card_behavior_subtitle', icon: EditOutlined, to: '/behavior'},\n    thermostats:\n        {title: 'card_thermostats_title', subtitle: 'card_thermostats_subtitle', icon: AcUnit, to: '/thermostats'},\n    user: {title: 'card_user_title', subtitle: 'card_user_subtitle', icon: PersonOutline, to: '/user'},\n    power: {title: 'card_power_title', subtitle: 'card_power_subtitle', icon: ShowChart, to: '/power'},\n    archive: {title: 'card_archive_title', subtitle: 'card_archive_subtitle', icon: History, to: '/archive'},\n    mood: {title: 'card_mood_title', subtitle: 'card_mood_subtitle', icon: Mood, to: '/mood'},\n}\n\nexport function useBottomBarDestinations() {\n    const user = useContext(UserContext)\n    if (!user) return []\n    switch (user.type) {\n        case \"management\":\n            return [destinations.home, destinations.upload, destinations.user];\n        case \"student\":\n            return [destinations.home, destinations.behavior, destinations.user];\n        default:\n            return [destinations.home, destinations.upload, destinations.behavior, destinations.thermostats, destinations.user];\n    }\n}\n\n\nexport function useNavDrawerDestinations() {\n    const user = useContext(UserContext)\n    if (!user) return []\n    switch (user.type) {\n        case \"management\":\n            return [destinations.home, destinations.upload, destinations.user];\n        case \"student\":\n            return [destinations.home, destinations.behavior, destinations.user];\n        default:\n            return [destinations.home, destinations.upload, destinations.behavior, destinations.thermostats, destinations.user];\n    }\n}\n\nexport function useHomeDestinations() {\n    const user = useContext(UserContext)\n    if (!user) return []\n    switch (user.type) {\n        case \"management\":\n            return [destinations.upload, destinations.user]\n        case \"student\":\n            return [destinations.archive, destinations.mood]\n        default:\n            return [destinations.power, destinations.upload, destinations.mood]\n    }\n}\n\n","import {\n    AppBar,\n    Box,\n    IconButton,\n    ListItemIcon,\n    Slide,\n    SvgIcon,\n    Toolbar,\n    Typography,\n    useMediaQuery,\n    useScrollTrigger,\n    useTheme\n} from \"@material-ui/core\";\nimport {Link as RouterLink, useHistory} from \"react-router-dom\";\nimport React from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport SwipeableDrawer from \"@material-ui/core/SwipeableDrawer\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport {useTranslation} from \"react-i18next\";\nimport {useNavDrawerDestinations} from \"./Destinations\";\nimport {ArrowBack, Menu} from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n        menuButton: {\n            marginRight: theme.spacing(2),\n        },\n        menu: {\n            width: 250\n        }\n    })\n);\n\nexport interface Props {\n    hideBackButton?: boolean;\n    title: string;\n    multiLine?: React.ReactNode;\n}\n\nfunction MenuButton(props: { hideBackButton?: boolean }) {\n    const {goBack} = useHistory();\n    const classes = useStyles();\n    const theme = useTheme();\n    const matches = useMediaQuery(theme.breakpoints.down('xs'));\n    const [state, setState] = React.useState({open: false});\n    const {t} = useTranslation();\n    const destinations = useNavDrawerDestinations();\n\n    const toggleDrawer = (open: boolean) => (event: React.KeyboardEvent | React.MouseEvent) => {\n        if (event && event.type === 'keydown' && ((event as React.KeyboardEvent).key === 'Tab' || (event as React.KeyboardEvent).key === 'Shift')) {\n            return;\n        }\n        setState({...state, open: open});\n    };\n\n    if (props.hideBackButton === true) {\n        if (matches) return null;\n        return <React.Fragment>\n            <SwipeableDrawer\n                anchor=\"left\"\n                open={state.open}\n                onClose={toggleDrawer(false)}\n                onOpen={toggleDrawer(true)}\n            >\n                <Box\n                    onClick={toggleDrawer(false)}\n                    onKeyDown={toggleDrawer(false)}\n                    role=\"presentation\"\n                    className={classes.menu}\n                >\n                    <List>\n                        {destinations.map((d) =>\n                            <ListItem button key={d.title} component={RouterLink} to={d.to}>\n                                <ListItemIcon><SvgIcon component={d.icon}/></ListItemIcon>\n                                <ListItemText primary={t(d.title)}/>\n                            </ListItem>)\n                        }\n                    </List>\n                </Box>\n\n            </SwipeableDrawer>\n            <IconButton\n                edge=\"start\"\n                className={classes.menuButton}\n                color=\"inherit\"\n                aria-label=\"open Menu\"\n                onClick={toggleDrawer(true)}\n            >\n                <Menu/>\n            </IconButton>\n        </React.Fragment>\n    }\n    return (\n        <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"back\"\n            onClick={goBack}\n        >\n            <ArrowBack/>\n        </IconButton>\n    )\n}\n\n\nfunction DefaultAppBar(props: React.PropsWithChildren<Props>) {\n    const {title} = props;\n    const trigger = useScrollTrigger();\n    return (\n        <React.Fragment>\n            <Slide appear={false} direction=\"down\" in={!trigger}>\n                <AppBar>\n                    <Toolbar>\n                        <MenuButton hideBackButton={props.hideBackButton}/>\n                        <Typography color=\"inherit\" variant=\"h6\">{title}</Typography>\n                        <Box mx=\"auto\"/>\n                        {props.children}\n                    </Toolbar>\n                    {props.multiLine}\n                </AppBar>\n            </Slide>\n            <Toolbar style={{visibility: \"hidden\"}}/>\n        </React.Fragment>\n    )\n}\n\nexport default DefaultAppBar;","import React from 'react';\nimport {\n    Box,\n    Button,\n    Container,\n    createStyles,\n    Grid,\n    Link,\n    List,\n    ListItem,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport BackendService from \"./service/BackendService\";\nimport {useTranslation, WithTranslation, withTranslation} from \"react-i18next\";\nimport {useSnackBar} from \"./common/UseSnackBar\";\nimport {AlertSnackbar} from \"./common/AlertSnackbar\";\nimport {useTracking} from \"react-tracking\";\nimport {CloudUploadOutlined} from \"@material-ui/icons\";\n\nconst styles = () => createStyles({\n    input: {\n        display: 'none',\n    },\n});\n\ninterface Operator {\n    name: string;\n    link: string;\n}\n\ninterface Props extends WithStyles<typeof styles>, WithTranslation {\n    backendService: BackendService\n}\n\nfunction Upload(props: Props) {\n    const {Track} = useTracking({page: 'Upload'}, {dispatchOnMount: true});\n    const [success, setSuccess] = useSnackBar();\n    const [error, setError] = useSnackBar();\n    const {t} = useTranslation();\n    const {backendService, classes} = props;\n\n    const onUpload = (file: File) => {\n        backendService.postConsumption(file)\n            .then(() => {\n                console.log(\"File uploaded.\")\n                setSuccess(\"File uploaded\");\n            }, setError)\n            .catch(console.log);\n    }\n\n    const operators: Operator[] = [\n        {name: 'Netz Obersterreich', link: 'https://netz-online.netzgmbh.at/eServiceWeb/main.html'},\n        {name: 'Netz Burgenland', link: 'https://smartmeter.netzburgenland.at'},\n        {name: 'Krnten Netz', link: 'https://meinportal.kaerntennetz.at/meinPortal/Login.aspx?service=verbrauch'},\n    ]\n\n    return (\n        <Track>\n            <DefaultAppBar hideBackButton title={t('card_upload_title')}/>\n            <Container maxWidth=\"md\">\n                <Box my={1}>\n                    <Grid container spacing={3}>\n                        <Grid item xs={12} sm={6}>\n                            <Typography variant=\"h5\" gutterBottom>{t('upload_title_download')}</Typography>\n                            <Typography color=\"textSecondary\" paragraph>\n                                {t('upload_instruction_download')}\n                            </Typography>\n                            <List>\n                                {operators.map((op) => {\n                                    return (\n                                        <ListItem key={op.name}>\n                                            <Typography><Link href={op.link}>{op.name}</Link></Typography>\n                                        </ListItem>\n                                    )\n                                })}\n                            </List>\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <Typography\n                                variant=\"h5\"\n                                gutterBottom\n                            >{t('upload_title_upload')}</Typography>\n                            <Typography\n                                color=\"textSecondary\"\n                                paragraph\n                            >{t('upload_instruction_upload')}</Typography>\n                            <input\n                                accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\n                                className={classes.input}\n                                id=\"input-file\"\n                                type=\"file\"\n                                onChange={(e) => e.target?.files && onUpload(e.target.files[0])}/>\n                            <label htmlFor=\"input-file\">\n                                <Button variant=\"contained\"\n                                        size=\"large\"\n                                        color=\"primary\"\n                                        fullWidth\n                                        component=\"span\"\n                                        startIcon={<CloudUploadOutlined/>}\n                                >{t('action_upload')}</Button>\n                            </label>\n                        </Grid>\n                    </Grid>\n                </Box>\n            </Container>\n            <AlertSnackbar severity=\"success\" {...success} />\n            <AlertSnackbar {...error} />\n        </Track>\n    )\n}\n\nexport default withStyles(styles)(withTranslation()(Upload));\n","import React, {useEffect, useState} from 'react';\nimport {\n    Box,\n    Button,\n    Container,\n    Divider,\n    LinearProgress,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    MenuItem,\n    Paper,\n    TextField,\n    Typography\n} from \"@material-ui/core\";\nimport {Link as RouterLink} from \"react-router-dom\";\nimport {ArrowRight, Email, ExitToApp, Group, Language, MyLocation, Power} from \"@material-ui/icons\";\nimport i18next from \"i18next\";\nimport {useTranslation, withTranslation, WithTranslation} from \"react-i18next\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport BackendService from \"./service/BackendService\";\nimport {AlertSnackbar} from \"./common/AlertSnackbar\";\nimport {useSnackBar} from \"./common/UseSnackBar\";\nimport {UserModel} from \"./service/Model\";\nimport {useTracking} from \"react-tracking\";\n\ninterface Props extends WithTranslation {\n    backendService: BackendService\n}\n\nfunction UserInfo(props: { user: UserModel }) {\n    const {user} = props;\n    const items = [\n        {icon: <Email/>, text: user.email},\n        {icon: <MyLocation/>, text: user.location},\n        {icon: <Group/>, text: user.type},\n    ]\n    return <>{items.map((it, idx) =>\n        <ListItem key={'element_' + idx}>\n            <ListItemIcon>{it.icon}</ListItemIcon>\n            <ListItemText>{it.text}</ListItemText>\n        </ListItem>\n    )}</>\n}\n\nfunction ConsumersInfo(props: { consumers?: number }) {\n    const {t} = useTranslation()\n    return <ListItem key={'element_consumers'} button component={RouterLink} to={\"/consumers\"}>\n        <ListItemIcon><Power/></ListItemIcon>\n        <ListItemText>{t('user_consumer', {count: props.consumers})}</ListItemText>\n        <ListItemIcon><ArrowRight/></ListItemIcon>\n    </ListItem>\n}\n\nfunction LanguageInfo(props: { language: string, changeLanguage: (language: string) => void }) {\n    return <ListItem key=\"element_language\">\n        <ListItemIcon><Language/></ListItemIcon>\n        <TextField\n            label=\"Language\"\n            select\n            variant=\"outlined\"\n            fullWidth\n            value={props.language}\n            onChange={(e) => props.changeLanguage(e.target.value)}\n        >\n            <MenuItem value={\"de\"}>German</MenuItem>\n            <MenuItem value={\"en\"}>English</MenuItem>\n        </TextField>\n    </ListItem>\n}\n\nfunction User(props: Props) {\n    const {Track} = useTracking({page: 'User'}, {dispatchOnMount: true});\n    const [language, setLanguage] = useState<string>(i18next.languages[0]);\n    const [user, setUser] = useState<UserModel>()\n    const [consumers, setConsumers] = useState<number>();\n    const [error, setError] = useSnackBar();\n\n    const {backendService, t} = props;\n\n    useEffect(() => {\n        backendService.getUser()\n            .then(setUser, setError)\n            .catch(console.log)\n    }, [backendService, setError])\n\n    useEffect(() => {\n        backendService.getConsumers()\n            .then(consumers => consumers?.length | 0)\n            .then(setConsumers, setError)\n            .catch(console.log);\n    }, [backendService, setError])\n\n    const changeLanguage = (language: string) =>\n        i18next.changeLanguage(language)\n            .then(() => setLanguage(language), setError)\n            .catch(console.log)\n\n    return (\n        <Track>\n            <DefaultAppBar hideBackButton title={t('card_user_title')}>\n                <Button\n                    startIcon={<ExitToApp/>}\n                    color=\"inherit\"\n                    component={RouterLink}\n                    to=\"/logout\"\n                >{t('logout')}</Button>\n            </DefaultAppBar>\n            {user &&\n            <Box py={1}>\n                <Container maxWidth=\"sm\" disableGutters>\n                    <Paper variant=\"outlined\">\n                        <List>\n                            <UserInfo user={user}/>\n                            <Divider variant=\"inset\" component=\"li\"/>\n                            {user.type !== \"management\" && <ConsumersInfo consumers={consumers}/>}\n                            <LanguageInfo language={language} changeLanguage={changeLanguage}/>\n                        </List>\n                    </Paper>\n                    {process.env.REACT_APP_BUILD_SHA && <Typography>{process.env.REACT_APP_BUILD_SHA}</Typography>}\n                </Container>\n            </Box>\n            }\n            {!user && <LinearProgress/>}\n            <AlertSnackbar {...error}/>\n        </Track>\n    )\n}\n\nexport default withTranslation()(User);\n","import {ChartOptions} from \"chart.js\";\nimport React from \"react\";\nimport {Line} from \"react-chartjs-2\";\nimport BackendService from \"../service/BackendService\";\n\ninterface EntryProps {\n    backendService: BackendService;\n    date: string;\n}\n\ninterface EntryState {\n    data: any;\n}\n\nconst options: ChartOptions = {\n    animation: false\n};\n\nexport class PowerEntry extends React.Component<EntryProps, EntryState> {\n    constructor(props: Readonly<EntryProps>) {\n        super(props);\n        this.state = {\n            data: {}\n        }\n    }\n\n    componentDidMount() {\n        const {backendService, date} = this.props;\n        backendService.getProcessedConsumption(date)\n            .then((consumptions) => {\n                this.setState({\n                    data: {\n                        labels: Array.from(Array(24).keys()),\n                        datasets: consumptions.map((c) => ({\n                                label: c.type,\n                                data: c.data,\n                                fill: false,\n                                backgroundColor: (c.type === 'actual') ? 'rgb(255, 99, 132)' : 'green',\n                                borderColor: 'rgba(255, 99, 132, 0.2)',\n                            })\n                        )\n                    }\n                })\n            })\n            .catch(console.log)\n    }\n\n    render() {\n        const {data} = this.state;\n        console.log(data)\n        return (\n            <Line data={data} options={options}/>\n        )\n    }\n}","import React, {useEffect, useState} from 'react';\nimport {Card, CardContent, Container, createStyles, Theme, Typography, WithStyles} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport BackendService from \"./service/BackendService\";\nimport {PowerEntry} from \"./power/PowerEntry\";\nimport {useTracking} from \"react-tracking\";\n\nconst styles = ({spacing}: Theme) => createStyles({\n    card: {\n        marginTop: spacing(2)\n    },\n});\n\ninterface Props extends WithStyles<typeof styles> {\n    backendService: BackendService\n}\n\nfunction Power(props: Props) {\n    const {Track} = useTracking({page: 'Power'}, {dispatchOnMount: true});\n    const [dates, setDates] = useState<string[]>();\n    const {classes, backendService} = props;\n\n    useEffect(() => {\n        backendService.getProcessedConsumptions()\n            .then(setDates)\n            .catch(console.log);\n    }, [backendService])\n\n    return (\n        <Track>\n            <DefaultAppBar title='Power'/>\n            {dates &&\n            <Container maxWidth=\"md\">\n                {dates.map((date) =>\n                    <Card variant=\"outlined\" key={date} className={classes.card}>\n                        <CardContent>\n                            <Typography variant=\"h6\">{date}</Typography>\n                            <PowerEntry date={date} backendService={backendService}/>\n                        </CardContent>\n                    </Card>\n                )}\n            </Container>\n            }\n\n        </Track>\n    )\n}\n\nexport default withStyles(styles)(Power);\n","import React, {useEffect, useState} from \"react\";\nimport BackendService from \"../service/BackendService\";\nimport {UserPredictionModel} from \"../service/Model\";\nimport {Card, CardActionArea, CardContent, Typography} from \"@material-ui/core\";\n\nfunction ArchiveEntry(props: { date: string, backendService: BackendService }) {\n    const {date, backendService} = props;\n    const [predictions, setPredictions] = useState(new Array<UserPredictionModel>());\n    useEffect(() => {\n        backendService.getPrediction(date)\n            .then((prediction) => setPredictions(prediction))\n            .catch(console.log);\n    }, [backendService, date]);\n\n    return (\n        <Card variant=\"outlined\">\n            <CardActionArea>\n                <CardContent>\n                    <Typography variant=\"h6\">{date}</Typography>\n                    {predictions.map((prediction) =>\n                        (\n                            <Typography variant=\"body1\" key={prediction.consumerId}>\n                                {prediction.data.map((v) => v ? '' : '')}\n                            </Typography>\n                        ))}\n                </CardContent>\n            </CardActionArea>\n        </Card>\n    )\n}\n\nexport default ArchiveEntry;\n","import React, {useEffect, useState} from 'react';\nimport {Box, Container} from \"@material-ui/core\";\nimport BackendService from \"./service/BackendService\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport ArchiveEntry from \"./archive/ArchiveEntry\";\nimport {useTranslation} from \"react-i18next\";\nimport {useSnackBar} from \"./common/UseSnackBar\";\nimport {AlertSnackbar} from \"./common/AlertSnackbar\";\nimport {useTracking} from \"react-tracking\";\n\n\ninterface Props {\n    backendService: BackendService\n}\n\nfunction Archive(props: Props) {\n    const {Track} = useTracking({page: 'Archive'}, {dispatchOnMount: true});\n    const [dates, setDates] = useState(new Array<string>());\n    const {backendService} = props;\n    const {t} = useTranslation();\n    const [error, setError] = useSnackBar();\n\n    useEffect(() => {\n        backendService.getPredictions()\n            .then(setDates, setError)\n            .catch(console.log)\n    }, [backendService, setError])\n    return (\n        <Track>\n            <DefaultAppBar title={t('card_archive_title')}/>\n            <Box py={1}>\n                <Container maxWidth=\"md\">\n                    {dates.map((value) =>\n                        <ArchiveEntry date={value} key={value} backendService={props.backendService}/>)}\n                </Container>\n            </Box>\n            <AlertSnackbar {...error} />\n        </Track>\n    )\n}\n\nexport default Archive;\n","import {\n    AcUnit,\n    Bathtub,\n    Computer,\n    FreeBreakfast,\n    Group,\n    Help,\n    LocalLaundryService,\n    Movie,\n    Power,\n    Restaurant,\n    Spa\n} from \"@material-ui/icons\";\nimport {TranslatedString} from \"../service/Model\";\nimport i18next from \"i18next\";\n\nexport function translate(str: TranslatedString | undefined, override: string | undefined): string {\n    if (override && override !== '') return override;\n    if (!str) return ''\n\n    const lang = i18next.language\n    if (lang === 'de') return str.de;\n    return str.en;\n}\n\nconst icons: any = {\n    laundry: <LocalLaundryService/>,\n    cooking: <Restaurant/>,\n    dishes: <FreeBreakfast/>,\n    hygiene: <Bathtub/>,\n    entertainment: <Movie/>,\n    wellness: <Spa/>,\n    homeoffice: <Computer/>,\n    misc: <Help/>,\n    temperature: <AcUnit/>,\n    guests: <Group/>,\n    emobility: <Power/>\n}\n\nexport function iconLookup(name?: string): JSX.Element {\n    return name && name in icons ? icons[name] : <Help/>\n}\n","import {ConsumerModel} from \"../service/Model\";\nimport {Avatar, IconButton, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText} from \"@material-ui/core\";\nimport React from \"react\";\nimport {iconLookup, translate} from \"../common/ConsumerTools\";\nimport {Delete, Visibility, VisibilityOff} from \"@material-ui/icons\";\n\nfunction ConsumerCard(props: {\n    consumer: ConsumerModel,\n    clickEdit?: (consumer: ConsumerModel) => void,\n    clickActive?: (consumer: ConsumerModel) => void,\n    clickDelete?: (consumer: ConsumerModel) => void\n}) {\n    const {consumer, clickEdit, clickActive, clickDelete} = props;\n    const button = !!clickEdit\n    return (\n        <ListItem key={consumer.consumerId}\n                  role={undefined}\n                  button={button as false | undefined}\n                  onClick={() => clickEdit && clickEdit(consumer)}>\n            <ListItemAvatar><Avatar>{iconLookup(consumer.type)}</Avatar></ListItemAvatar>\n            <ListItemText primary={translate(consumer.name, consumer.customName)}/>\n            <ListItemSecondaryAction>\n                {clickActive && <IconButton\n                    edge=\"end\"\n                    arial-label=\"show or hide\"\n                    onClick={() => clickActive(consumer)}>\n                    {consumer.active ? <Visibility/> : <VisibilityOff/>}\n                </IconButton>}\n                {clickDelete && <IconButton\n                    edge=\"end\"\n                    arial-label=\"delete\"\n                    onClick={() => clickDelete(consumer)}>\n                    <Delete/>\n                </IconButton>}\n            </ListItemSecondaryAction>\n        </ListItem>\n    )\n}\n\nexport default ConsumerCard;\n","import {ConsumerModel} from \"../service/Model\";\nimport React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport {\n    Avatar,\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    Paper\n} from \"@material-ui/core\";\nimport {iconLookup, translate} from \"../common/ConsumerTools\";\n\nexport function useDeleteConsumerDialog(onApplyDelete: (consumer: ConsumerModel, onClose: () => void) => void) {\n    const [state, setState] = useState<{\n        consumer?: ConsumerModel\n        open: boolean\n    }>({open: false});\n    const onOpen = (consumer: ConsumerModel) => setState({consumer: consumer, open: true})\n    const onClose = () => setState(prevState => ({...prevState, open: false}))\n    return [{\n        ...state,\n        onClose: onClose,\n        onApply: () => onApplyDelete(state.consumer!, onClose),\n    } as Props, onOpen] as const\n}\n\ninterface Props {\n    open: boolean\n    onClose: () => void\n    onApply: () => void\n    consumer?: ConsumerModel\n}\n\nexport function DeleteConsumerDialog(props: Props) {\n    const {t} = useTranslation();\n    const {consumer} = props;\n    return (<Dialog open={props.open} onClose={props.onClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">{t('confirm_dialog_title')}</DialogTitle>\n        {consumer && <React.Fragment>\n            <DialogContent>\n                <Paper variant=\"outlined\">\n                    <List>\n                        <ListItem role={undefined}>\n                            <ListItemAvatar><Avatar>{iconLookup(consumer.type)}</Avatar></ListItemAvatar>\n                            <ListItemText primary={translate(consumer.name, consumer.customName)}/>\n                        </ListItem>\n                    </List>\n                </Paper>\n            </DialogContent>\n\n            <DialogContent>\n                <DialogContentText>{t('confirm_dialog_content', {text: translate(consumer.name, consumer.customName)})}</DialogContentText>\n            </DialogContent>\n        </React.Fragment>}\n        <DialogActions>\n            <Button onClick={props.onClose} color=\"primary\">{t('dialog_button_cancel')}</Button>\n            <Button onClick={props.onApply} color=\"primary\">{t('dialog_button_delete')}</Button>\n        </DialogActions>\n    </Dialog>)\n}\n","import {ConsumerModel} from \"../service/Model\";\nimport React, {ChangeEvent, useState} from \"react\";\nimport {iconLookup, translate} from \"../common/ConsumerTools\";\nimport {useTranslation} from \"react-i18next\";\nimport {\n    Avatar,\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle, List, ListItem,\n    ListItemAvatar, ListItemText, Paper,\n    TextField\n} from \"@material-ui/core\";\n\nexport function useEditConsumerDialog(onApplyEdit: (consumer: ConsumerModel, closeDialog: () => void) => void) {\n    const [state, setState] = useState<{ consumer?: ConsumerModel, consumerName?: string, open: boolean }>({open: false});\n    const onOpen = (consumer: ConsumerModel) => setState({\n        consumer: consumer,\n        consumerName: translate(consumer.name, consumer.customName),\n        open: true\n    });\n    const onClose = () => setState(prevState => ({...prevState, open: false}))\n    return [{\n        ...state,\n        onClose: onClose,\n        onApply: () => onApplyEdit({...state.consumer!, customName: state.consumerName!}, onClose),\n        onChange: (e: ChangeEvent<HTMLInputElement>) => setState(prevState => ({\n            ...prevState,\n            consumerName: e.target.value\n        }))\n    } as Props, onOpen] as const\n}\n\ninterface Props {\n    open: boolean\n    consumerName: string\n    consumer?: ConsumerModel\n    onClose: () => void\n    onApply: () => void\n    onChange: (e: ChangeEvent<HTMLInputElement>) => void\n}\n\nexport function EditConsumerDialog(props: Props) {\n    const {t} = useTranslation();\n    return (\n        <Dialog open={props.open} onClose={props.onClose} aria-labelledby=\"form-dialog-title\">\n            <DialogTitle id=\"form-dialog-title\">{t('title_edit_consumer')}</DialogTitle>\n            <DialogContent>\n                <Paper variant=\"outlined\">\n                    <List>\n                        <ListItem role={undefined}>\n                            <ListItemAvatar><Avatar>{iconLookup(props.consumer?.type)}</Avatar></ListItemAvatar>\n                            <ListItemText primary={props.consumerName}/>\n                        </ListItem>\n                    </List>\n                </Paper>\n            </DialogContent>\n            <DialogContent>\n                <TextField\n                    autoFocus\n                    margin=\"dense\"\n                    id=\"name\"\n                    label={t('consumer_name')}\n                    fullWidth\n                    variant=\"filled\"\n                    value={props.consumerName}\n                    onChange={props.onChange}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.onClose} color=\"primary\">{t('dialog_button_cancel')}</Button>\n                <Button onClick={props.onApply} color=\"primary\">{t('dialog_button_rename')}</Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n","import {useTranslation} from \"react-i18next\";\nimport {\n    Avatar,\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle, List, ListItem, ListItemAvatar, ListItemText, Paper,\n    TextField\n} from \"@material-ui/core\";\nimport React, {ChangeEvent, useState} from \"react\";\nimport {iconLookup} from \"../common/ConsumerTools\";\n\ninterface Props {\n    open: boolean\n    consumerName?: string\n    onClose: () => void\n    onApply: () => void\n    onChange: (e: ChangeEvent<HTMLInputElement>) => void\n}\n\nexport function useCreateConsumerDialog(onApply: (consumerName: string, onClose: () => void) => void) {\n    const [state, setState] = useState<{ open: boolean, consumerName?: string }>({open: false});\n    const onOpen = () => setState({consumerName: \"\", open: true});\n    const onClose = () => setState(prevState => ({...prevState, open: false}));\n    return [{\n        ...state,\n        onClose: onClose,\n        onApply: () => onApply(state.consumerName!, onClose),\n        onChange: (e: ChangeEvent<HTMLInputElement>) => setState(prevState => ({\n            ...prevState,\n            consumerName: e.target.value\n        }))\n    } as Props, onOpen] as const;\n}\n\nexport function CreateConsumerDialog(props: Props) {\n    const {t} = useTranslation();\n    return (<Dialog open={props.open} onClose={props.onClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">{t('title_create_consumer')}</DialogTitle>\n        <DialogContent>\n            <Paper variant=\"outlined\">\n                <List>\n                    <ListItem role={undefined}>\n                        <ListItemAvatar><Avatar>{iconLookup(\"misc\")}</Avatar></ListItemAvatar>\n                        <ListItemText primary={props.consumerName}/>\n                    </ListItem>\n                </List>\n            </Paper>\n        </DialogContent>\n        <DialogContent>\n            <DialogContentText>{t('description_consumer_name')}\n            </DialogContentText>\n            <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label={t('consumer_name')}\n                fullWidth\n                variant=\"filled\"\n                value={props.consumerName}\n                onChange={props.onChange}\n            />\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={props.onClose} color=\"primary\">{t('dialog_button_cancel')}</Button>\n            <Button onClick={props.onApply} color=\"primary\">{t('dialog_button_create')}</Button>\n        </DialogActions>\n    </Dialog>);\n}\n","import React, {useEffect, useState} from 'react';\nimport {Box, Container, Fab, List, Paper} from \"@material-ui/core\";\nimport BackendService from \"./service/BackendService\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport {ConsumerModel} from \"./service/Model\";\nimport ConsumerCard from \"./consumers/ConsumerCard\";\nimport {useTranslation} from \"react-i18next\";\nimport {AlertSnackbar} from \"./common/AlertSnackbar\";\nimport {DeleteConsumerDialog, useDeleteConsumerDialog} from \"./consumers/DeleteConsumerDialog\";\nimport {EditConsumerDialog, useEditConsumerDialog} from \"./consumers/EditConsumerDialog\";\nimport {CreateConsumerDialog, useCreateConsumerDialog} from \"./consumers/CreateConsumerDialog\";\nimport {useSnackBar} from \"./common/UseSnackBar\";\nimport {Add} from \"@material-ui/icons\";\nimport {useTracking} from \"react-tracking\";\n\ninterface Props {\n    backendService: BackendService\n}\n\nfunction Consumers(props: Props) {\n    const {Track} = useTracking({page: 'Consumers'}, {dispatchOnMount: true});\n    const [consumers, setConsumers] = useState<ConsumerModel[]>([]);\n    const [error, setError] = useSnackBar();\n    const {backendService} = props;\n\n    useEffect(() => {\n        backendService.getConsumers()\n            .then(setConsumers, setError)\n            .catch(console.log)\n    }, [backendService, setError])\n\n    const refresh = () => {\n        backendService.getConsumers()\n            .then(setConsumers, setError)\n            .catch(console.log)\n    }\n\n    const [deleteProps, setDelete] = useDeleteConsumerDialog((consumer, onClose) =>\n        backendService.removeConsumer(consumer.consumerId)\n            .then(onClose)\n            .then(refresh)\n            .catch(setError)\n    );\n\n    const [editProps, setEdit] = useEditConsumerDialog((consumer, onClose) =>\n        backendService.putConsumer(consumer)\n            .then(onClose)\n            .then(refresh)\n            .catch(setError)\n    );\n\n    const [createProps, setCreate] = useCreateConsumerDialog((consumerName, onClose) =>\n        backendService.postConsumer(consumerName)\n            .then(onClose)\n            .then(refresh)\n            .catch(setError)\n    );\n\n    const applyChangeActive = (consumer: ConsumerModel) =>\n        backendService.putConsumer({...consumer, active: !consumer.active})\n            .then(refresh)\n            .catch(setError)\n\n    const {t} = useTranslation();\n    return (\n        <Track>\n            <DefaultAppBar title={t('edit_consumers')}/>\n            <Container maxWidth=\"sm\" disableGutters>\n                <Box my={1} pb={10}>\n                    <Paper variant=\"outlined\">\n                        <List>\n                            {consumers && consumers.map((it) =>\n                                <ConsumerCard\n                                    consumer={it}\n                                    clickEdit={(c) => setEdit(c)}\n                                    clickActive={(c) => applyChangeActive(c)}\n                                    clickDelete={(c) => setDelete(c)}\n                                />\n                            )}\n                        </List>\n                    </Paper>\n                </Box>\n            </Container>\n            <Fab color=\"primary\" aria-label=\"add\" onClick={setCreate}><Add/></Fab>\n            <AlertSnackbar {...error}/>\n            <CreateConsumerDialog {...createProps} />\n            <EditConsumerDialog {...editProps} />\n            <DeleteConsumerDialog {...deleteProps} />\n        </Track>\n    );\n}\n\nexport default Consumers;\n","/*  Adapted from https://github.com/mcjohnalds/react-table-drag-select */\n\nimport React from \"react\";\nimport {TableCell, TableRow} from \"@material-ui/core\";\n\nexport interface Row {\n    header: JSX.Element;\n    cellStates: boolean[];\n}\n\ninterface Props {\n    maxRows: number\n    maxColumns: number\n    onSelectionStart: (location: { row: number, column: number }) => {}\n    onInput: () => void\n    onChange: (value: boolean[][]) => void\n    rows: Row[]\n}\n\ninterface State {\n    selectionStarted: boolean\n    startRow: number\n    startColumn: number\n    endRow: number\n    endColumn: number\n    addMode: boolean\n}\n\nclass BehaviorDragSelect extends React.Component<React.PropsWithChildren<Props> & typeof BehaviorDragSelect.defaultProps, State> {\n    static defaultProps = {\n        maxRows: Infinity,\n        maxColumns: Infinity,\n        onSelectionStart: () => {\n        },\n        onInput: () => {\n        },\n        onChange: (value: boolean[][]) => {\n        },\n        rows: [] as Row[]\n    };\n\n    constructor(props: Readonly<React.PropsWithChildren<Props> & typeof BehaviorDragSelect.defaultProps> | React.PropsWithChildren<Props> & typeof BehaviorDragSelect.defaultProps) {\n        super(props);\n        this.state = {\n            selectionStarted: false,\n            startRow: 0,\n            startColumn: 0,\n            endRow: 0,\n            endColumn: 0,\n            addMode: false\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener(\"mouseup\", this.handleTouchEndWindow);\n        window.addEventListener(\"touchend\", this.handleTouchEndWindow);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"mouseup\", this.handleTouchEndWindow);\n        window.removeEventListener(\"touchend\", this.handleTouchEndWindow);\n    }\n\n    render() {\n        return this.props.rows.map((row, i) =>\n            <TableRow><TableCell variant=\"head\">{row.header}</TableCell>\n                {row.cellStates.map((selected, j) =>\n                    <Cell\n                        disabled={false}\n                        beingSelected={this.isCellBeingSelected(i, j)}\n                        selected={selected}\n                        onTouchStart={this.handleTouchStartCell}\n                        onTouchMove={this.handleTouchMoveCell}\n                    />)}\n            </TableRow>\n        )\n    }\n\n    handleTouchStartCell = (e: any) => {\n        const isLeftClick = e.button === 0;\n        const isTouch = e.type !== \"mousedown\";\n        if (!this.state.selectionStarted && (isLeftClick || isTouch)) {\n            e.preventDefault();\n            const {row, column} = eventToCellLocation(e);\n            this.props.onSelectionStart({row, column});\n            this.setState({\n                selectionStarted: true,\n                startRow: row,\n                startColumn: column,\n                endRow: row,\n                endColumn: column,\n                addMode: !this.props.rows[row].cellStates[column]\n            });\n        }\n    };\n\n    handleTouchMoveCell = (e: any) => {\n        if (this.state.selectionStarted) {\n            e.preventDefault();\n            const {row, column} = eventToCellLocation(e);\n            const {startRow, startColumn, endRow, endColumn} = this.state;\n\n            if (endRow !== row || endColumn !== column) {\n                const nextRowCount = Math.abs(row - startRow) + 1;\n                const nextColumnCount = Math.abs(column - startColumn) + 1;\n\n                if (nextRowCount <= this.props.maxRows) {\n                    this.setState({endRow: row});\n                }\n                if (nextColumnCount <= this.props.maxColumns) {\n                    this.setState({endColumn: column});\n                }\n            }\n        }\n    };\n\n    handleTouchEndWindow = (e: any) => {\n        const isLeftClick = e.button === 0;\n        const isTouch = e.type !== \"mousedown\";\n        if (this.state.selectionStarted && (isLeftClick || isTouch)) {\n            const value = this.props.rows.map((r) => Object.assign([], r.cellStates)) as boolean[][]\n            const minRow = Math.min(this.state.startRow, this.state.endRow);\n            const maxRow = Math.max(this.state.startRow, this.state.endRow);\n            for (let row = minRow; row <= maxRow; row++) {\n                const minColumn = Math.min(this.state.startColumn, this.state.endColumn);\n                const maxColumn = Math.max(this.state.startColumn, this.state.endColumn);\n                for (let column = minColumn; column <= maxColumn; column++) {\n                    value[row][column] = this.state.addMode;\n                }\n            }\n            this.setState({selectionStarted: false});\n            this.props.onChange(value);\n        }\n    };\n\n    isCellBeingSelected = (row: number, column: number) => {\n        if (!this.state.selectionStarted) return false;\n\n        const {startRow, endRow, startColumn, endColumn} = this.state;\n        const minRow = Math.min(startRow, endRow);\n        const maxRow = Math.max(startRow, endRow);\n        const minColumn = Math.min(startColumn, endColumn);\n        const maxColumn = Math.max(startColumn, endColumn);\n\n        return row >= minRow && row <= maxRow && column >= minColumn && column <= maxColumn;\n    };\n}\n\ninterface CellProps {\n    disabled: boolean\n    beingSelected: boolean\n    selected: boolean\n    onTouchStart: any\n    onTouchMove: any\n}\n\nclass Cell extends React.Component<CellProps> {\n    td: any\n\n    shouldComponentUpdate(nextProps: Readonly<CellProps>, nextState: Readonly<{}>, nextContext: any): boolean {\n        return nextProps.selected !== this.props.selected || nextProps.beingSelected !== this.props.beingSelected\n    }\n\n    componentDidMount() {\n        // We need to call addEventListener ourselves so that we can pass\n        // {passive: false}\n        this.td.addEventListener(\"touchstart\", this.handleTouchStart, {passive: false});\n        this.td.addEventListener(\"touchmove\", this.handleTouchMove, {passive: false});\n    }\n\n    componentWillUnmount() {\n        this.td.removeEventListener(\"touchstart\", this.handleTouchStart);\n        this.td.removeEventListener(\"touchmove\", this.handleTouchMove);\n    }\n\n    render() {\n        const {disabled, beingSelected, selected, onTouchStart, onTouchMove, ...props} = this.props;\n        let className = \"\"\n        if (disabled) {\n            className += \" cell-disabled\";\n        } else {\n            className += \" cell-enabled\";\n            if (selected) {\n                className += \" cell-selected\";\n            }\n            if (beingSelected) {\n                className += \" cell-being-selected\";\n            }\n        }\n\n        return (\n            <TableCell\n                ref={td => (this.td = td)}\n                className={className}\n                onMouseDown={this.handleTouchStart}\n                onMouseMove={this.handleTouchMove}\n                {...props}\n            />\n        );\n    }\n\n    handleTouchStart = (e: any) => !this.props.disabled && this.props.onTouchStart(e);\n    handleTouchMove = (e: any) => !this.props.disabled && this.props.onTouchMove(e);\n}\n\nfunction eventToCellLocation(e: any): { row: number, column: number } {\n    let target;\n    // For touchmove and touchend events, e.target and e.touches[n].target are\n    // wrong, so we have to rely on elementFromPoint(). For mouse clicks, we have\n    // to use e.target.\n    if (e.touches) {\n        const touch = e.touches[0];\n        target = document.elementFromPoint(touch.clientX, touch.clientY);\n    } else {\n        target = e.target;\n        while (target.tagName !== \"TD\") {\n            target = target.parentNode;\n        }\n    }\n    return {\n        row: target.parentNode.rowIndex - 2,\n        column: target.cellIndex - 1\n    };\n}\n\nexport default BehaviorDragSelect;","import React, {useEffect, useState} from \"react\";\nimport BehaviorDragSelect, {Row} from \"./behavior/BehaviorDragSelect\"\nimport {\n    Avatar,\n    Box,\n    Button,\n    Container,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    Tooltip,\n    WithStyles\n} from \"@material-ui/core\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport {useTranslation} from \"react-i18next\";\nimport {Prompt} from 'react-router-dom';\nimport BackendService from \"./service/BackendService\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {styles} from \"./behavior/BehaviorStyles\";\nimport {SaveAlt} from \"@material-ui/icons\";\nimport {iconLookup, translate} from \"./common/ConsumerTools\";\nimport {AlertSnackbar} from \"./common/AlertSnackbar\";\nimport {useSnackBar} from \"./common/UseSnackBar\";\nimport {useTracking} from \"react-tracking\";\n\nconst formatTime = (v: number) => v < 10 ? '0' + v : '' + v\nconst hours = Array.from(Array(24).keys()).map(v => formatTime(v));\nconst colors = ['lightgreen', 'yellow', 'red']\nconst energyAvailable = [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0].map(v => colors[v])\n\nconst date = new Date().toISOString().slice(0, 10)\n\ninterface Props extends WithStyles<typeof styles> {\n    backendService: BackendService\n}\n\ninterface ExtendedRow extends Row {\n    consumerId: string\n}\n\ninterface State {\n    rows: ExtendedRow[],\n    modified: boolean,\n}\n\nfunction Behavior(props: Props) {\n    const {Track} = useTracking({page: 'Behavior'}, {dispatchOnMount: true});\n    const [state, setState] = useState<State>({rows: [], modified: false});\n    const [error, setError] = useSnackBar();\n    const [success, setSuccess] = useSnackBar();\n    const {backendService} = props;\n    const {t} = useTranslation();\n    const {classes} = props;\n\n    useEffect(() => {\n        Promise.all([backendService.getConsumers(), backendService.getPrediction(date)])\n            .then(([consumers, predictions]) => {\n                const cellStates = consumers\n                    .filter((c) => c.active)\n                    .map((c) => ({\n                        header: (\n                            <Tooltip title={translate(c.name, c.customName)} enterTouchDelay={0}>\n                                <Avatar variant=\"rounded\" className={classes.avatar}>{iconLookup(c.type)}</Avatar>\n                            </Tooltip>\n                        ),\n                        consumerId: c.consumerId,\n                        cellStates: predictions.find((p) => p.consumerId === c.consumerId)?.data ?? hours.map(() => false)\n                    }));\n                setState({rows: cellStates, modified: false})\n            }, setError)\n            .catch(console.log)\n    }, [backendService, classes.avatar, setError]);\n\n    const handleChange = (cells: boolean[][]) => {\n        setState({\n            ...state,\n            rows: state.rows.map((row, i) => ({...row, cellStates: cells[i]})),\n            modified: true\n        })\n    };\n\n    const handleSave = () =>\n        backendService.putPrediction(\n            date,\n            state.rows.map((r) => ({\n                consumerId: r.consumerId,\n                data: r.cellStates\n            })))\n            .then(() => {\n                setSuccess(t('behavior_changes_saved'));\n            })\n            .then(() => setState({...state, modified: false}), setError)\n            .catch(console.log)\n\n    const {rows, modified} = state;\n    return (\n        <Track>\n            <Prompt when={modified} message={t('unsaved_changes')}/>\n            <DefaultAppBar hideBackButton title={t('card_behavior_title')}>\n                <Button\n                    color=\"inherit\"\n                    onClick={handleSave}\n                    startIcon={<SaveAlt/>}\n                >{t('save')}</Button>\n            </DefaultAppBar>\n            <Container maxWidth=\"xl\" disableGutters>\n                <Box p={1}>\n                    <TableContainer className={classes.container}>\n                        <Table stickyHeader size=\"small\" className={classes.tableDragSelect}>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell variant=\"head\"/>\n                                    {hours.map((value) => <TableCell align=\"center\">{String(value)}</TableCell>)}\n                                </TableRow>\n                                <TableRow>\n                                    <TableCell/>\n                                    {energyAvailable.map((v) => <TableCell style={{backgroundColor: v}}/>)}\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                <BehaviorDragSelect rows={rows} onChange={handleChange}/>\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                </Box>\n            </Container>\n            <AlertSnackbar {...success} severity=\"success\"/>\n            <AlertSnackbar {...error} />\n        </Track>)\n}\n\nexport default withStyles(styles)(Behavior);","import {createStyles, Theme} from \"@material-ui/core\";\n\nexport const styles = ({spacing, palette}: Theme) => createStyles({\n    container: {\n        overflow: 'auto',\n        maxHeight: 'calc(100vh - 140px)'\n    },\n    avatar: {\n        width: spacing(4),\n        height: spacing(4),\n    },\n    tableDragSelect: {\n        userSelect: \"none\",\n        borderCollapse: \"collapse\",\n        \"& thead th\": {\n            position: \"sticky\",\n            top: \"0px\",\n            zIndex: 1,\n        },\n        \"& thead>tr:nth-child(2) th\": {\n            top: \"37px\"\n        },\n        \"& td\": {\n            border: \"1px solid \" + palette.divider\n        },\n        \"& td.cell-selected\": {\n            backgroundColor: palette.secondary.main\n        },\n        \"& td.cell-being-selected\": {\n            backgroundColor: palette.primary.main\n        },\n        \"& td.cell-disabled\": {\n            backgroundColor: \"red\"\n        }\n    }\n});\n","import React from 'react';\nimport {\n    Box,\n    Card,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Container,\n    createStyles,\n    Grid,\n    SvgIcon,\n    Theme,\n    Typography,\n    withStyles,\n    WithStyles\n} from \"@material-ui/core\";\nimport {Link as RouterLink} from \"react-router-dom\";\nimport {useTranslation} from \"react-i18next\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport {useHomeDestinations} from \"./common/Destinations\";\nimport {useTracking} from \"react-tracking\";\n\nconst styles = ({palette}: Theme) => createStyles({\n    media: {\n        backgroundColor: palette.secondary.main,\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: \"8px\"\n    },\n    icon: {\n        color: palette.background.paper\n    }\n});\n\ninterface Item {\n    title: string\n    subtitle: string\n    icon: any\n    to: string\n}\n\ninterface CardProps {\n    item: Item\n}\n\nconst HomeCard = withStyles(styles)(\n    function Component(props: CardProps & WithStyles<typeof styles>) {\n        const {classes, item} = props\n        const {t} = useTranslation()\n\n        return (\n            <Grid item xs={12} sm={6} xl={4} key={item.title}>\n                <Card>\n                    <CardActionArea component={RouterLink} to={item.to}>\n                        <Box display=\"flex\">\n                            <CardMedia className={classes.media}>\n                                <SvgIcon component={item.icon} className={classes.icon}/>\n                            </CardMedia>\n                            <CardContent>\n                                <Typography variant=\"h6\">{t(item.title)}</Typography>\n                                <Typography color=\"textSecondary\" noWrap>{t(item.subtitle)}</Typography>\n                            </CardContent>\n                        </Box>\n                    </CardActionArea>\n                </Card>\n            </Grid>\n        )\n    }\n)\n\nfunction Home() {\n    const {Track} = useTracking({page: 'Home'}, {dispatchOnMount: true});\n    const homeDestinations = useHomeDestinations();\n    const {t} = useTranslation();\n    return (\n        <Track>\n            <DefaultAppBar hideBackButton title={t('home_title')}/>\n            <Container maxWidth=\"lg\" disableGutters>\n                <Box padding={1}>\n                    <Grid container>\n                        {homeDestinations.map((item: Item, index: number) => <HomeCard item={item} key={index}/>)}\n                    </Grid>\n                </Box>\n            </Container>\n        </Track>\n    );\n}\n\nexport default Home;\n","import React from \"react\";\nimport {\n    Box,\n    Button,\n    Card,\n    CardActions,\n    CardContent,\n    IconButton,\n    Paper,\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n    Typography,\n    useTheme\n} from \"@material-ui/core\";\nimport {Scatter} from \"react-chartjs-2\";\nimport {Delete, Edit} from \"@material-ui/icons\";\n\nexport interface TimeItem {\n    time: string;\n    temperature: number;\n}\n\ninterface Props {\n    title: string;\n    items: TimeItem[];\n}\n\nconst options = {\n    locale: \"de\",\n    plugins: {\n        legend: {\n            display: false\n        },\n        tooltip: {\n            enabled: false\n        }\n    },\n    scales: {\n        xAxes: {\n            min: 0,\n            max: 24,\n            ticks: {\n                callback: (value: any) => value + ':00'\n            }\n        },\n        yAxes: {\n            suggestedMax: 22,\n            suggestedMin: 22,\n            ticks: {\n                callback: (value: any) => value + ' C'\n            }\n        }\n    }\n}\n\nexport function ThermostatDaySetting(props: Props) {\n    const {title, items} = props;\n    const dataItems = [...items, {time: '24:00', temperature: items[items.length - 1].temperature}]\n    const {palette} = useTheme();\n    const data = {\n        datasets: [\n            {\n                data: dataItems.map((i) => ({\n                    x: (+i.time.substring(0, i.time.indexOf(':'))),\n                    y: i.temperature\n                })),\n                showLine: true,\n                fill: true,\n                stepped: true,\n                borderColor: palette.primary.main,\n                backgroundColor: palette.secondary.main,\n            }\n        ],\n\n    }\n\n    return (\n        <Card variant=\"outlined\">\n            <CardContent>\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">{title}</Typography>\n                <Paper square>\n                    <Box p={1}>\n                        <Scatter data={data} options={options} height={50}/>\n                    </Box>\n                    <Table size=\"small\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Zeitraum</TableCell>\n                                <TableCell colSpan={2}>Temperatur</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {items.map((item, index) => (\n                                <TableRow key={item.time} hover={true}>\n                                    <TableCell>{item.time}</TableCell>\n                                    <TableCell>{item.temperature} C</TableCell>\n                                    <TableCell align=\"right\">\n                                        <IconButton size=\"small\"><Edit/></IconButton>\n                                        <IconButton disabled={index < 1} size=\"small\"><Delete/></IconButton>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Paper>\n\n                <CardActions>\n                    <Button style={{flexShrink: 0}} color=\"primary\">Zeitraum hinzufgen</Button>\n                    <Box mx=\"auto\"/>\n                    <Button color=\"primary\">Kopieren von ...</Button>\n                </CardActions>\n            </CardContent>\n        </Card>\n    )\n}\n","import React, {useState} from 'react';\nimport {Box, Button, Container, Grid, GridSize, Tab, Tabs, Toolbar} from \"@material-ui/core\";\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport {ThermostatDaySetting, TimeItem} from \"./thermostats/ThermostatDaySetting\";\nimport {useTracking} from \"react-tracking\";\n\ninterface Props {\n\n}\n\ninterface State {\n    viewType: number;\n}\n\nfunction a11yProps(index: any) {\n    return {\n        id: `simple-tab-${index}`,\n        'aria-controls': `simple-tabpanel-${index}`,\n    };\n}\n\ninterface TabPanelProps {\n    children?: React.ReactNode;\n    index: any;\n    value: any;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n    const {children, value, index, ...other} = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            {value === index && children}\n        </div>\n    );\n}\n\ninterface TabModel {\n    days: string[]\n    md: GridSize\n    lg: GridSize\n    xl: GridSize\n}\n\nfunction Thermostats(props: Props) {\n    const {Track} = useTracking({page: 'Power'}, {dispatchOnMount: true});\n    const [state, setState] = useState({viewType: 0} as State);\n    const items: TimeItem[] = [\n        {\n            time: '0:00',\n            temperature: 18\n        },\n        {\n            time: '12:00',\n            temperature: 21\n        },\n        {\n            time: '15:00',\n            temperature: 25\n        },\n        {\n            time: '18:00',\n            temperature: 21\n        },\n    ]\n\n    const viewType = state.viewType | 0;\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n        setState({viewType: newValue})\n    };\n\n    const simpleDays = [\"Werktage\", \"Wochenende\"]\n    const days = [\"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\", \"Sonntag\"]\n    const tabs: TabModel[] = [\n        {days: simpleDays, md: 6, lg: 6, xl: 6},\n        {days: days, md: 6, lg: 4, xl: 3}\n    ]\n\n    return (\n        <Track>\n            <DefaultAppBar title='Thermostats'>\n                <Button color=\"inherit\">Ausprobieren</Button>\n                <Button color=\"inherit\">Speichern</Button>\n            </DefaultAppBar>\n            <Toolbar>\n                <Box mx=\"auto\"/>\n                <Tabs value={viewType} variant=\"fullWidth\" onChange={handleChange}>\n                    <Tab label=\"Einfach\" {...a11yProps(0)}/>\n                    <Tab label=\"Erweitert\" {...a11yProps(1)}/>\n                </Tabs>\n                <Box mx=\"auto\"/>\n            </Toolbar>\n            <Container disableGutters maxWidth=\"xl\">\n                <Box p={1}>\n                    {tabs.map((tab, index) => (\n                        <TabPanel index={index} value={viewType} key={index}>\n                            <Grid container spacing={1}>\n                                {tab.days.map((day) => (\n                                    <Grid item xs={12} md={tab.md} lg={tab.lg} xl={tab.xl} key={day}>\n                                        <ThermostatDaySetting title={day} items={items}/>\n                                    </Grid>\n                                ))}\n                            </Grid>\n                        </TabPanel>\n                    ))}\n                </Box>\n            </Container>\n        </Track>\n    )\n}\n\nexport default Thermostats;","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport {useHistory} from \"react-router-dom\";\nimport {useTranslation} from \"react-i18next\";\nimport {Paper, SvgIcon, useMediaQuery, useTheme} from \"@material-ui/core\";\nimport {useBottomBarDestinations} from \"./Destinations\";\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100%',\n        position: 'fixed',\n        bottom: 0,\n        overflow: 'hidden',\n        zIndex: 100\n    },\n    spacer: {\n        marginTop: '60px'\n    },\n});\n\nfunction DefaultBottomNavigation() {\n    const classes = useStyles();\n    const history = useHistory();\n    const {t} = useTranslation()\n    const [value, setValue] = React.useState(0);\n    const theme = useTheme();\n    const matches = useMediaQuery(theme.breakpoints.down('xs'));\n    const destinations = useBottomBarDestinations();\n\n    if (!matches) return null;\n    return (\n        <React.Fragment>\n            <div className={classes.spacer}/>\n            <Paper className={classes.root} elevation={1}>\n                <BottomNavigation\n                    value={value}\n                    onChange={(event, newValue) => {\n                        setValue(newValue);\n                        const destination = destinations[newValue];\n                        if (destination != null) {\n                            history.push(destination.to);\n                        }\n                    }}\n                    showLabels\n                >\n                    {destinations.map((d) =>\n                        <BottomNavigationAction id={d.title} label={t(d.title)} icon={<SvgIcon component={d.icon}/>}/>)\n                    }\n                </BottomNavigation>\n            </Paper>\n        </React.Fragment>\n    );\n}\n\nexport default DefaultBottomNavigation;\n","import React, {useEffect, useState} from 'react';\nimport DefaultAppBar from \"./common/DefaultAppBar\";\nimport {Box, Button, Card, CardContent, Container, Typography, useTheme} from \"@material-ui/core\";\nimport {useTranslation} from \"react-i18next\";\nimport {SaveAlt} from \"@material-ui/icons\";\nimport {Bubble, defaults} from \"react-chartjs-2\";\nimport 'chartjs-plugin-dragdata';\nimport {useSnackBar} from \"./common/UseSnackBar\";\nimport {AlertSnackbar} from \"./common/AlertSnackbar\";\nimport {useTracking} from 'react-tracking';\nimport BackendService from \"./service/BackendService\";\n\nfunction DraggableGraph(props: { mood: { x: number, y: number }, onChange: (mood: { x: number, y: number }) => void }) {\n    const theme = useTheme();\n    const {t} = useTranslation();\n\n    defaults.borderColor = theme.palette.divider;\n    defaults.color = theme.palette.text.primary;\n\n    return <Bubble\n        data={{\n            labels: [\"Red\"],\n            datasets: [{\n                data: [{...props.mood, r: 20}],\n                borderWidth: 1,\n                hoverRadius: 0,\n                backgroundColor: theme.palette.primary.main,\n                pointHitRadius: 25\n            }]\n        }}\n        options={{\n            maintainAspectRatio: true,\n            aspectRation: 1,\n            scales: {\n                y: {\n                    alignToPixels: true,\n                    max: 10,\n                    min: 0,\n                    ticks: {\n                        // callback: (value: any, index: number, ticks: any) => {\n                        //     return value == 10 || value == 0 ? value : null;\n                        // }\n                    },\n                    grid: {\n                        display: true,\n                    },\n                    title: {\n                        display: true,\n                        text: [t('mood_very_uncomfortable') + '     --------------------------     ' + t('mood_very_comfortable')],\n                    },\n                },\n                x: {\n                    alignToPixels: true,\n                    max: 10,\n                    min: 0,\n                    ticks: {},\n                    grid: {\n                        display: true,\n                    },\n                    title: {\n                        display: true,\n                        text: t('mood_very_cold') + '     --------------------------     ' + t('mood_very_hot'),\n                    },\n                }\n            },\n            onHover: function (e: any) {\n                const point = e.chart.getElementsAtEventForMode(e, 'nearest', {intersect: true}, false)\n                if (point.length) e.native.target.style.cursor = 'grab'\n                else e.native.target.style.cursor = 'default'\n            },\n            animation: false,\n            plugins: {\n                dragData: {\n                    dragX: true,\n                    showTooltip: true,\n                    onDragStart: (e: any, element: any) => null,\n                    onDrag: (e: any, datasetIndex: any, index: number, value: number) => null,\n                    onDragEnd: (e: any, datasetIndex: any, index: number, value: { x: number, y: number, r: number }) => {\n                        e.target.style.cursor = 'default'\n                        props.onChange(value);\n                    },\n                    magnet: {\n                        to: (value: { x: number, y: number, r: number }) => ({\n                            x: Math.round(value.x),\n                            y: Math.round(value.y),\n                            r: value.r\n                        })\n                    },\n                },\n                legend: {\n                    display: false\n                },\n                tooltip: {\n                    enabled: false\n                }\n            }\n        }} height={100} width={100}/>\n}\n\nconst date = new Date().toISOString().slice(0, 10)\n\nfunction Mood(props: { backendService: BackendService }) {\n    const {Track} = useTracking({page: 'MoodPage'}, {dispatchOnMount: true});\n    const {t} = useTranslation()\n    const [success, setSuccess] = useSnackBar();\n    const [error, setError] = useSnackBar();\n    const [mood, setMood] = useState<{ x: number, y: number }>();\n\n    const {backendService} = props;\n\n    useEffect(() => {\n        backendService.getMood(date)\n            .then(setMood, (e) => {\n                setError(e);\n                setMood({x: 5, y: 5});\n            })\n            .catch(console.log);\n    }, [backendService, setError])\n\n    const onSaveClick = () => {\n        backendService.putMood(date, mood!)\n            .then(() => setSuccess(t('behavior_changes_saved')), setError)\n            .catch(console.log);\n    }\n\n    return <Track>\n        <DefaultAppBar title={t('card_mood_title')}>\n            <Button\n                color=\"inherit\"\n                onClick={onSaveClick}\n                startIcon={<SaveAlt/>}\n            >{t('save')}</Button>\n        </DefaultAppBar>\n        <Container maxWidth=\"sm\">\n            <Box py={3}>\n                <Typography variant=\"h5\" align=\"center\">{t('mood_please_select_mood')}</Typography>\n                <Card>\n                    {mood &&\n                    <CardContent>\n                        <DraggableGraph mood={mood} onChange={setMood}/>\n                    </CardContent>\n                    }\n                </Card>\n            </Box>\n\n        </Container>\n        <AlertSnackbar {...success} severity=\"success\"/>\n        <AlertSnackbar {...error} />\n    </Track>\n}\n\nexport default Mood;","import {Link, Redirect, Route, Switch} from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Verify from \"./Verify\";\nimport Logout from \"./Logout\";\nimport Upload from \"./Upload\";\nimport User from \"./User\";\nimport Power from \"./Power\";\nimport Archive from \"./Archive\";\nimport Consumers from \"./Consumers\";\nimport Behavior from \"./Behavior\";\nimport React, {useEffect, useState} from \"react\";\nimport Home from \"./Home\";\nimport Thermostats from \"./Thermostats\";\nimport BackendService from \"./service/BackendService\";\nimport {Box, Button, LinearProgress, Typography} from \"@material-ui/core\";\nimport DefaultBottomNavigation from \"./common/DefaultBottomNavigation\";\nimport Mood from \"./Mood\";\nimport {UserModel} from \"./service/Model\";\n\nexport const UserContext = React.createContext<UserModel | undefined>(undefined);\n\nconst ReactRouter = (props: { backendService: BackendService }) => {\n    const {backendService} = props;\n    const [isLoggedIn, setIsLoggedIn] = useState<boolean>();\n    const [user, setUser] = useState<UserModel>();\n\n    useEffect(() => {\n        backendService.isLoggedIn().subscribe((value) => setIsLoggedIn(value));\n    }, [backendService]);\n\n    useEffect(() => {\n        if (!isLoggedIn) {\n            setUser(undefined);\n        } else {\n            backendService.getUser()\n                .then(setUser)\n                .catch(console.error);\n        }\n    }, [isLoggedIn, backendService])\n\n    if (isLoggedIn == null) return (<LinearProgress/>)\n\n    const Page404 = (props: { path: string }) => (\n        <Box m={16} textAlign='center'>\n            <Typography variant=\"h1\">404</Typography>\n            <Typography variant=\"h5\">Page not found</Typography>\n            <Box m={2}>\n                <Button color=\"primary\" variant=\"contained\" component={Link} to={props.path}>Go home</Button>\n            </Box>\n        </Box>\n    );\n\n    const PublicPaths = () => (\n        <Switch>\n            <Route path=\"/verify\"><Verify backendService={backendService}/></Route>\n            <Route path=\"/login\"><Login backendService={backendService}/></Route>\n            <Route><Page404 path=\"/login\"/></Route>\n        </Switch>\n    );\n\n    const PrivatePaths = (props: { user: UserModel }) => {\n        const paths = {\n            logout: <Route path=\"/logout\"><Logout backendService={backendService}/></Route>,\n            upload: <Route path=\"/upload\"><Upload backendService={backendService}/></Route>,\n            user: <Route path=\"/user\"><User backendService={backendService}/></Route>,\n            power: <Route path=\"/power\"><Power backendService={backendService}/></Route>,\n            archive: <Route path=\"/archive\"><Archive backendService={backendService}/></Route>,\n            consumers: <Route path=\"/consumers\"><Consumers backendService={backendService}/></Route>,\n            behavior: <Route path=\"/behavior\"><Behavior backendService={backendService}/></Route>,\n            mood: <Route path=\"/mood\"><Mood backendService={backendService}/></Route>,\n            thermostats: <Route path=\"/thermostats\"><Thermostats/></Route>\n        }\n\n        const managementPaths = () => ([paths.upload]);\n        const homeOwnerPaths = () => ([\n            paths.upload,\n            paths.power,\n            paths.consumers,\n            paths.behavior,\n            paths.thermostats,\n            paths.mood\n        ]);\n\n        const studentPaths = () => ([\n            paths.archive,\n            paths.consumers,\n            paths.behavior,\n            paths.mood\n        ]);\n\n        const {user} = props;\n        return (<Switch>\n            {user.type === \"management\" && managementPaths()}\n            {user.type === \"student\" && studentPaths()}\n            {user.type === \"homeowner\" && homeOwnerPaths()}\n            <Route path=\"/logout\"><Logout backendService={backendService}/></Route>,\n            <Route path=\"/user\"><User backendService={backendService}/></Route>,\n            <Route exact path=\"/\"><Home/></Route>\n            <Route exact path={`${process.env.PUBLIC_URL}`}><Home/></Route>\n            <Route><Page404 path=\"/\"/></Route>\n        </Switch>);\n    }\n\n\n    return (\n        <UserContext.Provider value={user}>\n            {!isLoggedIn && <Redirect to=\"/login\"/>}\n            {!isLoggedIn && <PublicPaths/>}\n            {user && <PrivatePaths user={user}/>}\n            {isLoggedIn && (<DefaultBottomNavigation/>)}\n        </UserContext.Provider>\n    )\n}\n\nexport default ReactRouter;\n","import {AxiosRequestConfig, AxiosResponse} from 'axios';\nimport {Backend} from \"./Backend\";\nimport {\n    ConsumerModel,\n    LoginResponse,\n    MoodModel,\n    ProcessedConsumptionModel,\n    UserModel,\n    UserPredictionModel\n} from \"./Model\";\nimport {BehaviorSubject, map, Observable} from \"rxjs\";\n\nfunction unpack<T>(response: AxiosResponse<T>): T {\n    return response.data;\n}\n\nclass BackendService {\n    private readonly accessToken: BehaviorSubject<string | null>;\n    private readonly isLoggedInObservable: any;\n    private readonly backend: Backend;\n\n    constructor(backend: Backend) {\n        this.backend = backend;\n        this.accessToken = new BehaviorSubject(localStorage.getItem(\"token\"));\n        this.isLoggedInObservable = this.accessToken\n            .pipe(map((token) => token != null && token !== \"\"))\n\n        window.addEventListener('storage', () => {\n            const token = localStorage.getItem(\"token\");\n            if (token !== this.accessToken.value) {\n                this.accessToken.next(token)\n            }\n        })\n    }\n\n    isLoggedIn(): Observable<boolean> {\n        return this.isLoggedInObservable\n    }\n\n    requestPin(sharedPassword: string, email: string) {\n        return this.backend\n            .get('/request_pin', {params: {'shared_password': sharedPassword, 'email': email}});\n    }\n\n    login(email: string, password: string) {\n        return this.backend\n            .get<LoginResponse>('/login', {params: {'email': email, 'password': password}})\n            .then((response) => {\n                const {token} = response.data;\n                localStorage.setItem(\"token\", token);\n                this.accessToken.next(token)\n            });\n    }\n\n    logout(): Promise<any> {\n        localStorage.removeItem(\"token\");\n        return this.backend\n            .get('/logout', this.addAuth())\n            .finally(() => this.accessToken.next(null))\n    }\n\n    getUser(): Promise<UserModel> {\n        return this.backend\n            .get<UserModel>('/user', this.addAuth())\n            .then(unpack);\n    }\n\n    getConsumers(): Promise<ConsumerModel[]> {\n        return this.backend\n            .get<ConsumerModel[]>('/consumer', this.addAuth())\n            .then(unpack);\n    }\n\n    postConsumer(consumer_name: string) {\n        return this.backend\n            .post('/consumer', null, this.addAuth({params: {consumer_name: consumer_name}}))\n    }\n\n    putConsumer(consumer: ConsumerModel) {\n        return this.backend\n            .put('/consumer/' + consumer.consumerId, null, this.addAuth({\n                params: {\n                    consumer_name: consumer.customName,\n                    consumer_active: consumer.active\n                }\n            }))\n    }\n\n    removeConsumer(consumerId: String): Promise<AxiosResponse> {\n        return this.backend\n            .delete('/consumer/' + consumerId, this.addAuth())\n    }\n\n    getProcessedConsumptions(): Promise<string[]> {\n        return this.backend\n            .get<string[]>('/processedconsumption', this.addAuth())\n            .then(unpack);\n    }\n\n    getProcessedConsumption(date: string): Promise<ProcessedConsumptionModel[]> {\n        return this.backend\n            .get<ProcessedConsumptionModel[]>('/processedconsumption/' + date, this.addAuth())\n            .then(unpack);\n    }\n\n    getPredictions(): Promise<string[]> {\n        return this.backend\n            .get<string[]>('/predictions', this.addAuth())\n            .then(unpack);\n    }\n\n    getPrediction(date: string): Promise<UserPredictionModel[]> {\n        return this.backend\n            .get<UserPredictionModel[]>('/predictions/' + date, this.addAuth())\n            .then(unpack)\n    }\n\n    putPrediction(date: string, predictions: UserPredictionModel[]): Promise<AxiosResponse> {\n        return this.backend\n            .put('/predictions/' + date, {predictions: predictions}, this.addAuth())\n    }\n\n    putMood(date: string, mood: MoodModel): Promise<AxiosResponse> {\n        return this.backend\n            .put('/mood/' + date, {mood: mood}, this.addAuth())\n    }\n\n    getMood(date: string): Promise<MoodModel> {\n        return this.backend\n            .get('/mood/' + date, this.addAuth())\n            .then(unpack)\n    }\n\n    postConsumption(file: File) {\n        const formData = new FormData();\n        formData.append(\"upfile\", file, file.name)\n        return this.backend\n            .post('/consumption', formData, this.addAuth())\n    }\n\n    private addAuth(config?: AxiosRequestConfig): AxiosRequestConfig {\n        return {...config, headers: {Authorization: `${this.accessToken.value}`}}\n    }\n}\n\nexport default BackendService;\n","import {ConsumerModel} from \"./Model\";\n\nexport function getFakeDB() {\n    let db = localStorage.getItem(\"fake_db\");\n    if (db == null) {\n        db = JSON.stringify({\n                location: {\n                    \"location_1\": {\n                        name: \"greenbox COOLCITY\"\n                    }\n                },\n                user: {\n                    \"user@test.com\": {\n                        userId: 'user1',\n                        email: 'user@test.com',\n                        location: 'greenbox COOLCITY',\n                        type: 'student',\n                    },\n                    \"faulty@test.com\": {\n                        userId: 'faulty',\n                        email: 'faulty@test.com',\n                        location: 'greenbox COOLCITY',\n                        type: 'student',\n                    },\n                    \"management@test.com\": {\n                        userId: 'user3',\n                        email: 'management@test.com',\n                        location: 'location_1',\n                        type: 'management',\n                    },\n                    \"homeowner@test.com\": {\n                        userId: 'user4',\n                        email: 'homeowner@test.com',\n                        location: 'location_1',\n                        type: 'homeowner',\n                    }\n                },\n                consumer: {\n                    \"user@test.com\":\n                        [\n                            {name: {'de': \"Wsche\", 'en': \"Laundry\"}, type: 'laundry'},\n                            {name: {'de': \"Kochen\", 'en': \"Cooking\"}, type: 'cooking'},\n                            {name: {'de': \"Splen\", 'en': \"Dishes\"}, type: 'dishes'},\n                            {name: {'de': \"Hygiene\", 'en': \"Hygiene\"}, type: 'hygiene'},\n                            {name: {'de': \"Entertainment\", 'en': \"Entertainment\"}, type: 'entertainment'},\n                            {name: {'de': \"Wellness\", 'en': \"Wellness\"}, type: 'wellness'},\n                            {name: {'de': \"Home-Office\", 'en': \"Home office\"}, type: 'homeoffice'},\n                            {name: {'de': \"E-Mobilitt\", 'en': \"E-Mobility\"}, type: 'emobility'},\n                            {name: {'de': \"Sonstiges\", 'en': \"Miscellaneous\"}, type: 'misc'},\n                            {name: {'de': \"Stromheizung/-khlung\", 'en': \"Air conditioning\"}, type: 'temperature'},\n                            {name: {'de': \"Gste\", 'en': \"Guests\"}, type: 'guests'},\n                        ].map((v, i) => ({\n                            consumerId: i.toString(),\n                            owner: '0',\n                            name: v.name,\n                            customName: undefined,\n                            type: v.type,\n                            active: true\n                        } as ConsumerModel))\n                },\n                processedConsumption: {\n                    \"user@test.com\":\n                        [\"01-01-2020\", \"02-01-2020\", \"03-01-2020\"].reduce((map: any, val: any) => {\n                            map[val] = [\"actual\", \"predicted\"].map((type) => ({\n                                \"type\": type,\n                                \"data\": [...Array(24)].map(() => Math.random() * 10)\n                            }));\n                            return map\n                        }, {})\n                },\n                predictions: {\n                    \"user@test.com\":\n                        [new Date(), new Date(Date.now() - 86400000 /*1 day*/)]\n                            .map((d) => d.toISOString().slice(0, 10))\n                            .reduce((map: any, val: any) => {\n                                map[val] = [...Array(10)].map((v, id) => ({\n                                    \"consumerId\": id.toString(),\n                                    \"data\": [...Array(24)].map(() => Math.random() < 0.5)\n                                }));\n                                return map\n                            }, {})\n                },\n                mood: {\n                    \"user@test.com\": {}\n                },\n                token: {\n                    \"fakeToken.thistokenisfake\": \"user@test.com\",\n                    \"fakeToken.thistokenisfake3\": \"management@test.com\",\n                    \"fakeToken.thistokenisfake4\": \"homeowner@test.com\",\n                    \"fakeToken.thistokenisfake5\": \"faulty@test.com\"\n                }\n            }\n        );\n        localStorage.setItem(\"fake_db\", db);\n    }\n\n    return JSON.parse(db);\n}\n\nexport function resetFakeDB() {\n    localStorage.removeItem(\"fake_db\")\n}\n\nexport function saveFakeDB(db: any) {\n    localStorage.setItem(\"fake_db\", JSON.stringify(db))\n}\n","export interface Executor {\n    ok(data: {}): void\n\n    error(): void\n}\n\nexport class DefaultExecutor<R> implements Executor {\n    constructor(private resolve: (value: (PromiseLike<R> | R)) => void, private reject: (reason?: any) => void) {\n    }\n\n    ok(data: {}) {\n        console.log(\"Resolving call with OK\", data)\n        this.resolve({\n            data: data,\n            status: 200,\n            statusText: \"OK\",\n            headers: {},\n            config: {},\n            request: {}\n        } as any)\n    }\n\n    error() {\n        console.log(\"Resolving call with Error\")\n        this.reject({\n            response: {\n                data: {},\n                status: 400,\n                statusText: \"BAD REQUEST\",\n                headers: {},\n                config: {},\n                request: {}\n            }\n        })\n    }\n}\n\nexport class FaultyExecutor implements Executor {\n    constructor(private executor: Executor) {\n    }\n\n    ok(data: {}): void {\n        if (Math.random() > 0.3) this.executor.ok(data); else this.executor.error();\n    }\n\n    error() {\n        this.executor.error();\n    }\n}\n","import {Backend} from \"./Backend\";\nimport {AxiosRequestConfig, AxiosResponse} from \"axios\";\nimport {getFakeDB, resetFakeDB, saveFakeDB} from \"./FakeDB\";\nimport {DefaultExecutor, Executor, FaultyExecutor} from \"./Executor\";\nimport {v4 as uuidv4} from 'uuid';\nimport {ConsumerModel} from \"./Model\";\n\nfunction findInDict(dict: any, matcher: (value: any) => boolean): any {\n    for (let key in dict) {\n        if (matcher(dict[key])) {\n            return key;\n        }\n    }\n    return null;\n}\n\nclass FakeBackend implements Backend {\n    delete<T = any, R = AxiosResponse<T>>(url: string, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n            let e: Executor = new DefaultExecutor(resolve, reject);\n\n            console.log(`DELETE Fake backend call to ${url}`, config)\n            if (!config) return e.error();\n            const db = getFakeDB();\n\n            const token = config.headers.Authorization;\n            const user = db.token[token]\n            if (user == null) return e.error()\n            if (db.user[user].userId === \"faulty\") e = new FaultyExecutor(e);\n\n            if (url.includes('/consumer/')) {\n                const id = url.substring(url.lastIndexOf('/') + 1)\n                const index = db.consumer[user].findIndex((it: any) => it.consumerId.toString() === id.toString())\n                if (index < 0) return e.error()\n                db.consumer[user].splice(index, 1)\n\n                saveFakeDB(db)\n                return e.ok({})\n            }\n            return e.error()\n        })\n    }\n\n    get<T = any, R = AxiosResponse<T>>(url: string, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n            let e: Executor = new DefaultExecutor(resolve, reject);\n\n            console.log(`GET Fake backend call to ${url}`, config)\n            if (!config) return e.error();\n            const db = getFakeDB();\n\n            if (url.endsWith('/request_pin')) {\n                const {shared_password, email} = config.params;\n                if (shared_password === 'test' && db.user[email] != null) {\n                    return e.ok({})\n                }\n                return e.error()\n            } else if (url.endsWith('/login')) {\n                const {email, password} = config.params;\n                const user = db.user[email]\n                if (user != null && password === \"123456\") {\n                    return e.ok({token: findInDict(db.token, (v: string) => v === email)})\n                }\n                return e.error()\n            }\n            const token = config.headers.Authorization;\n            const user = db.token[token]\n            if (user == null) return e.error();\n            if (db.user[user].userId === \"faulty\") e = new FaultyExecutor(e);\n\n            if (url.endsWith('/logout')) {\n                resetFakeDB()\n                e.ok({})\n            } else if (url.endsWith('/user')) {\n                e.ok(db.user[user])\n            } else if (url.endsWith('/consumer')) {\n                e.ok(db.consumer[user])\n            } else if (url.endsWith('/processedconsumption')) {\n                e.ok(Object.keys(db.processedConsumption[user]))\n            } else if (url.includes('/processedconsumption/')) {\n                const index = url.substring(url.lastIndexOf('/') + 1)\n                e.ok(db.processedConsumption[user][index])\n            } else if (url.endsWith('/predictions')) {\n                e.ok(Object.keys(db.predictions[user]))\n            } else if (url.includes('/predictions/')) {\n                const index = url.substring(url.lastIndexOf('/') + 1)\n                e.ok(db.predictions[user][index] ?? [])\n            } else if (url.includes('/mood/')) {\n                const index = url.substring(url.lastIndexOf('/') + 1)\n                e.ok(db.mood[user][index] ?? {x: 5, y: 5})\n            } else {\n                e.error()\n            }\n\n        })\n    }\n\n    post<T = any, R = AxiosResponse<T>>(url: string, data?: any, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n            let e: Executor = new DefaultExecutor(resolve, reject);\n\n            console.log(`POST Fake backend call to ${url}`, config)\n            if (!config) return e.error();\n            const db = getFakeDB();\n\n            const token = config.headers.Authorization;\n            const user = db.token[token]\n            if (user == null) return e.error()\n            if (db.user[user].userId === \"faulty\") e = new FaultyExecutor(e);\n\n            if (url.endsWith('/consumer')) {\n                const {consumer_name} = config.params;\n                if (consumer_name == null) return e.error();\n                db.consumer[user].push({\n                    consumerId: uuidv4(),\n                    owner: '0',\n                    customName: consumer_name,\n                    type: 'misc',\n                    active: true\n                } as ConsumerModel);\n                saveFakeDB(db)\n                return e.ok({});\n            }\n\n            return e.error();\n        })\n    }\n\n    put<T = any, R = AxiosResponse<T>>(url: string, data?: any, config?: AxiosRequestConfig): Promise<R> {\n        return new Promise<R>((resolve, reject) => {\n            let e: Executor = new DefaultExecutor(resolve, reject);\n            console.log(`PUT Fake backend call to ${url}`, config)\n            if (!config) return e.error();\n            const db = getFakeDB();\n            const token = config.headers.Authorization;\n            const user = db.token[token]\n            if (user == null) return e.error()\n            if (db.user[user].userId === \"faulty\") e = new FaultyExecutor(e);\n\n            const id = url.split('/').pop()\n            if (id == null) return e.error()\n\n            if (url.startsWith('/consumer')) {\n                const {consumer_name, consumer_active} = config.params;\n                meldArrayElement(db.consumer[user],\n                    (c: ConsumerModel) => c.consumerId.toString() === id.toString(),\n                    {customName: consumer_name, active: consumer_active}\n                )\n                saveFakeDB(db);\n\n                return e.ok({})\n            } else if (url.startsWith('/predictions')) {\n                const date = url.substring(url.lastIndexOf('/') + 1)\n                db.predictions[user][date] = data['predictions'];\n                saveFakeDB(db);\n\n                return e.ok({})\n            } else if (url.startsWith('/mood')) {\n                const date = url.substring(url.lastIndexOf('/') + 1)\n                db.mood[user][date] = data['mood'];\n                saveFakeDB(db);\n\n                return e.ok({})\n            }\n\n            e.error()\n        })\n    }\n}\n\nfunction meldArrayElement(array: any, elementMatcher: any, changes: any) {\n    const consumerIndex = array.findIndex(elementMatcher)\n    array[consumerIndex] = {...array[consumerIndex], ...changes}\n}\n\nexport default FakeBackend;\n","import axios from \"axios\";\nimport FakeBackend from \"./service/FakeBackend\";\nimport {Backend} from \"./service/Backend\";\n\nexport interface Config {\n    backend: Backend,\n    type: string,\n    apiDescription: string\n}\n\nconst dev = {\n    backend: axios.create({baseURL: process.env.REACT_APP_API_BASE_URL}),\n    type: 'development',\n    apiDescription: process.env.REACT_APP_API_BASE_URL\n}\n\nconst prod = {\n    backend: axios.create({baseURL: process.env.REACT_APP_API_BASE_URL}),\n    type: 'production',\n    apiDescription: process.env.REACT_APP_API_BASE_URL\n}\n\nconst local = {\n    backend: new FakeBackend(),\n    type: 'local',\n    apiDescription: 'fakeApi'\n}\n\nlet backendConfig;\nif (process.env.REACT_APP_STAGE === 'production') {\n    backendConfig = prod;\n} else if (process.env.REACT_APP_STAGE === 'local') {\n    backendConfig = local;\n} else {\n    backendConfig = dev;\n}\n\nconst config = {\n    ...backendConfig\n}\nexport default config;\n","import React, {useMemo} from \"react\";\nimport {createTheme, CssBaseline, LinearProgress, ThemeOptions, ThemeProvider, useMediaQuery,} from \"@material-ui/core\";\nimport ReactRouter from \"./Routes\";\nimport BackendService from \"./service/BackendService\";\nimport Config from \"./Config\";\nimport {lightGreen} from \"@material-ui/core/colors\";\nimport {useTracking} from \"react-tracking\";\n\nconst backendService = new BackendService(Config.backend);\n\nfunction App() {\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n\n    const theme: ThemeOptions = useMemo(() => createTheme({\n        palette: {\n            type: prefersDarkMode ? 'dark' : 'light',\n            primary: {\n                main: lightGreen[600],\n                contrastText: '#fff'\n            },\n            secondary: {\n                main: lightGreen[400]\n            },\n        },\n        props: {\n            MuiGrid: {\n                spacing: 1\n            },\n            MuiCard: {\n                variant: \"outlined\"\n            },\n        },\n        overrides: {\n            MuiFab: {\n                root: {\n                    position: 'fixed',\n                    bottom: '10px',\n                    right: '10px',\n                    // When bottom bar is shown, raise FAB position\n                    '@media (max-width:599.95px)': {\n                        bottom: '70px'\n                    }\n                }\n            },\n            MuiSnackbar: {\n                anchorOriginBottomCenter: {\n                    // When bottom bar is shown, raise Snackbar position\n                    '@media (max-width:599.95px)': {\n                        bottom: '70px'\n                    }\n                }\n            }\n        },\n    }), [prefersDarkMode]);\n\n    const { Track } = useTracking({}, { dispatch: data => console.log(\"Tracking: \", data) });\n\n    return (\n        <ThemeProvider theme={theme}>\n            <CssBaseline/>\n            <React.Suspense fallback={<LinearProgress/>}>\n                <Track>\n                    <ReactRouter backendService={backendService}/>\n                </Track>\n            </React.Suspense>\n        </ThemeProvider>\n    );\n}\n\nexport default App;\n","import i18n from 'i18next';\nimport {initReactI18next} from 'react-i18next';\nimport resourcesToBackend from 'i18next-resources-to-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\ni18n\n    .use(resourcesToBackend((language, namespace, callback) => {\n        import(`./locales/${language}/${namespace}.json`)\n            .then((resources) => {\n                callback(null, resources)\n            })\n            .catch((error) => {\n                callback(error, null)\n            })\n    }))\n    .use(LanguageDetector)\n    .use(initReactI18next)\n    .init({\n        /*debug: true,*/\n        fallbackLng: 'en',\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        },\n        backend: {\n            // for all available options read the backend's repository readme file\n            loadPath: `${process.env.PUBLIC_URL}/locales/{{lng}}/{{ns}}.json`\n        }\n    });\n\nexport default i18n;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {BrowserRouter as Router} from 'react-router-dom';\n\nimport React from 'react'\nimport './index.css';\nimport App from \"./App\";\nimport ReactDOM from 'react-dom';\nimport './i18n';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router basename={`${process.env.PUBLIC_URL}#`}>\n            <App/>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\n// FIXME change to register with v1.0\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}