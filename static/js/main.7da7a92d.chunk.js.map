{"version":3,"sources":["App.tsx","ApiClient.tsx","Login.tsx","Logout.tsx","PrivateRoute.tsx","Upload.tsx","User.tsx","Survey.tsx","Verify.tsx","Power.tsx","Archive.tsx","Consumers.tsx","Behavior.tsx","index.tsx"],"names":["useStyles","makeStyles","theme","card","borderColor","palette","secondary","main","root","flexGrow","media","minHeight","backgroundColor","largeIcon","fontSize","title","App","classes","Fragment","AppBar","position","Toolbar","Typography","variant","className","Button","color","href","Container","component","maxWidth","disableGutters","CssBaseline","Grid","container","spacing","subtitle","icon","destination","header","map","item","xs","xl","key","Card","CardActionArea","CardMedia","align","Icon","style","CardContent","noWrap","client","axios","create","baseURL","ApiClient","accessToken","email","isLoggedIn","this","localStorage","getItem","sharedPassword","setItem","get","params","then","password","response","removeItem","token","data","perform","consumer","put","consumerId","consumer_name","name","consumer_active","active","date","file","formData","FormData","append","post","url","config","headers","Authorization","method","responseType","resp","apiClient","Login","props","state","shared_password","handleSubmit","bind","e","preventDefault","console","log","requestPin","history","push","paper","Avatar","avatar","form","onSubmit","TextField","id","label","margin","value","onChange","setState","target","required","fullWidth","autoComplete","type","submit","React","Component","withStyles","createStyles","marginTop","display","flexDirection","alignItems","width","Logout","useHistory","logout","finally","PrivateRoute","rest","isSignedIn","render","routeProps","to","pathname","from","location","Upload","open","onFormUpload","handleClose","event","files","postConsumption","reason","IconButton","edge","menuButton","aria-label","onClick","go","sm","gutterBottom","paragraph","List","link","op","ListItem","accept","input","htmlFor","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","message","action","size","marginRight","User","user","userId","creationDate","unlockDate","treatmentGroup","consumersCount","getUser","getConsumers","consumers","length","ListItemIcon","ListItemText","Fab","fab","extendedIcon","bottom","right","createItems","group","emailHash","crypto","update","digest","Survey","items","login","PowerEntry","getProcessedConsumption","consumptions","c","idx","time","flat","height","autoFit","shape","point","area","Power","dates","getProcessedConsumptions","index","ArchiveEntry","predictions","getPrediction","prediction","v","Archive","getPredictions","Consumers","consumerName","refresh","list","role","undefined","button","selectedConsumer","handleClickOpen","primary","ListItemSecondaryAction","putConsumer","handleChangeActive","arial-label","Dialog","aria-labelledby","DialogTitle","DialogContent","autoFocus","DialogActions","background","Behavior","createMuiTheme","light","dark","contrastText","ReactDOM","StrictMode","ThemeProvider","basename","process","path","Verify","exact","document","getElementById"],"mappings":"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","file":"static/js/main.7da7a92d.chunk.js","sourcesContent":["import React from 'react';\nimport {\n    AppBar,\n    Button,\n    Card,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Container,\n    CssBaseline,\n    Grid,\n    Theme,\n    Toolbar,\n    Typography\n} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Icon from \"@material-ui/core/Icon\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    card: {\n        borderColor: theme.palette.secondary.main,\n    },\n    root: {\n        flexGrow: 1,\n    },\n    media: {\n        minHeight: 120,\n        backgroundColor: theme.palette.secondary.main,\n    },\n    largeIcon: {\n        fontSize: \"8em\",\n    },\n    title: {\n        flexGrow: 1,\n    },\n}));\n\ninterface Item {\n    title: string;\n    subtitle: string;\n    icon: string;\n    destination: string;\n    header: boolean\n}\n\nfunction App() {\n    const classes = useStyles();\n    const items: Item[] = [\n        {\n            title: 'Upload',\n            subtitle: 'Upload energy consumption',\n            icon: 'cloud_upload',\n            destination: '/upload',\n            header: false\n        },\n        {\n            title: 'Behavior',\n            subtitle: 'My daily prediction',\n            icon: 'edit',\n            destination: '/behavior',\n            header: false\n        },\n        {\n            title: 'Power',\n            subtitle: 'My accuracy',\n            icon: 'show_chart',\n            destination: '/power',\n            header: false\n        },\n        {\n            title: 'Archive',\n            subtitle: 'My previous predictions',\n            icon: 'history',\n            destination: '/archive',\n            header: false\n        },\n        {\n            title: 'Surveys',\n            subtitle: 'My surveys',\n            icon: 'assignment',\n            destination: '/survey',\n            header: false\n        },\n        {\n            title: 'My Data',\n            subtitle: 'Edit my data',\n            icon: 'person',\n            destination: '/user',\n            header: false\n        },\n    ];\n\n    function createCard(item: Item) {\n        return (\n            <Grid item xs={item.header ? 12 : 6} xl={item.header ? 12 : 4} key={item.title}>\n                <Card variant=\"outlined\" className={classes.card}>\n                    <CardActionArea href={item.destination}>\n                        <CardMedia className={classes.media}>\n                            <Typography align='center'>\n                                <Icon className={classes.largeIcon} style={{color: '#fff'}}>{item.icon}</Icon>\n                            </Typography>\n                        </CardMedia>\n                        <CardContent>\n                            <Typography variant=\"h6\">{item.title}</Typography>\n                            <Typography color=\"textSecondary\" noWrap>{item.subtitle}</Typography>\n                        </CardContent>\n                    </CardActionArea>\n                </Card>\n            </Grid>\n        )\n    }\n\n    return (\n        <React.Fragment>\n            <AppBar position=\"sticky\">\n                <Toolbar>\n                    <Typography variant=\"h6\" className={classes.title}>GameOpSysApp</Typography>\n                    <Button color=\"inherit\" href=\"/logout\">Logout</Button>\n                </Toolbar>\n            </AppBar>\n            <Container component=\"main\" maxWidth=\"lg\" disableGutters className={classes.root}>\n                <CssBaseline/>\n                <Grid container spacing={1}>{items.map(createCard)}</Grid>\n            </Container>\n        </React.Fragment>\n\n    );\n}\n\nexport default App;\n","import axios, {AxiosRequestConfig, AxiosResponse} from 'axios';\n\nconst BASE_URI = 'https://it035137.uni-graz.at:443/v2/';\n\nconst client = axios.create({baseURL: BASE_URI});\n\ninterface LoginResponse {\n    token: string;\n}\n\nexport interface UserModel {\n    userId: string;\n    email: string;\n    type: string;\n    creationDate: string;\n    unlockDate: string;\n    treatmentGroup: string;\n}\n\nexport interface ConsumerModel {\n    consumerId: string;\n    owner: string;\n    name: string;\n    variableName: string;\n    active: boolean;\n}\n\nexport interface UserPredictionModel {\n    consumerId: string;\n    data: boolean[];\n}\n\nexport interface ProcessedConsumptionModel {\n    type: string;\n    data: number[];\n}\n\n\nclass ApiClient {\n    private accessToken: string;\n    private email: string;\n    isLoggedIn: boolean;\n\n    constructor() {\n        this.accessToken = localStorage.getItem(\"token\") || \"\";\n        this.email = localStorage.getItem(\"email\") || \"\";\n        this.isLoggedIn = this.accessToken !== \"\";\n    }\n\n    async requestPin(sharedPassword: string, email: string) {\n        localStorage.setItem(\"email\", email);\n        return this.get('/request_pin', {params: {'shared_password': sharedPassword, 'email': email}}).then(() => {\n            localStorage.setItem(\"email\", email);\n        });\n    }\n\n    async login(password: string) {\n        const email = localStorage.getItem(\"email\");\n        return this.get<LoginResponse>('/login', {params: {'email': email, 'password': password}}).then((response) => {\n            localStorage.removeItem(\"email\");\n            const token = response.data.token;\n            this.accessToken = token;\n            localStorage.setItem(\"token\", token);\n        });\n    }\n\n    async logout() {\n        localStorage.removeItem(\"token\");\n        return this.perform('/logout');\n        //axios.get()\n    }\n\n    async getUser(): Promise<UserModel> {\n        return this.get<UserModel>('/user').then((response) => {\n            return response.data\n        });\n    }\n\n    async getConsumers(): Promise<ConsumerModel[]> {\n        return this.get<ConsumerModel[]>('/consumer').then((response) => {\n            return response.data;\n        });\n    }\n\n    async putConsumer(consumer: ConsumerModel) {\n        return this.put('/consumer/' + consumer.consumerId, null, {\n            params: {\n                consumer_name: consumer.name,\n                consumer_active: consumer.active\n            }\n        })\n    }\n\n    async getProcessedConsumptions(): Promise<string[]> {\n        return this.get<string[]>('/processedconsumption').then((response) => {\n            return response.data;\n        });\n    }\n\n    async getProcessedConsumption(date: string): Promise<ProcessedConsumptionModel[]> {\n        return this.get<ProcessedConsumptionModel[]>('/processedconsumption/' + date).then((response) => {\n            return response.data;\n        });\n    }\n\n    async getPredictions(): Promise<string[]> {\n        return this.get<string[]>('/predictions').then((response) => {\n            return response.data;\n        });\n    }\n\n    async getPrediction(date: string): Promise<UserPredictionModel[]> {\n        return this.get<UserPredictionModel[]>('/predictions/' + date).then((response) => {\n            return response.data;\n        })\n    }\n\n    async postConsumption(file: File) {\n        const formData = new FormData();\n        formData.append(\"upfile\", file, file.name)\n        return this.post('/consumption', formData)\n    }\n\n    private async get<T, R = AxiosResponse<T>>(url: string, config?: AxiosRequestConfig): Promise<R> {\n        return client.get(url, {...config, headers: {Authorization: `${this.accessToken}`}})\n    }\n\n    private async post<T, R = AxiosResponse<T>>(url: string, formData: FormData, config?: AxiosRequestConfig): Promise<R> {\n        return client.post(url, formData, {...config, headers: {Authorization: `${this.accessToken}`}})\n    }\n\n    private async put<T, R = AxiosResponse<T>>(url: string, data: any, config?: AxiosRequestConfig): Promise<R> {\n        return client.put(url, data, {...config, headers: {Authorization: `${this.accessToken}`}})\n    }\n\n    private async perform<T = any>(url?: string, params?: any) {\n        return client({\n            method: 'get',\n            url: url,\n            params: params,\n            headers: {\n                Authorization: `${this.accessToken}`\n            },\n            responseType: 'json'\n        }).then(resp => {\n            return resp.data ? resp.data : [];\n        })\n    }\n}\n\nexport const apiClient = new ApiClient();\nexport default ApiClient;","import React from 'react';\nimport {\n    Avatar,\n    Button,\n    Container,\n    createStyles,\n    CssBaseline,\n    TextField,\n    Theme,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {apiClient} from \"./ApiClient\";\nimport {RouteComponentProps} from 'react-router-dom';\n\nconst styles = ({palette, spacing}: Theme) => createStyles({\n    paper: {\n        marginTop: spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: spacing(1),\n        backgroundColor: palette.secondary.main,\n    },\n    form: {\n        width: '100%',\n        marginTop: spacing(1),\n    },\n    submit: {\n        margin: spacing(3, 0, 2),\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n}\n\ninterface State {\n    shared_password: string;\n    email: string;\n}\n\nclass Login extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            shared_password: '',\n            email: ''\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleSubmit(e: React.FormEvent) {\n        e.preventDefault();\n        console.log(\"onSubmit!!!\");\n        apiClient.requestPin(this.state.shared_password, this.state.email)\n            .then(() => {\n                this.props.history.push('/verify')\n            })\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <Container component=\"main\" maxWidth=\"xs\">\n                <CssBaseline/>\n                <div className={classes.paper}>\n                    <Avatar className={classes.avatar}/>\n                    <Typography component=\"h1\" variant=\"h5\">Sign in</Typography>\n                    <form className={classes.form} onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"shared_password\"\n                            label=\"Shared password\"\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            value={this.state.shared_password}\n                            onChange={(e) => this.setState({shared_password: e.target.value})}\n                            required\n                            fullWidth\n                        />\n                        <TextField\n                            autoComplete=\"email\"\n                            id=\"email\"\n                            label=\"Email address\"\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            value={this.state.email}\n                            onChange={(e) => this.setState({email: e.target.value})}\n                            required\n                            fullWidth\n                        />\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.submit}\n                        >\n                            Send verification code\n                        </Button>\n                    </form>\n                </div>\n            </Container>\n        );\n    }\n}\n\nexport default withStyles(styles)(Login);\n","import React from 'react';\nimport {useHistory} from 'react-router-dom';\nimport {apiClient} from \"./ApiClient\";\n\n\nfunction Logout() {\n    const history = useHistory();\n\n    apiClient.logout().finally(() => {\n        history.push(\"/login\");\n    })\n    return (<div/>)\n}\n\nexport default Logout;\n","import * as React from 'react';\nimport {\n    Route,\n    Redirect,\n    RouteProps,\n} from 'react-router-dom';\nimport {apiClient} from \"./ApiClient\";\n\ninterface PrivateRouteProps extends RouteProps {\n    // tslint:disable-next-line:no-any\n    component: any;\n}\n\nconst PrivateRoute = (props: PrivateRouteProps) => {\n    const { component: Component, ...rest } = props;\n    const isSignedIn = apiClient.isLoggedIn;\n    return (\n        <Route\n            {...rest}\n            render={(routeProps) =>\n                isSignedIn ? (\n                    <Component {...routeProps} />\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: '/login',\n                            state: { from: routeProps.location }\n                        }}\n                    />\n                )\n            }\n        />\n    );\n};\n\nexport default PrivateRoute;","import React from 'react';\nimport {\n    AppBar,\n    Button,\n    Container, createStyles,\n    Grid,\n    IconButton, List, ListItem, Snackbar,\n    Theme,\n    Toolbar,\n    Typography, WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {RouteComponentProps} from \"react-router-dom\";\nimport {apiClient} from \"./ApiClient\";\n\nconst styles = (theme: Theme) => createStyles({\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n    input: {\n        display: 'none',\n    },\n});\n\ninterface Operator {\n    name: string;\n    link: string;\n}\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n}\n\ninterface State {\n    open: boolean\n}\n\nclass Upload extends React.Component<Props, State> {\n\n    constructor(props: Readonly<Props>) {\n        super(props);\n        this.state = {\n            open: false\n        }\n        this.onFormUpload = this.onFormUpload.bind(this)\n        this.handleClose = this.handleClose.bind(this)\n    }\n\n    onFormUpload(event: React.ChangeEvent<HTMLInputElement>) {\n        if (event.target != null && event.target.files != null) {\n            apiClient.postConsumption(event.target.files[0]).then(() => {\n                console.log(\"File uploaded.\")\n                this.setState({open: true})\n            });\n        }\n    }\n\n    handleClose (event: React.SyntheticEvent | React.MouseEvent, reason?: string) {\n        if (reason === 'clickaway') {\n            return;\n        }\n        this.setState({open: false});\n    }\n\n    render() {\n        const operators: Operator[] = [\n            {name: 'Netz Oberösterreich', link: 'https://netz-online.netzgmbh.at/eServiceWeb/main.html'},\n            {name: 'Netz Burgenland', link: 'https://smartmeter.netzburgenland.at'},\n            {name: 'Kärnten Netz', link: 'https://meinportal.kaerntennetz.at/meinPortal/Login.aspx?service=verbrauch'},\n        ]\n\n        const {classes} = this.props;\n        return (\n            <div>\n                <AppBar position=\"sticky\">\n                    <Toolbar>\n                        <IconButton\n                            edge=\"start\"\n                            className={classes.menuButton}\n                            color=\"inherit\"\n                            aria-label=\"back\"\n                            onClick={() => this.props.history.go(-1)}>\n                            <ArrowBackIcon/>\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title}>Upload</Typography>\n                    </Toolbar>\n                </AppBar>\n                <Container maxWidth=\"md\">\n                    <Grid container spacing={3}>\n                        <Grid item xs={12} sm={6}>\n                            <Typography variant=\"h5\" gutterBottom>1. Download most recent data</Typography>\n                            <Typography color=\"textSecondary\" paragraph>\n                                Please select your network operator to download the most recent consumption data\n                            </Typography>\n                            <List>\n                                {operators.map((op) => {\n                                    return (<ListItem key={op.name}><a href={op.link}>{op.name}</a></ListItem>)\n                                })}\n                            </List>\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <Typography variant=\"h5\" gutterBottom>2. Upload your consumption</Typography>\n                            <Typography color=\"textSecondary\" paragraph>\n                                Please upload the file with the most recent consumptions here\n                            </Typography>\n                            <input accept=\"*/*\" className={classes.input} id=\"input-file\" type=\"file\" onChange={this.onFormUpload}/>\n                            <label htmlFor=\"input-file\">\n                                <Button variant=\"contained\" color=\"primary\" fullWidth component=\"span\">Upload</Button>\n                            </label>\n                        </Grid>\n                    </Grid>\n                </Container>\n                <Snackbar\n                    anchorOrigin={{vertical: 'bottom', horizontal: 'left',}}\n                    open={this.state.open}\n                    autoHideDuration={6000}\n                    onClose={this.handleClose}\n                    message=\"File uploaded\"\n                    action={\n                        <React.Fragment>\n                            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={this.handleClose}>\n                                <CloseIcon fontSize=\"small\" />\n                            </IconButton>\n                        </React.Fragment>\n                    }\n                />\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Upload);\n","import React from 'react';\nimport {\n    AppBar,\n    Container,\n    createStyles,\n    Fab,\n    Icon,\n    IconButton,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    Theme,\n    Toolbar,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport {RouteComponentProps} from \"react-router-dom\";\nimport {apiClient, UserModel} from \"./ApiClient\";\n\nconst styles = ({palette, spacing}: Theme) => createStyles({\n    root: {\n        flexGrow: 1,\n    },\n    fab: {\n        position: 'absolute',\n        bottom: spacing(2),\n        right: spacing(2),\n    },\n    extendedIcon: {\n        marginRight: spacing(1),\n    },\n    menuButton: {\n        marginRight: spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n}\n\ninterface State {\n    user: UserModel;\n    consumersCount: number;\n}\n\nclass User extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            user: {\n                userId: '',\n                email: '',\n                type: '',\n                creationDate: '',\n                unlockDate: '',\n                treatmentGroup: ''\n            },\n            consumersCount: 0\n        };\n    }\n\n    componentDidMount() {\n        apiClient.getUser().then((user) => this.setState({user: user}));\n        apiClient.getConsumers().then((consumers) => this.setState({consumersCount: consumers.length}))\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <div className={classes.root}>\n                <AppBar position=\"sticky\">\n                    <Toolbar>\n                        <IconButton\n                            edge=\"start\"\n                            className={classes.menuButton}\n                            color=\"inherit\"\n                            aria-label=\"back\"\n                            onClick={() => this.props.history.go(-1)}\n                        >\n                            <ArrowBackIcon/>\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title}>User</Typography>\n                    </Toolbar>\n                </AppBar>\n                <Container maxWidth=\"md\">\n                    <List>\n                        <ListItem>\n                            <ListItemIcon><Icon>email</Icon></ListItemIcon>\n                            <ListItemText>{this.state.user.email}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon><Icon>power</Icon></ListItemIcon>\n                            <ListItemText>{this.state.consumersCount} consumers</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon><Icon>group</Icon></ListItemIcon>\n                            <ListItemText>{this.state.user.treatmentGroup}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon><Icon>access_time</Icon></ListItemIcon>\n                            <ListItemText>Created at {this.state.user.creationDate}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon/>\n                            <ListItemText>Unlocked at {this.state.user.unlockDate}</ListItemText>\n                        </ListItem>\n                        <ListItem>\n                            <ListItemIcon/>\n                            <ListItemText>Finished at</ListItemText>\n                        </ListItem>\n                    </List>\n                </Container>\n                <Fab variant=\"extended\" color=\"primary\" className={classes.fab} href=\"/consumers\">\n                    <Icon className={classes.extendedIcon}>edit</Icon>\n                    Edit consumers\n                </Fab>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(User);\n","import React from 'react';\nimport {\n    AppBar,\n    Card,\n    CardActionArea,\n    CardContent,\n    CardMedia,\n    Container,\n    createStyles,\n    CssBaseline,\n    Grid,\n    IconButton,\n    Theme,\n    Toolbar,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {RouteComponentProps} from 'react-router-dom';\nimport Icon from \"@material-ui/core/Icon\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {apiClient, UserModel} from \"./ApiClient\";\nimport * as crypto from 'crypto';\n\nconst styles = (theme: Theme) => createStyles({\n    card: {\n        borderColor: theme.palette.secondary.main,\n    },\n    root: {\n        flexGrow: 1,\n    },\n    media: {\n        minHeight: 120,\n        backgroundColor: theme.palette.secondary.main,\n    },\n    largeIcon: {\n        fontSize: \"8em\",\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n});\n\ninterface Item {\n    title: string;\n    destination: string;\n}\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n}\n\ninterface State {\n    items: Item[]\n}\n\nfunction createItems(user: UserModel): Item[] {\n    let group = user.treatmentGroup;\n    let emailHash = crypto.createHash('md5').update(user.email).digest(\"hex\");\n\n    return [\n        {\n            title: 'Survey 1',\n            destination: `https://ww3.unipark.de/uc/SOZPSY/7a37/?a=${emailHash}&b=${group}`,\n        },\n        {\n            title: 'Final survey',\n            destination: `https://ww3.unipark.de/uc/SOZPSY/96f2/?a=${emailHash}&b=${group}`,\n        },\n    ];\n}\n\nclass Survey extends React.Component<Props, State> {\n\n    constructor(props: Readonly<Props>) {\n        super(props);\n        this.state = {\n            items: []\n        }\n    }\n\n    componentDidMount() {\n        apiClient.getUser().then((user) => this.setState({items: createItems(user)}))\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        function createCard(item: Item) {\n            return (\n                <Grid item xs={6} xl={4} key={item.destination}>\n                    <Card variant=\"outlined\" className={classes.card}>\n                        <CardActionArea href={item.destination}>\n                            <CardMedia className={classes.media}>\n                                <Typography align='center'>\n                                    <Icon className={classes.largeIcon} style={{color: '#fff'}}>assignment</Icon>\n                                </Typography>\n                            </CardMedia>\n                            <CardContent>\n                                <Typography variant=\"h6\">{item.title}</Typography>\n                                <Typography color=\"textSecondary\" noWrap>Please fill out this survey</Typography>\n                            </CardContent>\n                        </CardActionArea>\n                    </Card>\n                </Grid>\n            )\n        }\n\n        return (\n            <React.Fragment>\n                <AppBar position=\"sticky\">\n                    <Toolbar>\n                        <IconButton\n                            edge=\"start\"\n                            className={classes.menuButton}\n                            color=\"inherit\"\n                            aria-label=\"back\"\n                            onClick={() => this.props.history.go(-1)}\n                        >\n                            <ArrowBackIcon/>\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title}>Surveys</Typography>\n                    </Toolbar>\n                </AppBar>\n                <Container component=\"main\" maxWidth=\"lg\" disableGutters>\n                    <CssBaseline/>\n                    <Grid container spacing={1}>\n                        {this.state.items.map(createCard)}\n                    </Grid>\n                </Container>\n            </React.Fragment>\n\n        );\n    }\n}\n\nexport default withStyles(styles)(Survey);\n","import React from 'react';\nimport {\n    Avatar,\n    Button,\n    Container,\n    createStyles,\n    CssBaseline,\n    TextField,\n    Theme,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {apiClient} from \"./ApiClient\";\nimport {RouteComponentProps} from \"react-router-dom\";\n\nconst styles = ({palette, spacing}: Theme) => createStyles({\n    paper: {\n        marginTop: spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: spacing(1),\n        backgroundColor: palette.secondary.main,\n    },\n    form: {\n        width: '100%',\n        marginTop: spacing(1),\n    },\n    submit: {\n        margin: spacing(3, 0, 2),\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n}\n\ninterface State {\n    password: string;\n}\n\nclass Login extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            password: ''\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleSubmit(e: React.FormEvent) {\n        e.preventDefault();\n        apiClient.login(this.state.password).then(() => {\n            this.props.history.push('/')\n        })\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <Container component=\"main\" maxWidth=\"xs\">\n                <CssBaseline/>\n                <div className={classes.paper}>\n                    <Avatar className={classes.avatar}/>\n                    <Typography component=\"h1\" variant=\"h5\">Sign in</Typography>\n                    <form className={classes.form} onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"otp\"\n                            label=\"Pin\"\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            value={this.state.password}\n                            onChange={(e) => this.setState({password: e.target.value})}\n                            required\n                            fullWidth\n                        />\n                        <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit}>Log in</Button>\n                    </form>\n                </div>\n            </Container>\n        );\n    }\n}\n\nexport default withStyles(styles)(Login);\n","import React from 'react';\nimport {\n    AppBar,\n    Card,\n    CardActionArea,\n    CardContent,\n    Container,\n    createStyles,\n    IconButton,\n    Theme,\n    Toolbar,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport {RouteComponentProps} from \"react-router-dom\";\nimport {apiClient} from \"./ApiClient\";\nimport {Chart, LineAdvance} from \"bizcharts\";\n\ninterface EntryProps {\n    date: string;\n}\n\ninterface ChartData {\n    type: string;\n    time: number;\n    value: number;\n}\n\ninterface EntryState {\n    data: ChartData[]\n}\n\nclass PowerEntry extends React.Component<EntryProps, EntryState> {\n    constructor(props: Readonly<EntryProps>) {\n        super(props);\n        this.state = {\n            data: []\n        }\n    }\n\n    componentDidMount() {\n        apiClient.getProcessedConsumption(this.props.date).then((consumptions) => {\n            this.setState({\n                data: consumptions.map((c) => {\n                    return c.data.map((value, idx) => {\n                        return {\n                            type: c.type,\n                            time: idx,\n                            value : value\n                        }\n                    })\n                }).flat()\n            })\n        })\n    }\n\n    render() {\n        return (\n            <Chart height={300} autoFit data={this.state.data}>\n                <LineAdvance\n                    shape=\"smooth\"\n                    point\n                    area\n                    position=\"time*value\"\n                    color=\"type\"\n                />\n            </Chart>\n        )\n    }\n}\n\nconst styles = ({palette, spacing}: Theme) => createStyles({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n    card: {\n        marginTop: spacing(2)\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n}\n\ninterface State {\n    dates: string[]\n}\n\nclass Power extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            dates: []\n        };\n    }\n\n    componentDidMount() {\n        apiClient.getProcessedConsumptions().then((response) => this.setState({dates: response}));\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <div className={classes.root}>\n                <AppBar position=\"sticky\">\n                    <Toolbar>\n                        <IconButton\n                            edge=\"start\"\n                            className={classes.menuButton}\n                            color=\"inherit\"\n                            aria-label=\"back\"\n                            onClick={() => this.props.history.go(-1)}\n                        >\n                            <ArrowBackIcon/>\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title}>Power</Typography>\n                    </Toolbar>\n                </AppBar>\n                <Container maxWidth=\"md\">\n                    {this.state.dates.map((value, index) => {\n                        return (\n                            <Card variant=\"outlined\" key={value} className={classes.card}>\n                                <CardActionArea href={'/power/' + value}>\n                                    <CardContent>\n                                        <Typography variant=\"h6\">{value}</Typography>\n                                        <PowerEntry date={value}/>\n                                    </CardContent>\n                                </CardActionArea>\n                            </Card>\n                        )\n                    })}\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Power);\n","import React from 'react';\nimport {\n    AppBar,\n    Card,\n    CardActionArea,\n    CardContent,\n    Container,\n    createStyles,\n    IconButton,\n    Theme,\n    Toolbar,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport {RouteComponentProps} from \"react-router-dom\";\nimport {apiClient, UserPredictionModel} from \"./ApiClient\";\n\ninterface EntryProps {\n    date: string;\n}\n\ninterface EntryState {\n    predictions: UserPredictionModel[];\n}\n\nclass ArchiveEntry extends React.Component<EntryProps, EntryState> {\n    constructor(props: Readonly<EntryProps>) {\n        super(props);\n        this.state = {\n            predictions: []\n        }\n    }\n\n    componentDidMount() {\n        apiClient.getPrediction(this.props.date).then((prediction) => this.setState({predictions: prediction}))\n    }\n\n    render() {\n        return (\n            <Card variant=\"outlined\">\n                <CardActionArea href={'/archive/' + this.props.date}>\n                    <CardContent>\n                        <Typography variant=\"h6\">{this.props.date}</Typography>\n                        {this.state.predictions.map((prediction) => {\n                            return (\n                                <Typography variant=\"body1\">\n                                    {prediction.data.map((v) => v ? '█' : '░')}\n                                </Typography>\n                            );\n                        })}\n                    </CardContent>\n                </CardActionArea>\n            </Card>\n        )\n    }\n}\n\nconst styles = ({spacing}: Theme) => createStyles({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n    card: {\n        marginTop: spacing(2)\n    },\n});\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n}\n\ninterface State {\n    dates: string[]\n}\n\nclass Archive extends React.Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            dates: []\n        };\n    }\n\n    componentDidMount() {\n        apiClient.getPredictions().then((response) => this.setState({dates: response}));\n    }\n\n    render() {\n        const {classes} = this.props;\n        return (\n            <div className={classes.root}>\n                <AppBar position=\"sticky\">\n                    <Toolbar>\n                        <IconButton\n                            edge=\"start\"\n                            className={classes.menuButton}\n                            color=\"inherit\"\n                            aria-label=\"back\"\n                            onClick={() => this.props.history.go(-1)}\n                        >\n                            <ArrowBackIcon/>\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title}>Predictions</Typography>\n                    </Toolbar>\n                </AppBar>\n                <Container maxWidth=\"md\">\n                    {this.state.dates.map((value, index) => {\n                        return (<ArchiveEntry date={value} key={value}/>)\n                    })}\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Archive);\n","import React from 'react';\nimport {\n    AppBar,\n    Button,\n    Container,\n    createStyles,\n    CssBaseline,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    List,\n    ListItem,\n    ListItemSecondaryAction,\n    ListItemText,\n    TextField,\n    Theme,\n    Toolbar,\n    Typography,\n    WithStyles\n} from \"@material-ui/core\";\nimport {RouteComponentProps} from 'react-router-dom';\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {apiClient, ConsumerModel} from \"./ApiClient\";\n\nconst styles = (theme: Theme) => createStyles({\n    card: {\n        borderColor: theme.palette.secondary.main,\n    },\n    list: {\n        backgroundColor: theme.palette.background.paper,\n    },\n    media: {\n        minHeight: 120,\n        backgroundColor: theme.palette.secondary.main,\n    },\n    largeIcon: {\n        fontSize: \"8em\",\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n});\n\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n}\n\ninterface State {\n    consumers: ConsumerModel[]\n    open: boolean\n    consumerName: string\n    selectedConsumer?: ConsumerModel\n}\n\nclass Consumers extends React.Component<Props, State> {\n\n    constructor(props: Readonly<Props>) {\n        super(props);\n        this.state = {\n            consumers: [],\n            open: false,\n            consumerName: \"\"\n        }\n\n        this.refresh = this.refresh.bind(this);\n    }\n\n    refresh() {\n        apiClient.getConsumers().then((consumers) => this.setState({consumers: consumers}))\n    }\n\n    componentDidMount() {\n        this.refresh()\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        const handleClickOpen = (consumer: ConsumerModel) => {\n            this.setState({consumerName: consumer.name, selectedConsumer: consumer, open: true})\n        };\n\n        const handleClose = () => {\n            this.setState({open: false})\n        };\n\n        const handleChangeName = () => {\n            const consumer = this.state.selectedConsumer;\n            if (consumer != null) {\n                apiClient.putConsumer({...consumer, name: this.state.consumerName}).then(this.refresh);\n                handleClose();\n            }\n        }\n\n        const handleChangeActive = (consumer: ConsumerModel) => {\n            apiClient.putConsumer({...consumer, active: !consumer.active}).then(this.refresh);\n        }\n\n        const ConsumerCard = (consumer: ConsumerModel) => {\n            return (\n                <ListItem key={consumer.consumerId} role={undefined} button onClick={() => handleClickOpen(consumer)}>\n                    <ListItemText primary={consumer.name}/>\n                    <ListItemSecondaryAction onClick={() => handleChangeActive(consumer)}>\n                        <IconButton edge=\"end\" arial-label=\"show or hide\">\n                            {consumer.active ? <VisibilityIcon/> : <VisibilityOffIcon/>}\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </ListItem>\n            )\n        };\n\n        return (\n            <React.Fragment>\n                <AppBar position=\"sticky\">\n                    <Toolbar>\n                        <IconButton\n                            edge=\"start\"\n                            className={classes.menuButton}\n                            color=\"inherit\"\n                            aria-label=\"back\"\n                            onClick={() => this.props.history.go(-1)}\n                        >\n                            <ArrowBackIcon/>\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title}>Consumers</Typography>\n                    </Toolbar>\n                </AppBar>\n                <Container maxWidth=\"sm\" disableGutters>\n                    <CssBaseline/>\n                    <List className={classes.list}>\n                        {this.state.consumers.map(ConsumerCard)}\n                    </List>\n                </Container>\n                <Dialog open={this.state.open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                    <DialogTitle id=\"form-dialog-title\">Change consumer</DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            autoFocus\n                            margin=\"dense\"\n                            id=\"name\"\n                            label=\"Consumer name\"\n                            fullWidth\n                            value={this.state.consumerName}\n                            onChange={(e) => this.setState({consumerName: e.target.value})}\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={handleChangeName} color=\"primary\">\n                            Rename\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withStyles(styles)(Consumers);\n","import React from 'react';\nimport {AppBar, Container, createStyles, IconButton, Theme, Toolbar, Typography, WithStyles} from \"@material-ui/core\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport {RouteComponentProps} from \"react-router-dom\";\n\nconst styles = (theme: Theme) => createStyles({\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n    input: {\n        display: 'none',\n    },\n});\n\n\ninterface Props extends WithStyles<typeof styles>, RouteComponentProps {\n}\n\ninterface State {\n}\n\nclass Behavior extends React.Component<Props, State> {\n    render() {\n        const {classes} = this.props;\n        return (\n            <div>\n                <AppBar position=\"sticky\">\n                    <Toolbar>\n                        <IconButton\n                            edge=\"start\"\n                            className={classes.menuButton}\n                            color=\"inherit\"\n                            aria-label=\"back\"\n                            onClick={() => this.props.history.go(-1)}>\n                            <ArrowBackIcon/>\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title}>Behavior</Typography>\n                    </Toolbar>\n                </AppBar>\n                <Container maxWidth=\"md\">\n                    <Typography variant=\"h4\">Not implemented</Typography>\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Behavior);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles';\n\nimport './index.css';\nimport App from \"./App\";\nimport Login from \"./Login\";\nimport Logout from \"./Logout\"\nimport PrivateRoute from \"./PrivateRoute\";\nimport Upload from \"./Upload\";\nimport User from \"./User\";\nimport Survey from \"./Survey\";\nimport Verify from \"./Verify\";\nimport Power from \"./Power\";\nimport Archive from \"./Archive\";\nimport Consumers from \"./Consumers\";\nimport Behavior from \"./Behavior\";\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#7cb342',\n            light: '#aee571',\n            dark: '#4b830d',\n            contrastText: '#fff'\n        },\n        secondary: {\n            main: '#9ccc65',\n            light: '#cfff95',\n            dark: '#6b9b37'\n        },\n    },\n});\n\nReactDOM.render((\n        <React.StrictMode>\n            <ThemeProvider theme={theme}>\n                <Router basename={process.env.PUBLIC_URL}>\n                    <Switch>\n                        <Route path=\"/login\" component={Login}/>\n                        <Route path=\"/verify\" component={Verify}/>\n                        <PrivateRoute path=\"/logout\" component={Logout}/>\n                        <PrivateRoute path=\"/upload\" component={Upload}/>\n                        <PrivateRoute path=\"/user\" component={User}/>\n                        <PrivateRoute path=\"/survey\" component={Survey}/>\n                        <PrivateRoute path=\"/power\" component={Power}/>\n                        <PrivateRoute path=\"/archive\" component={Archive}/>\n                        <PrivateRoute path=\"/consumers\" component={Consumers}/>\n                        <PrivateRoute path=\"/behavior\" component={Behavior}/>\n                        <PrivateRoute path=\"/\" exact component={App}/>\n                    </Switch>\n                </Router>\n            </ThemeProvider>\n        </React.StrictMode>\n    ), document.getElementById('root')\n);\n"],"sourceRoot":""}